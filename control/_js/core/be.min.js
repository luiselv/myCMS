/*! jQuery v1.7.2 jquery.com | jquery.org/license */
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cu(a){if(!cj[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){ck||(ck=c.createElement("iframe"),ck.frameBorder=ck.width=ck.height=0),b.appendChild(ck);if(!cl||!ck.createElement)cl=(ck.contentWindow||ck.contentDocument).document,cl.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),cl.close();d=cl.createElement(a),cl.body.appendChild(d),e=f.css(d,"display"),b.removeChild(ck)}cj[a]=e}return cj[a]}function ct(a,b){var c={};f.each(cp.concat.apply([],cp.slice(0,b)),function(){c[this]=a});return c}function cs(){cq=b}function cr(){setTimeout(cs,0);return cq=f.now()}function ci(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ch(){try{return new a.XMLHttpRequest}catch(b){}}function cb(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ca(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function b_(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bD.test(a)?d(a,e):b_(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&f.type(b)==="object")for(var e in b)b_(a+"["+e+"]",b[e],c,d);else d(a,b)}function b$(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function bZ(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bS,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bZ(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=bZ(a,c,d,e,"*",g));return l}function bY(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bO),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bB(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?1:0,g=4;if(d>0){if(c!=="border")for(;e<g;e+=2)c||(d-=parseFloat(f.css(a,"padding"+bx[e]))||0),c==="margin"?d+=parseFloat(f.css(a,c+bx[e]))||0:d-=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0;return d+"px"}d=by(a,b);if(d<0||d==null)d=a.style[b];if(bt.test(d))return d;d=parseFloat(d)||0;if(c)for(;e<g;e+=2)d+=parseFloat(f.css(a,"padding"+bx[e]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+bx[e]))||0);return d+"px"}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;b.nodeType===1&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?b.outerHTML=a.outerHTML:c!=="input"||a.type!=="checkbox"&&a.type!=="radio"?c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(f.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c,i[c][d])}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?+d:j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){if(typeof c!="string"||!c)return null;var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h,i){var j,k=d==null,l=0,m=a.length;if(d&&typeof d=="object"){for(l in d)e.access(a,c,l,d[l],1,h,f);g=1}else if(f!==b){j=i===b&&e.isFunction(f),k&&(j?(j=c,c=function(a,b,c){return j.call(e(a),c)}):(c.call(a,f),c=null));if(c)for(;l<m;l++)c(a[l],d,j?f.call(a[l],l,c(a[l],d)):f,i);g=1}return g?a:k?c.call(a):m?c(a[0],d):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test("Â ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m,n=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?n(g):h==="function"&&(!a.unique||!p.has(g))&&c.push(g)},o=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,j=!0,m=k||0,k=0,l=c.length;for(;c&&m<l;m++)if(c[m].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}j=!1,c&&(a.once?e===!0?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(c){var a=c.length;n(arguments),j?l=c.length:e&&e!==!0&&(k=a,o(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){j&&f<=l&&(l--,f<=m&&m--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&p.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(j?a.once||d.push([b,c]):(!a.once||!e)&&o(b,c));return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!i}};return p};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p=c.createElement("div"),q=c.documentElement;p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=p.getElementsByTagName("*"),e=p.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=p.getElementsByTagName("input")[0],b={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:p.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},f.boxModel=b.boxModel=c.compatMode==="CSS1Compat",i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete p.test}catch(r){b.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){b.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),i.setAttribute("name","t"),p.appendChild(i),j=c.createDocumentFragment(),j.appendChild(p.lastChild),b.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,j.removeChild(i),j.appendChild(p);if(p.attachEvent)for(n in{submit:1,change:1,focusin:1})m="on"+n,o=m in p,o||(p.setAttribute(m,"return;"),o=typeof p[m]=="function"),b[n+"Bubbles"]=o;j.removeChild(p),j=g=h=p=i=null,f(function(){var d,e,g,h,i,j,l,m,n,q,r,s,t,u=c.getElementsByTagName("body")[0];!u||(m=1,t="padding:0;margin:0;border:",r="position:absolute;top:0;left:0;width:1px;height:1px;",s=t+"0;visibility:hidden;",n="style='"+r+t+"5px solid #000;",q="<div "+n+"display:block;'><div style='"+t+"0;display:block;overflow:hidden;'></div></div>"+"<table "+n+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",d=c.createElement("div"),d.style.cssText=s+"width:0;height:0;position:static;top:0;margin-top:"+m+"px",u.insertBefore(d,u.firstChild),p=c.createElement("div"),d.appendChild(p),p.innerHTML="<table><tr><td style='"+t+"0;display:none'></td><td>t</td></tr></table>",k=p.getElementsByTagName("td"),o=k[0].offsetHeight===0,k[0].style.display="",k[1].style.display="none",b.reliableHiddenOffsets=o&&k[0].offsetHeight===0,a.getComputedStyle&&(p.innerHTML="",l=c.createElement("div"),l.style.width="0",l.style.marginRight="0",p.style.width="2px",p.appendChild(l),b.reliableMarginRight=(parseInt((a.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)===0),typeof p.style.zoom!="undefined"&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,b.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=p.offsetWidth!==3),p.style.cssText=r+s,p.innerHTML=q,e=p.firstChild,g=e.firstChild,i=e.nextSibling.firstChild.firstChild,j={doesNotAddBorder:g.offsetTop!==5,doesAddBorderForTableAndCells:i.offsetTop===5},g.style.position="fixed",g.style.top="20px",j.fixedPosition=g.offsetTop===20||g.offsetTop===15,g.style.position=g.style.top="",e.style.overflow="hidden",e.style.position="relative",j.subtractsBorderForOverflowNotVisible=g.offsetTop===-5,j.doesNotIncludeMarginInBodyOffset=u.offsetTop!==m,a.getComputedStyle&&(p.style.marginTop="1%",b.pixelMargin=(a.getComputedStyle(p,null)||{marginTop:0}).marginTop!=="1%"),typeof d.style.zoom!="undefined"&&(d.style.zoom=1),u.removeChild(d),l=p=d=null,f.extend(b,j))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h,i,j=this[0],k=0,m=null;if(a===b){if(this.length){m=f.data(j);if(j.nodeType===1&&!f._data(j,"parsedAttrs")){g=j.attributes;for(i=g.length;k<i;k++)h=g[k].name,h.indexOf("data-")===0&&(h=f.camelCase(h.substring(5)),l(j,h,m[h]));f._data(j,"parsedAttrs",!0)}}return m}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!";return f.access(this,function(c){if(c===b){m=this.triggerHandler("getData"+e,[d[0]]),m===b&&j&&(m=f.data(j,a),m=l(j,a,m));return m===b&&d[1]?this.data(d[0]):m}d[1]=c,this.each(function(){var b=f(this);b.triggerHandler("setData"+e,d),f.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1)},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){var d=2;typeof a!="string"&&(c=a,a="fx",d--);if(arguments.length<d)return f.queue(this[0],a);return c===b?this:this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise(c)}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,f.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,arguments.length>1)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h,i=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;i<g;i++)e=d[i],e&&(c=f.propFix[e]||e,h=u.test(e),h||f.attr(a,e,""),a.removeAttribute(v?e:c),h&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0,coords:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/(?:^|\s)hover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(
a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler,g=p.selector),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:g&&G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=f.event.special[c.type]||{},j=[],k,l,m,n,o,p,q,r,s,t,u;g[0]=c,c.delegateTarget=this;if(!i.preDispatch||i.preDispatch.call(this,c)!==!1){if(e&&(!c.button||c.type!=="click")){n=f(this),n.context=this.ownerDocument||this;for(m=c.target;m!=this;m=m.parentNode||this)if(m.disabled!==!0){p={},r=[],n[0]=m;for(k=0;k<e;k++)s=d[k],t=s.selector,p[t]===b&&(p[t]=s.quick?H(m,s.quick):n.is(t)),p[t]&&r.push(s);r.length&&j.push({elem:m,matches:r})}}d.length>e&&j.push({elem:this,matches:d.slice(e)});for(k=0;k<j.length&&!c.isPropagationStopped();k++){q=j[k],c.currentTarget=q.elem;for(l=0;l<q.matches.length&&!c.isImmediatePropagationStopped();l++){s=q.matches[l];if(h||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace))c.data=s.data,c.handleObj=s,o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g),o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()))}}i.postDispatch&&i.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),d._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9||d===11){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));o.match.globalPOS=p;var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.globalPOS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")[\\s/>]","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.access(this,function(a){return a===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f
.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(f.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(g){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,function(a,b){b.src?f.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||f.isXMLDoc(a)||!bc.test("<"+a.nodeName+">")?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g,h,i,j=[];b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);for(var k=0,l;(l=a[k])!=null;k++){typeof l=="number"&&(l+="");if(!l)continue;if(typeof l=="string")if(!_.test(l))l=b.createTextNode(l);else{l=l.replace(Y,"<$1></$2>");var m=(Z.exec(l)||["",""])[1].toLowerCase(),n=bg[m]||bg._default,o=n[0],p=b.createElement("div"),q=bh.childNodes,r;b===c?bh.appendChild(p):U(b).appendChild(p),p.innerHTML=n[1]+l+n[2];while(o--)p=p.lastChild;if(!f.support.tbody){var s=$.test(l),t=m==="table"&&!s?p.firstChild&&p.firstChild.childNodes:n[1]==="<table>"&&!s?p.childNodes:[];for(i=t.length-1;i>=0;--i)f.nodeName(t[i],"tbody")&&!t[i].childNodes.length&&t[i].parentNode.removeChild(t[i])}!f.support.leadingWhitespace&&X.test(l)&&p.insertBefore(b.createTextNode(X.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),q.length>0&&(r=q[q.length-1],r&&r.parentNode&&r.parentNode.removeChild(r)))}var u;if(!f.support.appendChecked)if(l[0]&&typeof (u=l.length)=="number")for(i=0;i<u;i++)bn(l[i]);else bn(l);l.nodeType?j.push(l):j=f.merge(j,l)}if(d){g=function(a){return!a.type||be.test(a.type)};for(k=0;j[k];k++){h=j[k];if(e&&f.nodeName(h,"script")&&(!h.type||be.test(h.type)))e.push(h.parentNode?h.parentNode.removeChild(h):h);else{if(h.nodeType===1){var v=f.grep(h.getElementsByTagName("script"),g);j.splice.apply(j,[k+1,0].concat(v))}d.appendChild(h)}}}return j},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bp=/alpha\([^)]*\)/i,bq=/opacity=([^)]*)/,br=/([A-Z]|^ms)/g,bs=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,bu=/^([\-+])=([\-+.\de]+)/,bv=/^margin/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Top","Right","Bottom","Left"],by,bz,bA;f.fn.css=function(a,c){return f.access(this,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)},a,c,arguments.length>1)},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=by(a,"opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bu.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(by)return by(a,c)},swap:function(a,b,c){var d={},e,f;for(f in b)d[f]=a.style[f],a.style[f]=b[f];e=c.call(a);for(f in b)a.style[f]=d[f];return e}}),f.curCSS=f.css,c.defaultView&&c.defaultView.getComputedStyle&&(bz=function(a,b){var c,d,e,g,h=a.style;b=b.replace(br,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),!f.support.pixelMargin&&e&&bv.test(b)&&bt.test(c)&&(g=h.width,h.width=c,c=e.width,h.width=g);return c}),c.documentElement.currentStyle&&(bA=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f==null&&g&&(e=g[b])&&(f=e),bt.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),by=bz||bA,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth!==0?bB(a,b,d):f.swap(a,bw,function(){return bB(a,b,d)})},set:function(a,b){return bs.test(b)?b+"px":b}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bq.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bp,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bp.test(g)?g.replace(bp,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){return b?by(a,"margin-right"):a.style.marginRight})}})}),f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)}),f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bx[d]+b]=e[d]||e[d-2]||e[0];return f}}});var bC=/%20/g,bD=/\[\]$/,bE=/\r?\n/g,bF=/#.*$/,bG=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bH=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bI=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bJ=/^(?:GET|HEAD)$/,bK=/^\/\//,bL=/\?/,bM=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bN=/^(?:select|textarea)/i,bO=/\s+/,bP=/([?&])_=[^&]*/,bQ=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bR=f.fn.load,bS={},bT={},bU,bV,bW=["*/"]+["*"];try{bU=e.href}catch(bX){bU=c.createElement("a"),bU.href="",bU=bU.href}bV=bQ.exec(bU.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bR)return bR.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bM,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bN.test(this.nodeName)||bH.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bE,"\r\n")}}):{name:b.name,value:c.replace(bE,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b$(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b$(a,b);return a},ajaxSettings:{url:bU,isLocal:bI.test(bV[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bW},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bY(bS),ajaxTransport:bY(bT),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?ca(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cb(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bG.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bF,"").replace(bK,bV[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bO),d.crossDomain==null&&(r=bQ.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bV[1]&&r[2]==bV[2]&&(r[3]||(r[1]==="http:"?80:443))==(bV[3]||(bV[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),bZ(bS,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bJ.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bL.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bP,"$1_="+x);d.url=y+(y===d.url?(bL.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bW+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=bZ(bT,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)b_(g,a[g],c,e);return d.join("&").replace(bC,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cc=f.now(),cd=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=typeof b.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(cd.test(b.url)||e&&cd.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(cd,l),b.url===j&&(e&&(k=k.replace(cd,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var ce=a.ActiveXObject?function(){for(var a in cg)cg[a](0,1)}:!1,cf=0,cg;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ch()||ci()}:ch,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,ce&&delete cg[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n);try{m.text=h.responseText}catch(a){}try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cf,ce&&(cg||(cg={},f(a).unload(ce)),cg[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cj={},ck,cl,cm=/^(?:toggle|show|hide)$/,cn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,co,cp=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cq;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(ct("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),(e===""&&f.css(d,"display")==="none"||!f.contains(d.ownerDocument.documentElement,d))&&f._data(d,"olddisplay",cu(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(ct("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(ct("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o,p,q;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]);if((k=f.cssHooks[g])&&"expand"in k){l=k.expand(a[g]),delete a[g];for(i in l)i in a||(a[i]=l[i])}}for(g in a){h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cu(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cm.test(h)?(q=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),q?(f._data(this,"toggle"+i,q==="show"?"hide":"show"),j[q]()):j[h]()):(m=cn.exec(h),n=j.cur(),m?(o=parseFloat(m[2]),p=m[3]||(f.cssNumber[i]?"":"px"),p!=="px"&&(f.style(this,i,(o||1)+p),n=(o||1)/j.cur()*n,f.style(this,i,n+p)),m[1]&&(o=(m[1]==="-="?-1:1)*o+n),j.custom(n,o,p)):j.custom(n,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:ct("show",1),slideUp:ct("hide",1),slideToggle:ct("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cq||cr(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){f._data(e.elem,"fxshow"+e.prop)===b&&(e.options.hide?f._data(e.elem,"fxshow"+e.prop,e.start):e.options.show&&f._data(e.elem,"fxshow"+e.prop,e.end))},h()&&f.timers.push(h)&&!co&&(co=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cq||cr(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(co),co=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(cp.concat.apply([],cp),function(a,b){b.indexOf("margin")&&(f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)})}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cv,cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?cv=function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(e){}if(!d||!f.contains(c,a))return d?{top:d.top,left:d.left}:{top:0,left:0};var g=b.body,h=cy(b),i=c.clientTop||g.clientTop||0,j=c.clientLeft||g.clientLeft||0,k=h.pageYOffset||f.support.boxModel&&c.scrollTop||g.scrollTop,l=h.pageXOffset||f.support.boxModel&&c.scrollLeft||g.scrollLeft,m=d.top+k-i,n=d.left+l-j;return{top:m,left:n}}:cv=function(a,b,c){var d,e=a.offsetParent,g=a,h=b.body,i=b.defaultView,j=i?i.getComputedStyle(a,null):a.currentStyle,k=a.offsetTop,l=a.offsetLeft;while((a=a.parentNode)&&a!==h&&a!==c){if(f.support.fixedPosition&&j.position==="fixed")break;d=i?i.getComputedStyle(a,null):a.currentStyle,k-=a.scrollTop,l-=a.scrollLeft,a===e&&(k+=a.offsetTop,l+=a.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(a.nodeName))&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),g=e,e=a.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),j=d}if(j.position==="relative"||j.position==="static")k+=h.offsetTop,l+=h.offsetLeft;f.support.fixedPosition&&j.position==="fixed"&&(k+=Math.max(c.scrollTop,h.scrollTop),l+=Math.max(c.scrollLeft,h.scrollLeft));return{top:k,left:l}},f.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){f.offset.setOffset(this,a,b)});var c=this[0],d=c&&c.ownerDocument;if(!d)return null;if(c===d.body)return f.offset.bodyOffset(c);return cv(c,d,d.documentElement)},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);f.fn[a]=function(e){return f.access(this,function(a,e,g){var h=cy(a);if(g===b)return h?c in h?h[c]:f.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:a[e];h?h.scrollTo(d?f(h).scrollLeft():g,d?g:f(h).scrollTop()):a[e]=g},a,e,arguments.length,null)}}),f.each({Height:"height",Width:"width"},function(a,c){var d="client"+a,e="scroll"+a,g="offset"+a;f.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,c,"padding")):this[c]():null},f.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,c,a?"margin":"border")):this[c]():null},f.fn[c]=function(a){return f.access(this,function(a,c,h){var i,j,k,l;if(f.isWindow(a)){i=a.document,j=i.documentElement[d];return f.support.boxModel&&j||i.body&&i.body[d]||j}if(a.nodeType===9){i=a.documentElement;if(i[d]>=i[e])return i[d];return Math.max(a.body[e],i[e],a.body[g],i[g])}if(h===b){k=f.css(a,c),l=parseFloat(k);return f.isNumeric(l)?l:k}f(a).css(c,h)},c,a,arguments.length,null)}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);
(function($){
	$.fn.fadeable = function(options){		
		var settings = {
			target: this,
			duration: 'fast'
		};
		$.extend(settings, options)		
		$(this).on('hover', function(event) {
			switch(event.type){
				case 'mouseenter':
					$(this).find(settings.target).stop().fadeTo(settings.duration,1);
					break;
				case 'mouseleave':
					$(this).find(settings.target).stop().fadeTo(settings.duration,0);
					break;
			}
		});
	}
})(jQuery);
(function($) {
  $.fn.fullBg = function(){
    var bgImg = $(this);		
 
    function resizeImg(show) {
      var imgwidth = bgImg.width();
      var imgheight = bgImg.height();
 
      var winwidth = $(window).width();
      var winheight = $(window).height();
 
      var widthratio = winwidth / imgwidth;
      var heightratio = winheight / imgheight;
 
      var widthdiff = heightratio * imgwidth;
      var heightdiff = widthratio * imgheight;
 
      if(heightdiff>winheight) {
        bgImg.css({
          width: winwidth+'px',
          height: heightdiff+'px'
        });
      } else {
        bgImg.css({
          width: widthdiff+'px',
          height: winheight+'px'
        });		
      }
      if(show){bgImg.fadeTo('slow',1);}
    } 
    resizeImg(true);
    $(window).resize(function() {
      resizeImg();
    }); 
  };
})(jQuery);
;/*
 * File:        jquery.dataTables.min.js
 * Version:     1.9.0
 * Author:      Allan Jardine (www.sprymedia.co.uk)
 * Info:        www.datatables.net
 * 
 * Copyright 2008-2012 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD style license, available at:
 *   http://datatables.net/license_gpl2
 *   http://datatables.net/license_bsd
 * 
 * This source file is distributed in the hope that it will be useful, but 
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 */
(function(i,aa,k,l){var j=function(e){function o(a,b){var c=j.defaults.columns,d=a.aoColumns.length,c=i.extend({},j.models.oColumn,c,{sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,nTh:b?b:k.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[d],mDataProp:c.mDataProp?c.oDefaults:d});a.aoColumns.push(c);if(a.aoPreSearchCols[d]===l||null===a.aoPreSearchCols[d])a.aoPreSearchCols[d]=i.extend({},j.models.oSearch);else{c=a.aoPreSearchCols[d];
if(c.bRegex===l)c.bRegex=!0;if(c.bSmart===l)c.bSmart=!0;if(c.bCaseInsensitive===l)c.bCaseInsensitive=!0}E(a,d,null)}function E(a,b,c){b=a.aoColumns[b];if(c!==l&&null!==c){if(c.sType!==l)b.sType=c.sType,b._bAutoType=!1;i.extend(b,c);n(b,c,"sWidth","sWidthOrig");if(c.iDataSort!==l)b.aDataSort=[c.iDataSort];n(b,c,"aDataSort")}b.fnGetData=V(b.mDataProp);b.fnSetData=sa(b.mDataProp);if(!a.oFeatures.bSort)b.bSortable=!1;if(!b.bSortable||-1==i.inArray("asc",b.asSorting)&&-1==i.inArray("desc",b.asSorting))b.sSortingClass=
a.oClasses.sSortableNone,b.sSortingClassJUI="";else if(b.bSortable||-1==i.inArray("asc",b.asSorting)&&-1==i.inArray("desc",b.asSorting))b.sSortingClass=a.oClasses.sSortable,b.sSortingClassJUI=a.oClasses.sSortJUI;else if(-1!=i.inArray("asc",b.asSorting)&&-1==i.inArray("desc",b.asSorting))b.sSortingClass=a.oClasses.sSortableAsc,b.sSortingClassJUI=a.oClasses.sSortJUIAscAllowed;else if(-1==i.inArray("asc",b.asSorting)&&-1!=i.inArray("desc",b.asSorting))b.sSortingClass=a.oClasses.sSortableDesc,b.sSortingClassJUI=
a.oClasses.sSortJUIDescAllowed}function r(a){if(!1===a.oFeatures.bAutoWidth)return!1;ba(a);for(var b=0,c=a.aoColumns.length;b<c;b++)a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}function s(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++)if(!0===a.aoColumns[d].bVisible&&c++,c==b)return d;return null}function t(a,b){for(var c=-1,d=0;d<a.aoColumns.length;d++)if(!0===a.aoColumns[d].bVisible&&c++,d==b)return!0===a.aoColumns[d].bVisible?c:null;return null}function v(a){for(var b=0,c=0;c<a.aoColumns.length;c++)!0===
a.aoColumns[c].bVisible&&b++;return b}function B(a){for(var b=j.ext.aTypes,c=b.length,d=0;d<c;d++){var f=b[d](a);if(null!==f)return f}return"string"}function D(a,b){for(var c=b.split(","),d=[],f=0,h=a.aoColumns.length;f<h;f++)for(var g=0;g<h;g++)if(a.aoColumns[f].sName==c[g]){d.push(g);break}return d}function x(a){for(var b="",c=0,d=a.aoColumns.length;c<d;c++)b+=a.aoColumns[c].sName+",";return b.length==d?"":b.slice(0,-1)}function I(a,b,c,d){var f,h,g,e,q;if(b)for(f=b.length-1;0<=f;f--){var m=b[f].aTargets;
i.isArray(m)||F(a,1,"aTargets must be an array of targets, not a "+typeof m);for(h=0,g=m.length;h<g;h++)if("number"===typeof m[h]&&0<=m[h]){for(;a.aoColumns.length<=m[h];)o(a);d(m[h],b[f])}else if("number"===typeof m[h]&&0>m[h])d(a.aoColumns.length+m[h],b[f]);else if("string"===typeof m[h])for(e=0,q=a.aoColumns.length;e<q;e++)("_all"==m[h]||i(a.aoColumns[e].nTh).hasClass(m[h]))&&d(e,b[f])}if(c)for(f=0,a=c.length;f<a;f++)d(f,c[f])}function G(a,b){var c;c=i.isArray(b)?b.slice():i.extend(!0,{},b);var d=
a.aoData.length;c=i.extend(!0,{},j.models.oRow,{_aData:c});a.aoData.push(c);for(var f,h=0,g=a.aoColumns.length;h<g;h++)if(c=a.aoColumns[h],"function"===typeof c.fnRender&&c.bUseRendered&&null!==c.mDataProp&&J(a,d,h,R(a,d,h)),c._bAutoType&&"string"!=c.sType&&(f=w(a,d,h,"type"),null!==f&&""!==f))if(f=B(f),null===c.sType)c.sType=f;else if(c.sType!=f&&"html"!=c.sType)c.sType="string";a.aiDisplayMaster.push(d);a.oFeatures.bDeferRender||ca(a,d);return d}function ta(a){var b,c,d,f,h,g,e,q,m;if(a.bDeferLoading||
null===a.sAjaxSource){e=a.nTBody.childNodes;for(b=0,c=e.length;b<c;b++)if("TR"==e[b].nodeName.toUpperCase()){q=a.aoData.length;e[b]._DT_RowIndex=q;a.aoData.push(i.extend(!0,{},j.models.oRow,{nTr:e[b]}));a.aiDisplayMaster.push(q);g=e[b].childNodes;h=0;for(d=0,f=g.length;d<f;d++)if(m=g[d].nodeName.toUpperCase(),"TD"==m||"TH"==m)J(a,q,h,i.trim(g[d].innerHTML)),h++}}e=S(a);g=[];for(b=0,c=e.length;b<c;b++)for(d=0,f=e[b].childNodes.length;d<f;d++)h=e[b].childNodes[d],m=h.nodeName.toUpperCase(),("TD"==m||
"TH"==m)&&g.push(h);for(f=0,e=a.aoColumns.length;f<e;f++){m=a.aoColumns[f];if(null===m.sTitle)m.sTitle=m.nTh.innerHTML;h=m._bAutoType;q="function"===typeof m.fnRender;var o=null!==m.sClass,r=m.bVisible,l,n;if(h||q||o||!r)for(b=0,c=a.aoData.length;b<c;b++){d=a.aoData[b];l=g[b*e+f];if(h&&"string"!=m.sType&&(n=w(a,b,f,"type"),""!==n))if(n=B(n),null===m.sType)m.sType=n;else if(m.sType!=n&&"html"!=m.sType)m.sType="string";if("function"===typeof m.mDataProp)l.innerHTML=w(a,b,f,"display");if(q)n=R(a,b,f),
l.innerHTML=n,m.bUseRendered&&J(a,b,f,n);o&&(l.className+=" "+m.sClass);r?d._anHidden[f]=null:(d._anHidden[f]=l,l.parentNode.removeChild(l));m.fnCreatedCell&&m.fnCreatedCell.call(a.oInstance,l,w(a,b,f,"display"),d._aData,b,f)}}if(0!==a.aoRowCreatedCallback.length)for(b=0,c=a.aoData.length;b<c;b++)d=a.aoData[b],C(a,"aoRowCreatedCallback",null,[d.nTr,d._aData,b])}function K(a,b){return b._DT_RowIndex!==l?b._DT_RowIndex:null}function da(a,b,c){for(var b=L(a,b),d=0,a=a.aoColumns.length;d<a;d++)if(b[d]===
c)return d;return-1}function W(a,b,c){for(var d=[],f=0,h=a.aoColumns.length;f<h;f++)d.push(w(a,b,f,c));return d}function w(a,b,c,d){var f=a.aoColumns[c];if((c=f.fnGetData(a.aoData[b]._aData,d))===l){if(a.iDrawError!=a.iDraw&&null===f.sDefaultContent)F(a,0,"Requested unknown parameter '"+f.mDataProp+"' from the data source for row "+b),a.iDrawError=a.iDraw;return f.sDefaultContent}if(null===c&&null!==f.sDefaultContent)c=f.sDefaultContent;else if("function"===typeof c)return c();return"display"==d&&
null===c?"":c}function J(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d)}function V(a){if(null===a)return function(){return null};if("function"===typeof a)return function(b,d){return a(b,d)};if("string"===typeof a&&-1!=a.indexOf(".")){var b=a.split(".");return function(a){for(var d=0,f=b.length;d<f;d++)if(a=a[b[d]],a===l)return l;return a}}return function(b){return b[a]}}function sa(a){if(null===a)return function(){};if("function"===typeof a)return function(b,d){a(b,"set",d)};if("string"===
typeof a&&-1!=a.indexOf(".")){var b=a.split(".");return function(a,d){for(var f=0,h=b.length-1;f<h;f++)a=a[b[f]];a[b[b.length-1]]=d}}return function(b,d){b[a]=d}}function X(a){for(var b=[],c=a.aoData.length,d=0;d<c;d++)b.push(a.aoData[d]._aData);return b}function ea(a){a.aoData.splice(0,a.aoData.length);a.aiDisplayMaster.splice(0,a.aiDisplayMaster.length);a.aiDisplay.splice(0,a.aiDisplay.length);z(a)}function fa(a,b){for(var c=-1,d=0,f=a.length;d<f;d++)a[d]==b?c=d:a[d]>b&&a[d]--; -1!=c&&a.splice(c,
1)}function R(a,b,c){var d=a.aoColumns[c];return d.fnRender({iDataRow:b,iDataColumn:c,oSettings:a,aData:a.aoData[b]._aData,mDataProp:d.mDataProp},w(a,b,c,"display"))}function ca(a,b){var c=a.aoData[b],d;if(null===c.nTr){c.nTr=k.createElement("tr");c.nTr._DT_RowIndex=b;if(c._aData.DT_RowId)c.nTr.id=c._aData.DT_RowId;c._aData.DT_RowClass&&i(c.nTr).addClass(c._aData.DT_RowClass);for(var f=0,h=a.aoColumns.length;f<h;f++){var g=a.aoColumns[f];d=k.createElement("td");d.innerHTML="function"===typeof g.fnRender&&
(!g.bUseRendered||null===g.mDataProp)?R(a,b,f):w(a,b,f,"display");if(null!==g.sClass)d.className=g.sClass;g.bVisible?(c.nTr.appendChild(d),c._anHidden[f]=null):c._anHidden[f]=d;g.fnCreatedCell&&g.fnCreatedCell.call(a.oInstance,d,w(a,b,f,"display"),c._aData,b,f)}C(a,"aoRowCreatedCallback",null,[c.nTr,c._aData,b])}}function ua(a){var b,c,d;if(0!==a.nTHead.getElementsByTagName("th").length)for(b=0,d=a.aoColumns.length;b<d;b++){if(c=a.aoColumns[b].nTh,c.setAttribute("role","columnheader"),a.aoColumns[b].bSortable&&
(c.setAttribute("tabindex",a.iTabIndex),c.setAttribute("aria-controls",a.sTableId)),null!==a.aoColumns[b].sClass&&i(c).addClass(a.aoColumns[b].sClass),a.aoColumns[b].sTitle!=c.innerHTML)c.innerHTML=a.aoColumns[b].sTitle}else{var f=k.createElement("tr");for(b=0,d=a.aoColumns.length;b<d;b++)c=a.aoColumns[b].nTh,c.innerHTML=a.aoColumns[b].sTitle,c.setAttribute("tabindex","0"),null!==a.aoColumns[b].sClass&&i(c).addClass(a.aoColumns[b].sClass),f.appendChild(c);i(a.nTHead).html("")[0].appendChild(f);T(a.aoHeader,
a.nTHead)}i(a.nTHead).children("tr").attr("role","row");if(a.bJUI)for(b=0,d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;f=k.createElement("div");f.className=a.oClasses.sSortJUIWrapper;i(c).contents().appendTo(f);var h=k.createElement("span");h.className=a.oClasses.sSortIcon;f.appendChild(h);c.appendChild(f)}if(a.oFeatures.bSort)for(b=0;b<a.aoColumns.length;b++)!1!==a.aoColumns[b].bSortable?ga(a,a.aoColumns[b].nTh,b):i(a.aoColumns[b].nTh).addClass(a.oClasses.sSortableNone);""!==a.oClasses.sFooterTH&&
i(a.nTFoot).children("tr").children("th").addClass(a.oClasses.sFooterTH);if(null!==a.nTFoot){c=O(a,null,a.aoFooter);for(b=0,d=a.aoColumns.length;b<d;b++)if(c[b])a.aoColumns[b].nTf=c[b],a.aoColumns[b].sClass&&i(c[b]).addClass(a.aoColumns[b].sClass)}}function U(a,b,c){var d,f,h,g=[],e=[],i=a.aoColumns.length,m;c===l&&(c=!1);for(d=0,f=b.length;d<f;d++){g[d]=b[d].slice();g[d].nTr=b[d].nTr;for(h=i-1;0<=h;h--)!a.aoColumns[h].bVisible&&!c&&g[d].splice(h,1);e.push([])}for(d=0,f=g.length;d<f;d++){if(a=g[d].nTr)for(;h=
a.firstChild;)a.removeChild(h);for(h=0,b=g[d].length;h<b;h++)if(m=i=1,e[d][h]===l){a.appendChild(g[d][h].cell);for(e[d][h]=1;g[d+i]!==l&&g[d][h].cell==g[d+i][h].cell;)e[d+i][h]=1,i++;for(;g[d][h+m]!==l&&g[d][h].cell==g[d][h+m].cell;){for(c=0;c<i;c++)e[d+c][h+m]=1;m++}g[d][h].cell.rowSpan=i;g[d][h].cell.colSpan=m}}}function y(a){var b,c,d=[],f=0,h=a.asStripeClasses.length;b=a.aoOpenRows.length;c=C(a,"aoPreDrawCallback","preDraw",[a]);if(-1===i.inArray(!1,c)){a.bDrawing=!0;if(a.iInitDisplayStart!==
l&&-1!=a.iInitDisplayStart)a._iDisplayStart=a.oFeatures.bServerSide?a.iInitDisplayStart:a.iInitDisplayStart>=a.fnRecordsDisplay()?0:a.iInitDisplayStart,a.iInitDisplayStart=-1,z(a);if(a.bDeferLoading)a.bDeferLoading=!1,a.iDraw++;else if(a.oFeatures.bServerSide){if(!a.bDestroying&&!va(a))return}else a.iDraw++;if(0!==a.aiDisplay.length){var g=a._iDisplayStart;c=a._iDisplayEnd;if(a.oFeatures.bServerSide)g=0,c=a.aoData.length;for(;g<c;g++){var e=a.aoData[a.aiDisplay[g]];null===e.nTr&&ca(a,a.aiDisplay[g]);
var q=e.nTr;if(0!==h){var m=a.asStripeClasses[f%h];if(e._sRowStripe!=m)i(q).removeClass(e._sRowStripe).addClass(m),e._sRowStripe=m}C(a,"aoRowCallback",null,[q,a.aoData[a.aiDisplay[g]]._aData,f,g]);d.push(q);f++;if(0!==b)for(e=0;e<b;e++)if(q==a.aoOpenRows[e].nParent){d.push(a.aoOpenRows[e].nTr);break}}}else{d[0]=k.createElement("tr");if(a.asStripeClasses[0])d[0].className=a.asStripeClasses[0];h=a.oLanguage.sZeroRecords.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()));if(1==a.iDraw&&null!==a.sAjaxSource&&
!a.oFeatures.bServerSide)h=a.oLanguage.sLoadingRecords;else if(a.oLanguage.sEmptyTable&&0===a.fnRecordsTotal())h=a.oLanguage.sEmptyTable;b=k.createElement("td");b.setAttribute("valign","top");b.colSpan=v(a);b.className=a.oClasses.sRowEmpty;b.innerHTML=h;d[f].appendChild(b)}C(a,"aoHeaderCallback","header",[i(a.nTHead).children("tr")[0],X(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);C(a,"aoFooterCallback","footer",[i(a.nTFoot).children("tr")[0],X(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);
f=k.createDocumentFragment();b=k.createDocumentFragment();if(a.nTBody){h=a.nTBody.parentNode;b.appendChild(a.nTBody);if(!a.oScroll.bInfinite||!a._bInitComplete||a.bSorted||a.bFiltered)for(;b=a.nTBody.firstChild;)a.nTBody.removeChild(b);for(b=0,c=d.length;b<c;b++)f.appendChild(d[b]);a.nTBody.appendChild(f);null!==h&&h.appendChild(a.nTBody)}C(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1;a.oFeatures.bServerSide&&(H(a,!1),a._bInitComplete||Y(a))}}function Z(a){a.oFeatures.bSort?
P(a,a.oPreviousSearch):a.oFeatures.bFilter?M(a,a.oPreviousSearch):(z(a),y(a))}function wa(a){var b=i("<div></div>")[0];a.nTable.parentNode.insertBefore(b,a.nTable);a.nTableWrapper=i('<div id="'+a.sTableId+'_wrapper" class="'+a.oClasses.sWrapper+'" role="grid"></div>')[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var c=a.nTableWrapper,d=a.sDom.split(""),f,h,g,e,q,m,o,l=0;l<d.length;l++){h=0;g=d[l];if("<"==g){e=i("<div></div>")[0];q=d[l+1];if("'"==q||'"'==q){m="";for(o=2;d[l+o]!=q;)m+=d[l+o],
o++;"H"==m?m="fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix":"F"==m&&(m="fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix");-1!=m.indexOf(".")?(q=m.split("."),e.id=q[0].substr(1,q[0].length-1),e.className=q[1]):"#"==m.charAt(0)?e.id=m.substr(1,m.length-1):e.className=m;l+=o}c.appendChild(e);c=e}else if(">"==g)c=c.parentNode;else if("l"==g&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange)f=xa(a),h=1;else if("f"==g&&a.oFeatures.bFilter)f=
ya(a),h=1;else if("r"==g&&a.oFeatures.bProcessing)f=za(a),h=1;else if("t"==g)f=Aa(a),h=1;else if("i"==g&&a.oFeatures.bInfo)f=Ba(a),h=1;else if("p"==g&&a.oFeatures.bPaginate)f=Ca(a),h=1;else if(0!==j.ext.aoFeatures.length){e=j.ext.aoFeatures;o=0;for(q=e.length;o<q;o++)if(g==e[o].cFeature){(f=e[o].fnInit(a))&&(h=1);break}}1==h&&null!==f&&("object"!==typeof a.aanFeatures[g]&&(a.aanFeatures[g]=[]),a.aanFeatures[g].push(f),c.appendChild(f))}b.parentNode.replaceChild(a.nTableWrapper,b)}function T(a,b){var c=
i(b).children("tr"),d,f,h,g,e,q,m,j;a.splice(0,a.length);for(f=0,q=c.length;f<q;f++)a.push([]);for(f=0,q=c.length;f<q;f++)for(h=0,m=c[f].childNodes.length;h<m;h++)if(d=c[f].childNodes[h],"TD"==d.nodeName.toUpperCase()||"TH"==d.nodeName.toUpperCase()){var o=1*d.getAttribute("colspan"),l=1*d.getAttribute("rowspan"),o=!o||0===o||1===o?1:o,l=!l||0===l||1===l?1:l;for(g=0;a[f][g];)g++;j=g;for(e=0;e<o;e++)for(g=0;g<l;g++)a[f+g][j+e]={cell:d,unique:1==o?!0:!1},a[f+g].nTr=c[f]}}function O(a,b,c){var d=[];
if(!c)c=a.aoHeader,b&&(c=[],T(c,b));for(var b=0,f=c.length;b<f;b++)for(var h=0,g=c[b].length;h<g;h++)if(c[b][h].unique&&(!d[h]||!a.bSortCellsTop))d[h]=c[b][h].cell;return d}function va(a){if(a.bAjaxDataGet){a.iDraw++;H(a,!0);var b=Da(a);ha(a,b);a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(b){Ea(a,b)},a);return!1}return!0}function Da(a){var b=a.aoColumns.length,c=[],d,f;c.push({name:"sEcho",value:a.iDraw});c.push({name:"iColumns",value:b});c.push({name:"sColumns",value:x(a)});c.push({name:"iDisplayStart",
value:a._iDisplayStart});c.push({name:"iDisplayLength",value:!1!==a.oFeatures.bPaginate?a._iDisplayLength:-1});for(f=0;f<b;f++)d=a.aoColumns[f].mDataProp,c.push({name:"mDataProp_"+f,value:"function"===typeof d?"function":d});if(!1!==a.oFeatures.bFilter){c.push({name:"sSearch",value:a.oPreviousSearch.sSearch});c.push({name:"bRegex",value:a.oPreviousSearch.bRegex});for(f=0;f<b;f++)c.push({name:"sSearch_"+f,value:a.aoPreSearchCols[f].sSearch}),c.push({name:"bRegex_"+f,value:a.aoPreSearchCols[f].bRegex}),
c.push({name:"bSearchable_"+f,value:a.aoColumns[f].bSearchable})}if(!1!==a.oFeatures.bSort){d=null!==a.aaSortingFixed?a.aaSortingFixed.length:0;var h=a.aaSorting.length;c.push({name:"iSortingCols",value:d+h});for(f=0;f<d;f++)c.push({name:"iSortCol_"+f,value:a.aaSortingFixed[f][0]}),c.push({name:"sSortDir_"+f,value:a.aaSortingFixed[f][1]});for(f=0;f<h;f++)c.push({name:"iSortCol_"+(f+d),value:a.aaSorting[f][0]}),c.push({name:"sSortDir_"+(f+d),value:a.aaSorting[f][1]});for(f=0;f<b;f++)c.push({name:"bSortable_"+
f,value:a.aoColumns[f].bSortable})}return c}function ha(a,b){C(a,"aoServerParams","serverParams",[b])}function Ea(a,b){if(b.sEcho!==l){if(1*b.sEcho<a.iDraw)return;a.iDraw=1*b.sEcho}(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered))&&ea(a);a._iRecordsTotal=parseInt(b.iTotalRecords,10);a._iRecordsDisplay=parseInt(b.iTotalDisplayRecords,10);var c=x(a),c=b.sColumns!==l&&""!==c&&b.sColumns!=c,d;c&&(d=D(a,b.sColumns));for(var f=V(a.sAjaxDataProp)(b),h=0,g=f.length;h<g;h++)if(c){for(var e=
[],i=0,m=a.aoColumns.length;i<m;i++)e.push(f[h][d[i]]);G(a,e)}else G(a,f[h]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;y(a);a.bAjaxDataGet=!0;H(a,!1)}function ya(a){var b=a.oPreviousSearch,c=a.oLanguage.sSearch,c=-1!==c.indexOf("_INPUT_")?c.replace("_INPUT_",'<input placeholder="'+LBN_TABLE_SEARCH+'" type="text" />'):""===c?'<input placeholder="'+LBN_TABLE_SEARCH+'" type="text" />':c+' <input type="text" />',d=k.createElement("div");d.className=a.oClasses.sFilter;d.innerHTML="<label>"+c+"</label>";if(!a.aanFeatures.f)d.id=a.sTableId+"_filter";c=i("input",
d);c.val(b.sSearch.replace('"',"&quot;"));c.bind("keyup.DT",function(){for(var c=a.aanFeatures.f,d=0,g=c.length;d<g;d++)c[d]!=i(this).parents("div.dataTables_filter")[0]&&i("input",c[d]).val(this.value);this.value!=b.sSearch&&M(a,{sSearch:this.value,bRegex:b.bRegex,bSmart:b.bSmart,bCaseInsensitive:b.bCaseInsensitive})});c.attr("aria-controls",a.sTableId).bind("keypress.DT",function(a){if(13==a.keyCode)return!1});return d}function M(a,b,c){var d=a.oPreviousSearch,f=a.aoPreSearchCols,h=function(a){d.sSearch=
a.sSearch;d.bRegex=a.bRegex;d.bSmart=a.bSmart;d.bCaseInsensitive=a.bCaseInsensitive};if(a.oFeatures.bServerSide)h(b);else{Fa(a,b.sSearch,c,b.bRegex,b.bSmart,b.bCaseInsensitive);h(b);for(b=0;b<a.aoPreSearchCols.length;b++)Ga(a,f[b].sSearch,b,f[b].bRegex,f[b].bSmart,f[b].bCaseInsensitive);Ha(a)}a.bFiltered=!0;i(a.oInstance).trigger("filter",a);a._iDisplayStart=0;z(a);y(a);ia(a,0)}function Ha(a){for(var b=j.ext.afnFiltering,c=0,d=b.length;c<d;c++)for(var f=0,h=0,g=a.aiDisplay.length;h<g;h++){var e=a.aiDisplay[h-
f];b[c](a,W(a,e,"filter"),e)||(a.aiDisplay.splice(h-f,1),f++)}}function Ga(a,b,c,d,f,h){if(""!==b)for(var g=0,b=ja(b,d,f,h),d=a.aiDisplay.length-1;0<=d;d--)f=ka(w(a,a.aiDisplay[d],c,"filter"),a.aoColumns[c].sType),b.test(f)||(a.aiDisplay.splice(d,1),g++)}function Fa(a,b,c,d,f,h){d=ja(b,d,f,h);f=a.oPreviousSearch;c||(c=0);0!==j.ext.afnFiltering.length&&(c=1);if(0>=b.length)a.aiDisplay.splice(0,a.aiDisplay.length),a.aiDisplay=a.aiDisplayMaster.slice();else if(a.aiDisplay.length==a.aiDisplayMaster.length||
f.sSearch.length>b.length||1==c||0!==b.indexOf(f.sSearch)){a.aiDisplay.splice(0,a.aiDisplay.length);ia(a,1);for(b=0;b<a.aiDisplayMaster.length;b++)d.test(a.asDataSearch[b])&&a.aiDisplay.push(a.aiDisplayMaster[b])}else for(b=c=0;b<a.asDataSearch.length;b++)d.test(a.asDataSearch[b])||(a.aiDisplay.splice(b-c,1),c++)}function ia(a,b){if(!a.oFeatures.bServerSide){a.asDataSearch.splice(0,a.asDataSearch.length);for(var c=b&&1===b?a.aiDisplayMaster:a.aiDisplay,d=0,f=c.length;d<f;d++)a.asDataSearch[d]=la(a,
W(a,c[d],"filter"))}}function la(a,b){var c="";if(a.__nTmpFilter===l)a.__nTmpFilter=k.createElement("div");for(var d=a.__nTmpFilter,f=0,h=a.aoColumns.length;f<h;f++)a.aoColumns[f].bSearchable&&(c+=ka(b[f],a.aoColumns[f].sType)+"  ");if(-1!==c.indexOf("&"))d.innerHTML=c,c=d.textContent?d.textContent:d.innerText,c=c.replace(/\n/g," ").replace(/\r/g,"");return c}function ja(a,b,c,d){if(c)return a=b?a.split(" "):ma(a).split(" "),a="^(?=.*?"+a.join(")(?=.*?")+").*$",RegExp(a,d?"i":"");a=b?a:ma(a);return RegExp(a,
d?"i":"")}function ka(a,b){return"function"===typeof j.ext.ofnSearch[b]?j.ext.ofnSearch[b](a):"html"==b?a.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"===typeof a?a.replace(/[\r\n]/g," "):null===a?"":a}function ma(a){return a.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^)","g"),"\\$1")}function Ba(a){var b=k.createElement("div");b.className=a.oClasses.sInfo;if(!a.aanFeatures.i)a.aoDrawCallback.push({fn:Ia,sName:"information"}),b.id=a.sTableId+"_info";a.nTable.setAttribute("aria-describedby",
a.sTableId+"_info");return b}function Ia(a){if(a.oFeatures.bInfo&&0!==a.aanFeatures.i.length){var b=a._iDisplayStart+1,c=a.fnDisplayEnd(),d=a.fnRecordsTotal(),f=a.fnRecordsDisplay(),h=a.fnFormatNumber(b),g=a.fnFormatNumber(c),e=a.fnFormatNumber(d),q=a.fnFormatNumber(f);a.oScroll.bInfinite&&(h=a.fnFormatNumber(1));h=0===a.fnRecordsDisplay()&&a.fnRecordsDisplay()==a.fnRecordsTotal()?a.oLanguage.sInfoEmpty+a.oLanguage.sInfoPostFix:0===a.fnRecordsDisplay()?a.oLanguage.sInfoEmpty+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",
e)+a.oLanguage.sInfoPostFix:a.fnRecordsDisplay()==a.fnRecordsTotal()?a.oLanguage.sInfo.replace("_START_",h).replace("_END_",g).replace("_TOTAL_",q)+a.oLanguage.sInfoPostFix:a.oLanguage.sInfo.replace("_START_",h).replace("_END_",g).replace("_TOTAL_",q)+" "+a.oLanguage.sInfoFiltered.replace("_MAX_",a.fnFormatNumber(a.fnRecordsTotal()))+a.oLanguage.sInfoPostFix;null!==a.oLanguage.fnInfoCallback&&(h=a.oLanguage.fnInfoCallback.call(a.oInstance,a,b,c,d,f,h));a=a.aanFeatures.i;b=0;for(c=a.length;b<c;b++)i(a[b]).html(h)}}
function $(a){var b,c,d=a.iInitDisplayStart;if(!1===a.bInitialised)setTimeout(function(){$(a)},200);else{wa(a);ua(a);U(a,a.aoHeader);a.nTFoot&&U(a,a.aoFooter);H(a,!0);a.oFeatures.bAutoWidth&&ba(a);for(b=0,c=a.aoColumns.length;b<c;b++)if(null!==a.aoColumns[b].sWidth)a.aoColumns[b].nTh.style.width=p(a.aoColumns[b].sWidth);a.oFeatures.bSort?P(a):a.oFeatures.bFilter?M(a,a.oPreviousSearch):(a.aiDisplay=a.aiDisplayMaster.slice(),z(a),y(a));null!==a.sAjaxSource&&!a.oFeatures.bServerSide?(c=[],ha(a,c),a.fnServerData.call(a.oInstance,
a.sAjaxSource,c,function(c){var h=""!==a.sAjaxDataProp?V(a.sAjaxDataProp)(c):c;for(b=0;b<h.length;b++)G(a,h[b]);a.iInitDisplayStart=d;a.oFeatures.bSort?P(a):(a.aiDisplay=a.aiDisplayMaster.slice(),z(a),y(a));H(a,!1);Y(a,c)},a)):a.oFeatures.bServerSide||(H(a,!1),Y(a))}}function Y(a,b){a._bInitComplete=!0;C(a,"aoInitComplete","init",[a,b])}function na(a){!a.sEmptyTable&&a.sZeroRecords&&n(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&a.sZeroRecords&&n(a,a,"sZeroRecords","sLoadingRecords")}function xa(a){if(a.oScroll.bInfinite)return null;
var b='<select size="1" '+('name="'+a.sTableId+'_length"')+">",c,d,f=a.aLengthMenu;if(2==f.length&&"object"===typeof f[0]&&"object"===typeof f[1])for(c=0,d=f[0].length;c<d;c++)b+='<option value="'+f[0][c]+'">'+f[1][c]+"</option>";else for(c=0,d=f.length;c<d;c++)b+='<option value="'+f[c]+'">'+f[c]+"</option>";b+="</select>";f=k.createElement("div");if(!a.aanFeatures.l)f.id=a.sTableId+"_length";f.className=a.oClasses.sLength;f.innerHTML="<label>"+a.oLanguage.sLengthMenu.replace("_MENU_",b)+"</label>";
i('select option[value="'+a._iDisplayLength+'"]',f).attr("selected",!0);i("select",f).bind("change.DT",function(){var b=i(this).val(),f=a.aanFeatures.l;for(c=0,d=f.length;c<d;c++)f[c]!=this.parentNode&&i("select",f[c]).val(b);a._iDisplayLength=parseInt(b,10);z(a);if(a.fnDisplayEnd()==a.fnRecordsDisplay()&&(a._iDisplayStart=a.fnDisplayEnd()-a._iDisplayLength,0>a._iDisplayStart))a._iDisplayStart=0;if(-1==a._iDisplayLength)a._iDisplayStart=0;y(a)});i("select",f).attr("aria-controls",a.sTableId);return f}
function z(a){a._iDisplayEnd=!1===a.oFeatures.bPaginate?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||-1==a._iDisplayLength?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength}function Ca(a){if(a.oScroll.bInfinite)return null;var b=k.createElement("div");b.className=a.oClasses.sPaging+a.sPaginationType;j.ext.oPagination[a.sPaginationType].fnInit(a,b,function(a){z(a);y(a)});a.aanFeatures.p||a.aoDrawCallback.push({fn:function(a){j.ext.oPagination[a.sPaginationType].fnUpdate(a,
function(a){z(a);y(a)})},sName:"pagination"});return b}function oa(a,b){var c=a._iDisplayStart;if("number"===typeof b){if(a._iDisplayStart=b*a._iDisplayLength,a._iDisplayStart>a.fnRecordsDisplay())a._iDisplayStart=0}else if("first"==b)a._iDisplayStart=0;else if("previous"==b){if(a._iDisplayStart=0<=a._iDisplayLength?a._iDisplayStart-a._iDisplayLength:0,0>a._iDisplayStart)a._iDisplayStart=0}else if("next"==b)0<=a._iDisplayLength?a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()&&(a._iDisplayStart+=
a._iDisplayLength):a._iDisplayStart=0;else if("last"==b)if(0<=a._iDisplayLength){var d=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1;a._iDisplayStart=(d-1)*a._iDisplayLength}else a._iDisplayStart=0;else F(a,0,"Unknown paging action: "+b);i(a.oInstance).trigger("page",a);return c!=a._iDisplayStart}function za(a){var b=k.createElement("div");if(!a.aanFeatures.r)b.id=a.sTableId+"_processing";b.innerHTML=a.oLanguage.sProcessing;b.className=a.oClasses.sProcessing;a.nTable.parentNode.insertBefore(b,
a.nTable);return b}function H(a,b){if(a.oFeatures.bProcessing)for(var c=a.aanFeatures.r,d=0,f=c.length;d<f;d++)c[d].style.visibility=b?"visible":"hidden";i(a.oInstance).trigger("processing",[a,b])}function Aa(a){if(""===a.oScroll.sX&&""===a.oScroll.sY)return a.nTable;var b=k.createElement("div"),c=k.createElement("div"),d=k.createElement("div"),f=k.createElement("div"),h=k.createElement("div"),g=k.createElement("div"),e=a.nTable.cloneNode(!1),q=a.nTable.cloneNode(!1),m=a.nTable.getElementsByTagName("thead")[0],
j=0===a.nTable.getElementsByTagName("tfoot").length?null:a.nTable.getElementsByTagName("tfoot")[0],o=a.oClasses;c.appendChild(d);h.appendChild(g);f.appendChild(a.nTable);b.appendChild(c);b.appendChild(f);d.appendChild(e);e.appendChild(m);null!==j&&(b.appendChild(h),g.appendChild(q),q.appendChild(j));b.className=o.sScrollWrapper;c.className=o.sScrollHead;d.className=o.sScrollHeadInner;f.className=o.sScrollBody;h.className=o.sScrollFoot;g.className=o.sScrollFootInner;if(a.oScroll.bAutoCss)c.style.overflow=
"hidden",c.style.position="relative",h.style.overflow="hidden",f.style.overflow="auto";c.style.border="0";c.style.width="100%";h.style.border="0";d.style.width="150%";e.removeAttribute("id");e.style.marginLeft="0";a.nTable.style.marginLeft="0";if(null!==j)q.removeAttribute("id"),q.style.marginLeft="0";d=i(a.nTable).children("caption");g=0;for(q=d.length;g<q;g++)e.appendChild(d[g]);if(""!==a.oScroll.sX){c.style.width=p(a.oScroll.sX);f.style.width=p(a.oScroll.sX);if(null!==j)h.style.width=p(a.oScroll.sX);
i(f).scroll(function(){c.scrollLeft=this.scrollLeft;if(null!==j)h.scrollLeft=this.scrollLeft})}if(""!==a.oScroll.sY)f.style.height=p(a.oScroll.sY);a.aoDrawCallback.push({fn:Ja,sName:"scrolling"});a.oScroll.bInfinite&&i(f).scroll(function(){!a.bDrawing&&0!==i(this).scrollTop()&&i(this).scrollTop()+i(this).height()>i(a.nTable).height()-a.oScroll.iLoadGap&&a.fnDisplayEnd()<a.fnRecordsDisplay()&&(oa(a,"next"),z(a),y(a))});a.nScrollHead=c;a.nScrollFoot=h;return b}function Ja(a){var b=a.nScrollHead.getElementsByTagName("div")[0],
c=b.getElementsByTagName("table")[0],d=a.nTable.parentNode,f,h,g,e,j,m,o,l,r=[],n=null!==a.nTFoot?a.nScrollFoot.getElementsByTagName("div")[0]:null,E=null!==a.nTFoot?n.getElementsByTagName("table")[0]:null,k=i.browser.msie&&7>=i.browser.version;g=a.nTable.getElementsByTagName("thead");0<g.length&&a.nTable.removeChild(g[0]);null!==a.nTFoot&&(j=a.nTable.getElementsByTagName("tfoot"),0<j.length&&a.nTable.removeChild(j[0]));g=a.nTHead.cloneNode(!0);a.nTable.insertBefore(g,a.nTable.childNodes[0]);null!==
a.nTFoot&&(j=a.nTFoot.cloneNode(!0),a.nTable.insertBefore(j,a.nTable.childNodes[1]));if(""===a.oScroll.sX)d.style.width="100%",b.parentNode.style.width="100%";var t=O(a,g);for(f=0,h=t.length;f<h;f++)o=s(a,f),t[f].style.width=a.aoColumns[o].sWidth;null!==a.nTFoot&&N(function(a){a.style.width=""},j.getElementsByTagName("tr"));f=i(a.nTable).outerWidth();if(""===a.oScroll.sX){if(a.nTable.style.width="100%",k&&(i("tbody",d).height()>d.offsetHeight||"scroll"==i(d).css("overflow-y")))a.nTable.style.width=
p(i(a.nTable).outerWidth()-a.oScroll.iBarWidth)}else if(""!==a.oScroll.sXInner)a.nTable.style.width=p(a.oScroll.sXInner);else if(f==i(d).width()&&i(d).height()<i(a.nTable).height()){if(a.nTable.style.width=p(f-a.oScroll.iBarWidth),i(a.nTable).outerWidth()>f-a.oScroll.iBarWidth)a.nTable.style.width=p(f)}else a.nTable.style.width=p(f);f=i(a.nTable).outerWidth();h=a.nTHead.getElementsByTagName("tr");g=g.getElementsByTagName("tr");N(function(a,b){m=a.style;m.paddingTop="0";m.paddingBottom="0";m.borderTopWidth=
"0";m.borderBottomWidth="0";m.height=0;l=i(a).width();b.style.width=p(l);r.push(l)},g,h);i(g).height(0);null!==a.nTFoot&&(e=j.getElementsByTagName("tr"),j=a.nTFoot.getElementsByTagName("tr"),N(function(a,b){m=a.style;m.paddingTop="0";m.paddingBottom="0";m.borderTopWidth="0";m.borderBottomWidth="0";m.height=0;l=i(a).width();b.style.width=p(l);r.push(l)},e,j),i(e).height(0));N(function(a){a.innerHTML="";a.style.width=p(r.shift())},g);null!==a.nTFoot&&N(function(a){a.innerHTML="";a.style.width=p(r.shift())},
e);if(i(a.nTable).outerWidth()<f){e=d.scrollHeight>d.offsetHeight||"scroll"==i(d).css("overflow-y")?f+a.oScroll.iBarWidth:f;if(k&&(d.scrollHeight>d.offsetHeight||"scroll"==i(d).css("overflow-y")))a.nTable.style.width=p(e-a.oScroll.iBarWidth);d.style.width=p(e);b.parentNode.style.width=p(e);if(null!==a.nTFoot)n.parentNode.style.width=p(e);""===a.oScroll.sX?F(a,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):
""!==a.oScroll.sXInner&&F(a,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else if(d.style.width=p("100%"),b.parentNode.style.width=p("100%"),null!==a.nTFoot)n.parentNode.style.width=p("100%");if(""===a.oScroll.sY&&k)d.style.height=p(a.nTable.offsetHeight+a.oScroll.iBarWidth);if(""!==a.oScroll.sY&&a.oScroll.bCollapse&&(d.style.height=p(a.oScroll.sY),k=""!==a.oScroll.sX&&a.nTable.offsetWidth>
d.offsetWidth?a.oScroll.iBarWidth:0,a.nTable.offsetHeight<d.offsetHeight))d.style.height=p(i(a.nTable).height()+k);k=i(a.nTable).outerWidth();c.style.width=p(k);b.style.width=p(k);if(null!==a.nTFoot)n.style.width=p(a.nTable.offsetWidth),E.style.width=p(a.nTable.offsetWidth);if(a.bSorted||a.bFiltered)d.scrollTop=0}function N(a,b,c){for(var d=0,f=b.length;d<f;d++)for(var h=0,g=b[d].childNodes.length;h<g;h++)1==b[d].childNodes[h].nodeType&&(c?a(b[d].childNodes[h],c[d].childNodes[h]):a(b[d].childNodes[h]))}
function Ka(a,b){if(!a||null===a||""===a)return 0;b||(b=k.getElementsByTagName("body")[0]);var c,d=k.createElement("div");d.style.width=p(a);b.appendChild(d);c=d.offsetWidth;b.removeChild(d);return c}function ba(a){var b=0,c,d=0,f=a.aoColumns.length,h,g=i("th",a.nTHead),e=a.nTable.getAttribute("width");for(h=0;h<f;h++)if(a.aoColumns[h].bVisible&&(d++,null!==a.aoColumns[h].sWidth)){c=Ka(a.aoColumns[h].sWidthOrig,a.nTable.parentNode);if(null!==c)a.aoColumns[h].sWidth=p(c);b++}if(f==g.length&&0===b&&
d==f&&""===a.oScroll.sX&&""===a.oScroll.sY)for(h=0;h<a.aoColumns.length;h++){if(c=i(g[h]).width(),null!==c)a.aoColumns[h].sWidth=p(c)}else{b=a.nTable.cloneNode(!1);h=a.nTHead.cloneNode(!0);d=k.createElement("tbody");c=k.createElement("tr");b.removeAttribute("id");b.appendChild(h);null!==a.nTFoot&&(b.appendChild(a.nTFoot.cloneNode(!0)),N(function(a){a.style.width=""},b.getElementsByTagName("tr")));b.appendChild(d);d.appendChild(c);d=i("thead th",b);0===d.length&&(d=i("tbody tr:eq(0)>td",b));g=O(a,
h);for(h=d=0;h<f;h++){var j=a.aoColumns[h];j.bVisible&&null!==j.sWidthOrig&&""!==j.sWidthOrig?g[h-d].style.width=p(j.sWidthOrig):j.bVisible?g[h-d].style.width="":d++}for(h=0;h<f;h++)a.aoColumns[h].bVisible&&(d=La(a,h),null!==d&&(d=d.cloneNode(!0),""!==a.aoColumns[h].sContentPadding&&(d.innerHTML+=a.aoColumns[h].sContentPadding),c.appendChild(d)));f=a.nTable.parentNode;f.appendChild(b);if(""!==a.oScroll.sX&&""!==a.oScroll.sXInner)b.style.width=p(a.oScroll.sXInner);else if(""!==a.oScroll.sX){if(b.style.width=
"",i(b).width()<f.offsetWidth)b.style.width=p(f.offsetWidth)}else if(""!==a.oScroll.sY)b.style.width=p(f.offsetWidth);else if(e)b.style.width=p(e);b.style.visibility="hidden";Ma(a,b);f=i("tbody tr:eq(0)",b).children();0===f.length&&(f=O(a,i("thead",b)[0]));if(""!==a.oScroll.sX){for(h=d=c=0;h<a.aoColumns.length;h++)a.aoColumns[h].bVisible&&(c=null===a.aoColumns[h].sWidthOrig?c+i(f[d]).outerWidth():c+(parseInt(a.aoColumns[h].sWidth.replace("px",""),10)+(i(f[d]).outerWidth()-i(f[d]).width())),d++);b.style.width=
p(c);a.nTable.style.width=p(c)}for(h=d=0;h<a.aoColumns.length;h++)if(a.aoColumns[h].bVisible){c=i(f[d]).width();if(null!==c&&0<c)a.aoColumns[h].sWidth=p(c);d++}f=i(b).css("width");a.nTable.style.width=-1!==f.indexOf("%")?f:p(i(b).outerWidth());b.parentNode.removeChild(b)}if(e)a.nTable.style.width=p(e)}function Ma(a,b){if(""===a.oScroll.sX&&""!==a.oScroll.sY)i(b).width(),b.style.width=p(i(b).outerWidth()-a.oScroll.iBarWidth);else if(""!==a.oScroll.sX)b.style.width=p(i(b).outerWidth())}function La(a,
b){var c=Na(a,b);if(0>c)return null;if(null===a.aoData[c].nTr){var d=k.createElement("td");d.innerHTML=w(a,c,b,"");return d}return L(a,c)[b]}function Na(a,b){for(var c=-1,d=-1,f=0;f<a.aoData.length;f++){var h=w(a,f,b,"display")+"",h=h.replace(/<.*?>/g,"");if(h.length>c)c=h.length,d=f}return d}function p(a){if(null===a)return"0px";if("number"==typeof a)return 0>a?"0px":a+"px";var b=a.charCodeAt(a.length-1);return 48>b||57<b?a:a+"px"}function Oa(){var a=k.createElement("p"),b=a.style;b.width="100%";
b.height="200px";b.padding="0px";var c=k.createElement("div"),b=c.style;b.position="absolute";b.top="0px";b.left="0px";b.visibility="hidden";b.width="200px";b.height="150px";b.padding="0px";b.overflow="hidden";c.appendChild(a);k.body.appendChild(c);b=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;if(b==a)a=c.clientWidth;k.body.removeChild(c);return b-a}function P(a,b){var c,d,f,h,g,e,o=[],m=[],r=j.ext.oSort,n=a.aoData,k=a.aoColumns,E=a.oLanguage.oAria;if(!a.oFeatures.bServerSide&&(0!==a.aaSorting.length||
null!==a.aaSortingFixed)){o=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(c=0;c<o.length;c++)if(d=o[c][0],f=t(a,d),h=a.aoColumns[d].sSortDataType,j.ext.afnSortData[h]){g=j.ext.afnSortData[h](a,d,f);for(f=0,h=n.length;f<h;f++)J(a,f,d,g[f])}for(c=0,d=a.aiDisplayMaster.length;c<d;c++)m[a.aiDisplayMaster[c]]=c;var p=o.length,s;for(c=0,d=n.length;c<d;c++)for(f=0;f<p;f++){s=k[o[f][0]].aDataSort;for(g=0,e=s.length;g<e;g++)h=k[s[g]].sType,h=r[(h?h:"string")+"-pre"],
n[c]._aSortData[s[g]]=h?h(w(a,c,s[g],"sort")):w(a,c,s[g],"sort")}a.aiDisplayMaster.sort(function(a,b){var c,d,f,h,g;for(c=0;c<p;c++){g=k[o[c][0]].aDataSort;for(d=0,f=g.length;d<f;d++)if(h=k[g[d]].sType,h=r[(h?h:"string")+"-"+o[c][1]](n[a]._aSortData[g[d]],n[b]._aSortData[g[d]]),0!==h)return h}return r["numeric-asc"](m[a],m[b])})}(b===l||b)&&!a.oFeatures.bDeferRender&&Q(a);for(c=0,d=a.aoColumns.length;c<d;c++)f=k[c].nTh,f.removeAttribute("aria-sort"),f.removeAttribute("aria-label"),k[c].bSortable?
0<o.length&&o[0][0]==c?(f.setAttribute("aria-sort","asc"==o[0][1]?"ascending":"descending"),f.setAttribute("aria-label",k[c].sTitle+("asc"==(k[c].asSorting[o[0][2]+1]?k[c].asSorting[o[0][2]+1]:k[c].asSorting[0])?E.sSortAscending:E.sSortDescending))):f.setAttribute("aria-label",k[c].sTitle+("asc"==k[c].asSorting[0]?E.sSortAscending:E.sSortDescending)):f.setAttribute("aria-label",k[c].sTitle);a.bSorted=!0;i(a.oInstance).trigger("sort",a);a.oFeatures.bFilter?M(a,a.oPreviousSearch,1):(a.aiDisplay=a.aiDisplayMaster.slice(),
a._iDisplayStart=0,z(a),y(a))}function ga(a,b,c,d){Pa(b,{},function(b){if(!1!==a.aoColumns[c].bSortable){var h=function(){var d,h;if(b.shiftKey){for(var e=!1,i=0;i<a.aaSorting.length;i++)if(a.aaSorting[i][0]==c){e=!0;d=a.aaSorting[i][0];h=a.aaSorting[i][2]+1;a.aoColumns[d].asSorting[h]?(a.aaSorting[i][1]=a.aoColumns[d].asSorting[h],a.aaSorting[i][2]=h):a.aaSorting.splice(i,1);break}!1===e&&a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}else 1==a.aaSorting.length&&a.aaSorting[0][0]==c?(d=a.aaSorting[0][0],
h=a.aaSorting[0][2]+1,a.aoColumns[d].asSorting[h]||(h=0),a.aaSorting[0][1]=a.aoColumns[d].asSorting[h],a.aaSorting[0][2]=h):(a.aaSorting.splice(0,a.aaSorting.length),a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0]));P(a)};a.oFeatures.bProcessing?(H(a,!0),setTimeout(function(){h();a.oFeatures.bServerSide||H(a,!1)},0)):h();"function"==typeof d&&d(a)}})}function Q(a){var b,c,d,f,h,g=a.aoColumns.length,e=a.oClasses;for(b=0;b<g;b++)a.aoColumns[b].bSortable&&i(a.aoColumns[b].nTh).removeClass(e.sSortAsc+
" "+e.sSortDesc+" "+a.aoColumns[b].sSortingClass);f=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(b=0;b<a.aoColumns.length;b++)if(a.aoColumns[b].bSortable){h=a.aoColumns[b].sSortingClass;d=-1;for(c=0;c<f.length;c++)if(f[c][0]==b){h="asc"==f[c][1]?e.sSortAsc:e.sSortDesc;d=c;break}i(a.aoColumns[b].nTh).addClass(h);a.bJUI&&(c=i("span."+e.sSortIcon,a.aoColumns[b].nTh),c.removeClass(e.sSortJUIAsc+" "+e.sSortJUIDesc+" "+e.sSortJUI+" "+e.sSortJUIAscAllowed+" "+e.sSortJUIDescAllowed),
c.addClass(-1==d?a.aoColumns[b].sSortingClassJUI:"asc"==f[d][1]?e.sSortJUIAsc:e.sSortJUIDesc))}else i(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass);h=e.sSortColumn;if(a.oFeatures.bSort&&a.oFeatures.bSortClasses){d=L(a);if(a.oFeatures.bDeferRender)i(d).removeClass(h+"1 "+h+"2 "+h+"3");else if(d.length>=g)for(b=0;b<g;b++)if(-1!=d[b].className.indexOf(h+"1"))for(c=0,a=d.length/g;c<a;c++)d[g*c+b].className=i.trim(d[g*c+b].className.replace(h+"1",""));else if(-1!=d[b].className.indexOf(h+
"2"))for(c=0,a=d.length/g;c<a;c++)d[g*c+b].className=i.trim(d[g*c+b].className.replace(h+"2",""));else if(-1!=d[b].className.indexOf(h+"3"))for(c=0,a=d.length/g;c<a;c++)d[g*c+b].className=i.trim(d[g*c+b].className.replace(" "+h+"3",""));var e=1,j;for(b=0;b<f.length;b++){j=parseInt(f[b][0],10);for(c=0,a=d.length/g;c<a;c++)d[g*c+j].className+=" "+h+e;3>e&&e++}}}function pa(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b,c;b=a.oScroll.bInfinite;var d={iCreate:(new Date).getTime(),iStart:b?0:a._iDisplayStart,
iEnd:b?a._iDisplayLength:a._iDisplayEnd,iLength:a._iDisplayLength,aaSorting:i.extend(!0,[],a.aaSorting),oSearch:i.extend(!0,{},a.oPreviousSearch),aoSearchCols:i.extend(!0,[],a.aoPreSearchCols),abVisCols:[]};for(b=0,c=a.aoColumns.length;b<c;b++)d.abVisCols.push(a.aoColumns[b].bVisible);C(a,"aoStateSaveParams","stateSaveParams",[a,d]);a.fnStateSave.call(a.oInstance,a,d)}}function Qa(a,b){if(a.oFeatures.bStateSave){var c=a.fnStateLoad.call(a.oInstance,a);if(c){var d=C(a,"aoStateLoadParams","stateLoadParams",
[a,c]);if(-1===i.inArray(!1,d)){a.oLoadedState=i.extend(!0,{},c);a._iDisplayStart=c.iStart;a.iInitDisplayStart=c.iStart;a._iDisplayEnd=c.iEnd;a._iDisplayLength=c.iLength;a.aaSorting=c.aaSorting.slice();a.saved_aaSorting=c.aaSorting.slice();i.extend(a.oPreviousSearch,c.oSearch);i.extend(!0,a.aoPreSearchCols,c.aoSearchCols);b.saved_aoColumns=[];for(d=0;d<c.abVisCols.length;d++)b.saved_aoColumns[d]={},b.saved_aoColumns[d].bVisible=c.abVisCols[d];C(a,"aoStateLoaded","stateLoaded",[a,c])}}}}function Ra(a){for(var b=
aa.location.pathname.split("/"),a=a+"_"+b[b.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",b=k.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return decodeURIComponent(d.substring(a.length,d.length))}return null}function u(a){for(var b=0;b<j.settings.length;b++)if(j.settings[b].nTable===a)return j.settings[b];return null}function S(a){for(var b=[],a=a.aoData,c=0,d=a.length;c<d;c++)null!==a[c].nTr&&b.push(a[c].nTr);return b}function L(a,
b){var c=[],d,f,h,e,i,j;f=0;var o=a.aoData.length;b!==l&&(f=b,o=b+1);for(h=f;h<o;h++)if(j=a.aoData[h],null!==j.nTr){f=[];for(e=0,i=j.nTr.childNodes.length;e<i;e++)d=j.nTr.childNodes[e].nodeName.toLowerCase(),("td"==d||"th"==d)&&f.push(j.nTr.childNodes[e]);d=0;for(e=0,i=a.aoColumns.length;e<i;e++)a.aoColumns[e].bVisible?c.push(f[e-d]):(c.push(j._anHidden[e]),d++)}return c}function F(a,b,c){a=null===a?"DataTables warning: "+c:"DataTables warning (table id = '"+a.sTableId+"'): "+c;if(0===b)if("alert"==
j.ext.sErrMode)alert(a);else throw a;else console!==l&&console.log&&console.log(a)}function n(a,b,c,d){d===l&&(d=c);b[c]!==l&&(a[d]=b[c])}function Sa(a,b){for(var c in a)a.hasOwnProperty(c)&&b[c]!==l&&("object"===typeof e[c]&&!1===i.isArray(b[c])?i.extend(!0,a[c],b[c]):a[c]=b[c]);return a}function Pa(a,b,c){i(a).bind("click.DT",b,function(b){c(b);a.blur()}).bind("keypress.DT",b,function(a){13===a.which&&c(a)}).bind("selectstart.DT",function(){return!1})}function A(a,b,c,d){c&&a[b].push({fn:c,sName:d})}
function C(a,b,c,d){for(var b=a[b],f=[],h=b.length-1;0<=h;h--)f.push(b[h].fn.apply(a.oInstance,d));null!==c&&i(a.oInstance).trigger(c,d);return f}function Ta(a){return function(){var b=[u(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[a].apply(this,b)}}var Ua=aa.JSON?JSON.stringify:function(a){var b=typeof a;if("object"!==b||null===a)return"string"===b&&(a='"'+a+'"'),a+"";var c,d,f=[],h=i.isArray(a);for(c in a)d=a[c],b=typeof d,"string"===b?d='"'+d+'"':"object"===
b&&null!==d&&(d=Ua(d)),f.push((h?"":'"'+c+'":')+d);return(h?"[":"{")+f+(h?"]":"}")};this.$=function(a,b){var c,d,f=[],h=u(this[j.ext.iApiIndex]);b||(b={});b=i.extend({},{filter:"none",order:"current",page:"all"},b);if("current"==b.page)for(c=h._iDisplayStart,d=h.fnDisplayEnd();c<d;c++)f.push(h.aoData[h.aiDisplay[c]].nTr);else if("current"==b.order&&"none"==b.filter)for(c=0,d=h.aiDisplayMaster.length;c<d;c++)f.push(h.aoData[h.aiDisplayMaster[c]].nTr);else if("current"==b.order&&"applied"==b.filter)for(c=
0,d=h.aiDisplay.length;c<d;c++)f.push(h.aoData[h.aiDisplay[c]].nTr);else if("original"==b.order&&"none"==b.filter)for(c=0,d=h.aoData.length;c<d;c++)f.push(h.aoData[c].nTr);else if("original"==b.order&&"applied"==b.filter)for(c=0,d=h.aoData.length;c<d;c++)-1!==i.inArray(c,h.aiDisplay)&&f.push(h.aoData[c].nTr);else F(h,1,"Unknown selection options");d=i(f);c=d.filter(a);d=d.find(a);return i([].concat(i.makeArray(c),i.makeArray(d)))};this._=function(a,b){var c=[],d,f,h=this.$(a,b);for(d=0,f=h.length;d<
f;d++)c.push(this.fnGetData(h[d]));return c};this.fnAddData=function(a,b){if(0===a.length)return[];var c=[],d,f=u(this[j.ext.iApiIndex]);if("object"===typeof a[0]&&null!==a[0])for(var h=0;h<a.length;h++){d=G(f,a[h]);if(-1==d)return c;c.push(d)}else{d=G(f,a);if(-1==d)return c;c.push(d)}f.aiDisplay=f.aiDisplayMaster.slice();(b===l||b)&&Z(f);return c};this.fnAdjustColumnSizing=function(a){var b=u(this[j.ext.iApiIndex]);r(b);a===l||a?this.fnDraw(!1):(""!==b.oScroll.sX||""!==b.oScroll.sY)&&this.oApi._fnScrollDraw(b)};
this.fnClearTable=function(a){var b=u(this[j.ext.iApiIndex]);ea(b);(a===l||a)&&y(b)};this.fnClose=function(a){for(var b=u(this[j.ext.iApiIndex]),c=0;c<b.aoOpenRows.length;c++)if(b.aoOpenRows[c].nParent==a)return(a=b.aoOpenRows[c].nTr.parentNode)&&a.removeChild(b.aoOpenRows[c].nTr),b.aoOpenRows.splice(c,1),0;return 1};this.fnDeleteRow=function(a,b,c){var d=u(this[j.ext.iApiIndex]),f,h,a="object"===typeof a?K(d,a):a,e=d.aoData.splice(a,1);for(f=0,h=d.aoData.length;f<h;f++)if(null!==d.aoData[f].nTr)d.aoData[f].nTr._DT_RowIndex=
f;f=i.inArray(a,d.aiDisplay);d.asDataSearch.splice(f,1);fa(d.aiDisplayMaster,a);fa(d.aiDisplay,a);"function"===typeof b&&b.call(this,d,e);if(d._iDisplayStart>=d.aiDisplay.length&&(d._iDisplayStart-=d._iDisplayLength,0>d._iDisplayStart))d._iDisplayStart=0;if(c===l||c)z(d),y(d);return e};this.fnDestroy=function(a){var b=u(this[j.ext.iApiIndex]),c=b.nTableWrapper.parentNode,d=b.nTBody,f,e,a=a===l?!1:!0;b.bDestroying=!0;for(f=0,e=b.aoDestroyCallback.length;f<e;f++)b.aoDestroyCallback[f].fn();for(f=0,
e=b.aoColumns.length;f<e;f++)!1===b.aoColumns[f].bVisible&&this.fnSetColumnVis(f,!0);i(b.nTableWrapper).find("*").andSelf().unbind(".DT");i("tbody>tr>td."+b.oClasses.sRowEmpty,b.nTable).parent().remove();b.nTable!=b.nTHead.parentNode&&(i(b.nTable).children("thead").remove(),b.nTable.appendChild(b.nTHead));b.nTFoot&&b.nTable!=b.nTFoot.parentNode&&(i(b.nTable).children("tfoot").remove(),b.nTable.appendChild(b.nTFoot));b.nTable.parentNode.removeChild(b.nTable);i(b.nTableWrapper).remove();b.aaSorting=
[];b.aaSortingFixed=[];Q(b);i(S(b)).removeClass(b.asStripeClasses.join(" "));i("th, td",b.nTHead).removeClass([b.oClasses.sSortable,b.oClasses.sSortableAsc,b.oClasses.sSortableDesc,b.oClasses.sSortableNone].join(" "));b.bJUI&&(i("th span."+b.oClasses.sSortIcon+", td span."+b.oClasses.sSortIcon,b.nTHead).remove(),i("th, td",b.nTHead).each(function(){var a=i("div."+b.oClasses.sSortJUIWrapper,this),c=a.contents();i(this).append(c);a.remove()}));!a&&b.nTableReinsertBefore?c.insertBefore(b.nTable,b.nTableReinsertBefore):
a||c.appendChild(b.nTable);for(f=0,e=b.aoData.length;f<e;f++)null!==b.aoData[f].nTr&&d.appendChild(b.aoData[f].nTr);if(!0===b.oFeatures.bAutoWidth)b.nTable.style.width=p(b.sDestroyWidth);i(d).children("tr:even").addClass(b.asDestroyStripes[0]);i(d).children("tr:odd").addClass(b.asDestroyStripes[1]);for(f=0,e=j.settings.length;f<e;f++)j.settings[f]==b&&j.settings.splice(f,1);b=null};this.fnDraw=function(a){var b=u(this[j.ext.iApiIndex]);a?(z(b),y(b)):Z(b)};this.fnFilter=function(a,b,c,d,f,e){var g=
u(this[j.ext.iApiIndex]);if(g.oFeatures.bFilter){if(c===l||null===c)c=!1;if(d===l||null===d)d=!0;if(f===l||null===f)f=!0;if(e===l||null===e)e=!0;if(b===l||null===b){if(M(g,{sSearch:a+"",bRegex:c,bSmart:d,bCaseInsensitive:e},1),f&&g.aanFeatures.f){b=g.aanFeatures.f;c=0;for(d=b.length;c<d;c++)i("input",b[c]).val(a)}}else i.extend(g.aoPreSearchCols[b],{sSearch:a+"",bRegex:c,bSmart:d,bCaseInsensitive:e}),M(g,g.oPreviousSearch,1)}};this.fnGetData=function(a,b){var c=u(this[j.ext.iApiIndex]);if(a!==l){var d=
a;if("object"===typeof a){var f=a.nodeName.toLowerCase();"tr"===f?d=K(c,a):"td"===f&&(d=K(c,a.parentNode),b=da(c,d,a))}return b!==l?w(c,d,b,""):c.aoData[d]!==l?c.aoData[d]._aData:null}return X(c)};this.fnGetNodes=function(a){var b=u(this[j.ext.iApiIndex]);return a!==l?b.aoData[a]!==l?b.aoData[a].nTr:null:S(b)};this.fnGetPosition=function(a){var b=u(this[j.ext.iApiIndex]),c=a.nodeName.toUpperCase();if("TR"==c)return K(b,a);return"TD"==c||"TH"==c?(c=K(b,a.parentNode),a=da(b,c,a),[c,t(b,a),a]):null};
this.fnIsOpen=function(a){for(var b=u(this[j.ext.iApiIndex]),c=0;c<b.aoOpenRows.length;c++)if(b.aoOpenRows[c].nParent==a)return!0;return!1};this.fnOpen=function(a,b,c){var d=u(this[j.ext.iApiIndex]),f=S(d);if(-1!==i.inArray(a,f)){this.fnClose(a);var f=k.createElement("tr"),e=k.createElement("td");f.appendChild(e);e.className=c;e.colSpan=v(d);"string"===typeof b?e.innerHTML=b:i(e).html(b);b=i("tr",d.nTBody);-1!=i.inArray(a,b)&&i(f).insertAfter(a);d.aoOpenRows.push({nTr:f,nParent:a});return f}};this.fnPageChange=
function(a,b){var c=u(this[j.ext.iApiIndex]);oa(c,a);z(c);(b===l||b)&&y(c)};this.fnSetColumnVis=function(a,b,c){var d=u(this[j.ext.iApiIndex]),f,e,g=d.aoColumns,i=d.aoData,o,m;if(g[a].bVisible!=b){if(b){for(f=e=0;f<a;f++)g[f].bVisible&&e++;m=e>=v(d);if(!m)for(f=a;f<g.length;f++)if(g[f].bVisible){o=f;break}for(f=0,e=i.length;f<e;f++)null!==i[f].nTr&&(m?i[f].nTr.appendChild(i[f]._anHidden[a]):i[f].nTr.insertBefore(i[f]._anHidden[a],L(d,f)[o]))}else for(f=0,e=i.length;f<e;f++)null!==i[f].nTr&&(o=L(d,
f)[a],i[f]._anHidden[a]=o,o.parentNode.removeChild(o));g[a].bVisible=b;U(d,d.aoHeader);d.nTFoot&&U(d,d.aoFooter);for(f=0,e=d.aoOpenRows.length;f<e;f++)d.aoOpenRows[f].nTr.colSpan=v(d);if(c===l||c)r(d),y(d);pa(d)}};this.fnSettings=function(){return u(this[j.ext.iApiIndex])};this.fnSort=function(a){var b=u(this[j.ext.iApiIndex]);b.aaSorting=a;P(b)};this.fnSortListener=function(a,b,c){ga(u(this[j.ext.iApiIndex]),a,b,c)};this.fnUpdate=function(a,b,c,d,f){var e=u(this[j.ext.iApiIndex]),b="object"===typeof b?
K(e,b):b;if(e.__fnUpdateDeep===l&&i.isArray(a)&&"object"===typeof a){e.aoData[b]._aData=a.slice();e.__fnUpdateDeep=!0;for(c=0;c<e.aoColumns.length;c++)this.fnUpdate(w(e,b,c),b,c,!1,!1);e.__fnUpdateDeep=l}else if(e.__fnUpdateDeep===l&&null!==a&&"object"===typeof a){e.aoData[b]._aData=i.extend(!0,{},a);e.__fnUpdateDeep=!0;for(c=0;c<e.aoColumns.length;c++)this.fnUpdate(w(e,b,c),b,c,!1,!1);e.__fnUpdateDeep=l}else{J(e,b,c,a);var a=w(e,b,c,"display"),g=e.aoColumns[c];null!==g.fnRender&&(a=R(e,b,c),g.bUseRendered&&
J(e,b,c,a));if(null!==e.aoData[b].nTr)L(e,b)[c].innerHTML=a}c=i.inArray(b,e.aiDisplay);e.asDataSearch[c]=la(e,W(e,b,"filter"));(f===l||f)&&r(e);(d===l||d)&&Z(e);return 0};this.fnVersionCheck=j.ext.fnVersionCheck;this.oApi={_fnExternApiFunc:Ta,_fnInitialise:$,_fnInitComplete:Y,_fnLanguageCompat:na,_fnAddColumn:o,_fnColumnOptions:E,_fnAddData:G,_fnCreateTr:ca,_fnGatherData:ta,_fnBuildHead:ua,_fnDrawHead:U,_fnDraw:y,_fnReDraw:Z,_fnAjaxUpdate:va,_fnAjaxParameters:Da,_fnAjaxUpdateDraw:Ea,_fnServerParams:ha,
_fnAddOptionsHtml:wa,_fnFeatureHtmlTable:Aa,_fnScrollDraw:Ja,_fnAdjustColumnSizing:r,_fnFeatureHtmlFilter:ya,_fnFilterComplete:M,_fnFilterCustom:Ha,_fnFilterColumn:Ga,_fnFilter:Fa,_fnBuildSearchArray:ia,_fnBuildSearchRow:la,_fnFilterCreateSearch:ja,_fnDataToSearch:ka,_fnSort:P,_fnSortAttachListener:ga,_fnSortingClasses:Q,_fnFeatureHtmlPaginate:Ca,_fnPageChange:oa,_fnFeatureHtmlInfo:Ba,_fnUpdateInfo:Ia,_fnFeatureHtmlLength:xa,_fnFeatureHtmlProcessing:za,_fnProcessingDisplay:H,_fnVisibleToColumnIndex:s,
_fnColumnIndexToVisible:t,_fnNodeToDataIndex:K,_fnVisbleColumns:v,_fnCalculateEnd:z,_fnConvertToWidth:Ka,_fnCalculateColumnWidths:ba,_fnScrollingWidthAdjust:Ma,_fnGetWidestNode:La,_fnGetMaxLenString:Na,_fnStringToCss:p,_fnDetectType:B,_fnSettingsFromNode:u,_fnGetDataMaster:X,_fnGetTrNodes:S,_fnGetTdNodes:L,_fnEscapeRegex:ma,_fnDeleteIndex:fa,_fnReOrderIndex:D,_fnColumnOrdering:x,_fnLog:F,_fnClearTable:ea,_fnSaveState:pa,_fnLoadState:Qa,_fnCreateCookie:function(a,b,c,d,e){var h=new Date;h.setTime(h.getTime()+
1E3*c);var c=aa.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),g;null!==e?(g="function"===typeof i.parseJSON?i.parseJSON(b):eval("("+b+")"),b=e(a,g,h.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+h.toGMTString()+"; path="+c.join("/")+"/";e="";h=9999999999999;if(4096<(null!==Ra(a)?k.cookie.length:b.length+k.cookie.length)+10){for(var a=k.cookie.split(";"),j=0,o=a.length;j<o;j++)if(-1!=a[j].indexOf(d)){var m=a[j].split("=");try{g=eval("("+
decodeURIComponent(m[1])+")")}catch(l){continue}if(g.iCreate&&g.iCreate<h)e=m[0],h=g.iCreate}if(""!==e)k.cookie=e+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}k.cookie=b},_fnReadCookie:Ra,_fnDetectHeader:T,_fnGetUniqueThs:O,_fnScrollBarWidth:Oa,_fnApplyToChildren:N,_fnMap:n,_fnGetRowData:W,_fnGetCellData:w,_fnSetCellData:J,_fnGetObjectDataFn:V,_fnSetObjectDataFn:sa,_fnApplyColumnDefs:I,_fnBindAction:Pa,_fnExtend:Sa,_fnCallbackReg:A,_fnCallbackFire:C,_fnJsonString:Ua,_fnRender:R,
_fnNodeToColumnIndex:da};i.extend(j.ext.oApi,this.oApi);for(var qa in j.ext.oApi)qa&&(this[qa]=Ta(qa));var ra=this;return this.each(function(){var a=0,b,c,d;c=this.getAttribute("id");var f=!1,h=!1;if("table"!=this.nodeName.toLowerCase())F(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{for(a=0,b=j.settings.length;a<b;a++){if(j.settings[a].nTable==this){if(e===l||e.bRetrieve)return j.settings[a].oInstance;if(e.bDestroy){j.settings[a].oInstance.fnDestroy();
break}else{F(j.settings[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}}if(j.settings[a].sTableId==this.id){j.settings.splice(a,1);break}}if(null===c)this.id=c="DataTables_Table_"+j.ext._oExternConfig.iNextUnique++;var g=i.extend(!0,{},j.models.oSettings,{nTable:this,oApi:ra.oApi,oInit:e,sDestroyWidth:i(this).width(),sInstance:c,sTableId:c});j.settings.push(g);g.oInstance=1===ra.length?
ra:i(this).dataTable();e||(e={});e.oLanguage&&na(e.oLanguage);e=Sa(i.extend(!0,{},j.defaults),e);n(g.oFeatures,e,"bPaginate");n(g.oFeatures,e,"bLengthChange");n(g.oFeatures,e,"bFilter");n(g.oFeatures,e,"bSort");n(g.oFeatures,e,"bInfo");n(g.oFeatures,e,"bProcessing");n(g.oFeatures,e,"bAutoWidth");n(g.oFeatures,e,"bSortClasses");n(g.oFeatures,e,"bServerSide");n(g.oFeatures,e,"bDeferRender");n(g.oScroll,e,"sScrollX","sX");n(g.oScroll,e,"sScrollXInner","sXInner");n(g.oScroll,e,"sScrollY","sY");n(g.oScroll,
e,"bScrollCollapse","bCollapse");n(g.oScroll,e,"bScrollInfinite","bInfinite");n(g.oScroll,e,"iScrollLoadGap","iLoadGap");n(g.oScroll,e,"bScrollAutoCss","bAutoCss");n(g,e,"asStripClasses","asStripeClasses");n(g,e,"asStripeClasses");n(g,e,"fnServerData");n(g,e,"fnFormatNumber");n(g,e,"sServerMethod");n(g,e,"aaSorting");n(g,e,"aaSortingFixed");n(g,e,"aLengthMenu");n(g,e,"sPaginationType");n(g,e,"sAjaxSource");n(g,e,"sAjaxDataProp");n(g,e,"iCookieDuration");n(g,e,"sCookiePrefix");n(g,e,"sDom");n(g,e,
"bSortCellsTop");n(g,e,"iTabIndex");n(g,e,"oSearch","oPreviousSearch");n(g,e,"aoSearchCols","aoPreSearchCols");n(g,e,"iDisplayLength","_iDisplayLength");n(g,e,"bJQueryUI","bJUI");n(g,e,"fnCookieCallback");n(g,e,"fnStateLoad");n(g,e,"fnStateSave");n(g.oLanguage,e,"fnInfoCallback");A(g,"aoDrawCallback",e.fnDrawCallback,"user");A(g,"aoServerParams",e.fnServerParams,"user");A(g,"aoStateSaveParams",e.fnStateSaveParams,"user");A(g,"aoStateLoadParams",e.fnStateLoadParams,"user");A(g,"aoStateLoaded",e.fnStateLoaded,
"user");A(g,"aoRowCallback",e.fnRowCallback,"user");A(g,"aoRowCreatedCallback",e.fnCreatedRow,"user");A(g,"aoHeaderCallback",e.fnHeaderCallback,"user");A(g,"aoFooterCallback",e.fnFooterCallback,"user");A(g,"aoInitComplete",e.fnInitComplete,"user");A(g,"aoPreDrawCallback",e.fnPreDrawCallback,"user");g.oFeatures.bServerSide&&g.oFeatures.bSort&&g.oFeatures.bSortClasses?A(g,"aoDrawCallback",Q,"server_side_sort_classes"):g.oFeatures.bDeferRender&&A(g,"aoDrawCallback",Q,"defer_sort_classes");if(e.bJQueryUI){if(i.extend(g.oClasses,
j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&"lfrtip"===j.defaults.sDom)g.sDom='<"H"lfr>t<"F"ip>'}else i.extend(g.oClasses,j.ext.oStdClasses);i(this).addClass(g.oClasses.sTable);if(""!==g.oScroll.sX||""!==g.oScroll.sY)g.oScroll.iBarWidth=Oa();if(g.iInitDisplayStart===l)g.iInitDisplayStart=e.iDisplayStart,g._iDisplayStart=e.iDisplayStart;if(e.bStateSave)g.oFeatures.bStateSave=!0,Qa(g,e),A(g,"aoDrawCallback",pa,"state_save");if(null!==e.iDeferLoading)g.bDeferLoading=!0,g._iRecordsTotal=e.iDeferLoading,
g._iRecordsDisplay=e.iDeferLoading;null!==e.aaData&&(h=!0);""!==e.oLanguage.sUrl?(g.oLanguage.sUrl=e.oLanguage.sUrl,i.getJSON(g.oLanguage.sUrl,null,function(a){na(a);i.extend(!0,g.oLanguage,e.oLanguage,a);$(g)}),f=!0):i.extend(!0,g.oLanguage,e.oLanguage);c=!1;d=i(this).children("tbody").children("tr");for(a=0,b=g.asStripeClasses.length;a<b;a++)if(d.filter(":lt(2)").hasClass(g.asStripeClasses[a])){c=!0;break}if(c)g.asDestroyStripes=["",""],i(d[0]).hasClass(g.oClasses.sStripeOdd)&&(g.asDestroyStripes[0]+=
g.oClasses.sStripeOdd+" "),i(d[0]).hasClass(g.oClasses.sStripeEven)&&(g.asDestroyStripes[0]+=g.oClasses.sStripeEven),i(d[1]).hasClass(g.oClasses.sStripeOdd)&&(g.asDestroyStripes[1]+=g.oClasses.sStripeOdd+" "),i(d[1]).hasClass(g.oClasses.sStripeEven)&&(g.asDestroyStripes[1]+=g.oClasses.sStripeEven),d.removeClass(g.asStripeClasses.join(" "));c=[];a=this.getElementsByTagName("thead");0!==a.length&&(T(g.aoHeader,a[0]),c=O(g));if(null===e.aoColumns){d=[];for(a=0,b=c.length;a<b;a++)d.push(null)}else d=
e.aoColumns;for(a=0,b=d.length;a<b;a++){if(e.saved_aoColumns!==l&&e.saved_aoColumns.length==b)null===d[a]&&(d[a]={}),d[a].bVisible=e.saved_aoColumns[a].bVisible;o(g,c?c[a]:null)}I(g,e.aoColumnDefs,d,function(a,b){E(g,a,b)});for(a=0,b=g.aaSorting.length;a<b;a++){g.aaSorting[a][0]>=g.aoColumns.length&&(g.aaSorting[a][0]=0);var r=g.aoColumns[g.aaSorting[a][0]];g.aaSorting[a][2]===l&&(g.aaSorting[a][2]=0);e.aaSorting===l&&g.saved_aaSorting===l&&(g.aaSorting[a][1]=r.asSorting[0]);for(c=0,d=r.asSorting.length;c<
d;c++)if(g.aaSorting[a][1]==r.asSorting[c]){g.aaSorting[a][2]=c;break}}Q(g);a=i(this).children("thead");0===a.length&&(a=[k.createElement("thead")],this.appendChild(a[0]));g.nTHead=a[0];a=i(this).children("tbody");0===a.length&&(a=[k.createElement("tbody")],this.appendChild(a[0]));g.nTBody=a[0];g.nTBody.setAttribute("role","alert");g.nTBody.setAttribute("aria-live","polite");g.nTBody.setAttribute("aria-relevant","all");a=i(this).children("tfoot");if(0<a.length)g.nTFoot=a[0],T(g.aoFooter,g.nTFoot);
if(h)for(a=0;a<e.aaData.length;a++)G(g,e.aaData[a]);else ta(g);g.aiDisplay=g.aiDisplayMaster.slice();g.bInitialised=!0;!1===f&&$(g)}})};j.version="1.9.0";j.settings=[];j.models={};j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:function(e){for(var i=function(e,i){for(;e.length<i;)e+="0";return e},l=j.ext.sVersion.split("."),e=e.split("."),r="",k="",t=0,v=e.length;t<v;t++)r+=i(l[t],3),k+=i(e[t],3);return parseInt(r,10)>=parseInt(k,10)},iApiIndex:0,ofnSearch:{},oApi:{},
oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}};j.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""};j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mDataProp:null,nTh:null,nTf:null,sClass:null,
sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};j.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:["odd","even"],bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,
bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(1E3>e)return e;for(var i=e+"",e=i.split(""),j="",i=i.length,l=0;l<i;l++)0===l%3&&0!==l&&(j=this.oLanguage.sInfoThousands+j),j=e[i-l-1]+j;return j},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,j,l,k){k.jqXHR=i.ajax({url:e,
data:j,success:function(e){i(k.oInstance).trigger("xhr",k);l(e)},dataType:"json",cache:!1,type:k.sServerMethod,error:function(e,i){"parsererror"==i&&alert("DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"===typeof i.parseJSON?i.parseJSON(e):eval("("+e+")")}catch(l){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,
fnStateSave:function(e,i){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(i),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",
sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:i.extend({},j.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",
sScrollXInner:"",sScrollY:"",sServerMethod:"GET"};j.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mDataProp:null,sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};j.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,
bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],
aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,
aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?
!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0};j.ext=i.extend(!0,{},j.models.ext);i.extend(j.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",
sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",
sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",
sFooterTH:""});i.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",
sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",
sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default"});i.extend(j.ext.oPagination,
{two_button:{fnInit:function(e,j,l){var k=e.oLanguage.oPaginate,s=function(i){e.oApi._fnPageChange(e,i.data.action)&&l(e)},k=!e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+k.sPrevious+'</a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+k.sNext+"</a>":'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a><a class="'+e.oClasses.sPageNextDisabled+
'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>';i(j).append(k);var t=i("a",j),k=t[0],t=t[1];e.oApi._fnBindAction(k,{action:"previous"},s);e.oApi._fnBindAction(t,{action:"next"},s);if(!e.aanFeatures.p)j.id=e.sTableId+"_paginate",k.id=e.sTableId+"_previous",t.id=e.sTableId+"_next",k.setAttribute("aria-controls",e.sTableId),t.setAttribute("aria-controls",e.sTableId)},fnUpdate:function(e){if(e.aanFeatures.p)for(var i=e.oClasses,j=e.aanFeatures.p,l=0,
k=j.length;l<k;l++)if(0!==j[l].childNodes.length)j[l].childNodes[0].className=0===e._iDisplayStart?i.sPagePrevDisabled:i.sPagePrevEnabled,j[l].childNodes[1].className=e.fnDisplayEnd()==e.fnRecordsDisplay()?i.sPageNextDisabled:i.sPageNextEnabled}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,j,l){var k=e.oLanguage.oPaginate,s=e.oClasses,t=function(i){e.oApi._fnPageChange(e,i.data.action)&&l(e)};i(j).append('<a  tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageFirst+'">'+k.sFirst+
'</a><a  tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPagePrevious+'">'+k.sPrevious+'</a><span></span><a tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageNext+'">'+k.sNext+'</a><a tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageLast+'">'+k.sLast+"</a>");var v=i("a",j),k=v[0],s=v[1],B=v[2],v=v[3];e.oApi._fnBindAction(k,{action:"first"},t);e.oApi._fnBindAction(s,{action:"previous"},t);e.oApi._fnBindAction(B,{action:"next"},t);e.oApi._fnBindAction(v,{action:"last"},
t);if(!e.aanFeatures.p)j.id=e.sTableId+"_paginate",k.id=e.sTableId+"_first",s.id=e.sTableId+"_previous",B.id=e.sTableId+"_next",v.id=e.sTableId+"_last"},fnUpdate:function(e,l){if(e.aanFeatures.p){var k=j.ext.oPagination.iFullNumbersShowPages,r=Math.floor(k/2),s=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),t=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,v="",B,D=e.oClasses,x,I=e.aanFeatures.p,G=function(i){e.oApi._fnBindAction(this,{page:i+B-1},function(i){e.oApi._fnPageChange(e,i.data.page);
l(e);i.preventDefault()})};s<k?(B=1,r=s):t<=r?(B=1,r=k):t>=s-r?(B=s-k+1,r=s):(B=t-Math.ceil(k/2)+1,r=B+k-1);for(k=B;k<=r;k++)v+=t!==k?'<a tabindex="'+e.iTabIndex+'" class="'+D.sPageButton+'">'+e.fnFormatNumber(k)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+D.sPageButtonActive+'">'+e.fnFormatNumber(k)+"</a>";for(k=0,r=I.length;k<r;k++)0!==I[k].childNodes.length&&(i("span:eq(0)",I[k]).html(v).children("a").each(G),x=I[k].getElementsByTagName("a"),x=[x[0],x[1],x[x.length-2],x[x.length-1]],i(x).removeClass(D.sPageButton+
" "+D.sPageButtonActive+" "+D.sPageButtonStaticDisabled),i([x[0],x[1]]).addClass(1==t?D.sPageButtonStaticDisabled:D.sPageButton),i([x[2],x[3]]).addClass(0===s||t===s||-1===e._iDisplayLength?D.sPageButtonStaticDisabled:D.sPageButton))}}}});i.extend(j.ext.oSort,{"string-pre":function(e){"string"!=typeof e&&(e="");return e.toLowerCase()},"string-asc":function(e,i){return e<i?-1:e>i?1:0},"string-desc":function(e,i){return e<i?1:e>i?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},
"html-asc":function(e,i){return e<i?-1:e>i?1:0},"html-desc":function(e,i){return e<i?1:e>i?-1:0},"date-pre":function(e){e=Date.parse(e);if(isNaN(e)||""===e)e=Date.parse("01/01/1970 00:00:00");return e},"date-asc":function(e,i){return e-i},"date-desc":function(e,i){return i-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,i){return e-i},"numeric-desc":function(e,i){return i-e}});i.extend(j.ext.aTypes,[function(e){if("number"===typeof e)return"numeric";if("string"!==
typeof e)return null;var i,j=!1;i=e.charAt(0);if(-1=="0123456789-".indexOf(i))return null;for(var k=1;k<e.length;k++){i=e.charAt(k);if(-1=="0123456789.".indexOf(i))return null;if("."==i){if(j)return null;j=!0}}return"numeric"},function(e){var i=Date.parse(e);return null!==i&&!isNaN(i)||"string"===typeof e&&0===e.length?"date":null},function(e){return"string"===typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]);i.fn.DataTable=j;i.fn.dataTable=j;i.fn.dataTableSettings=j.settings;i.fn.dataTableExt=
j.ext})(jQuery,window,document,void 0);

$.fn.dataTableExt.oApi.fnStandingRedraw = function(oSettings) {
	if(oSettings.oFeatures.bServerSide === false){
		var before = oSettings._iDisplayStart;
		oSettings.oApi._fnReDraw(oSettings);
		oSettings._iDisplayStart = before;
		oSettings.oApi._fnCalculateEnd(oSettings);
	}
	oSettings.oApi._fnDraw(oSettings);
};
$.fn.dataTableExt.oApi.fnSPaginate = function(oSettings,opt) {
		oSettings.oFeatures.bPaginate = opt;
		oSettings.oFeatures.bLengthChange = opt;
	oSettings.oApi._fnDraw(oSettings);
};
$.fn.dataTableExt.oApi.fnLengthChange = function ( oSettings, iDisplay )
{
	oSettings._iDisplayLength = iDisplay;
	oSettings.oApi._fnCalculateEnd( oSettings );
	if ( oSettings._iDisplayEnd == oSettings.aiDisplay.length )
	{
		oSettings._iDisplayStart = oSettings._iDisplayEnd - oSettings._iDisplayLength;
		if ( oSettings._iDisplayStart < 0 )
		{
			oSettings._iDisplayStart = 0;
		}
	}
	
	if ( oSettings._iDisplayLength == -1 )
	{
		oSettings._iDisplayStart = 0;
	}
	
	oSettings.oApi._fnDraw( oSettings );
	
	$('select', oSettings.oFeatures.l).val( iDisplay );
}

/* Default class modification */
$.extend( $.fn.dataTableExt.oStdClasses, {
	"sWrapper": "dataTables_wrapper form-inline"
} );

/* API method to get paging information */
$.fn.dataTableExt.oApi.fnPagingInfo = function ( oSettings )
{
	return {
		"iStart":         oSettings._iDisplayStart,
		"iEnd":           oSettings.fnDisplayEnd(),
		"iLength":        oSettings._iDisplayLength,
		"iTotal":         oSettings.fnRecordsTotal(),
		"iFilteredTotal": oSettings.fnRecordsDisplay(),
		"iPage":          Math.ceil( oSettings._iDisplayStart / oSettings._iDisplayLength ),
		"iTotalPages":    Math.ceil( oSettings.fnRecordsDisplay() / oSettings._iDisplayLength )
	};
}

/* Bootstrap style pagination control */
$.extend( $.fn.dataTableExt.oPagination, {
	"bootstrap": {
		"fnInit": function( oSettings, nPaging, fnDraw ) {
			var oLang = oSettings.oLanguage.oPaginate;
			var fnClickHandler = function ( e ) {
				e.preventDefault();
				if ( oSettings.oApi._fnPageChange(oSettings, e.data.action) ) {
					fnDraw( oSettings );
				}
			};

			$(nPaging).addClass('pagination').append(
				'<ul>'+
					'<li class="prev disabled"><a href="#">&larr; '+oLang.sPrevious+'</a></li>'+
					'<li class="next disabled"><a href="#">'+oLang.sNext+' &rarr; </a></li>'+
				'</ul>'
			);
			var els = $('a', nPaging);
			$(els[0]).bind( 'click.DT', { action: "previous" }, fnClickHandler );
			$(els[1]).bind( 'click.DT', { action: "next" }, fnClickHandler );
		},

		"fnUpdate": function ( oSettings, fnDraw ) {
			var iListLength = 5;
			var oPaging = oSettings.oInstance.fnPagingInfo();
			var an = oSettings.aanFeatures.p;
			var i, j, sClass, iStart, iEnd, iHalf=Math.floor(iListLength/2);

			if ( oPaging.iTotalPages < iListLength) {
				iStart = 1;
				iEnd = oPaging.iTotalPages;
			}
			else if ( oPaging.iPage <= iHalf ) {
				iStart = 1;
				iEnd = iListLength;
			} else if ( oPaging.iPage >= (oPaging.iTotalPages-iHalf) ) {
				iStart = oPaging.iTotalPages - iListLength + 1;
				iEnd = oPaging.iTotalPages;
			} else {
				iStart = oPaging.iPage - iHalf + 1;
				iEnd = iStart + iListLength - 1;
			}

			for ( i=0, iLen=an.length ; i<iLen ; i++ ) {
				// Remove the middle elements
				$('li:gt(0)', an[i]).filter(':not(:last)').remove();

				// Add the new list items and their event handlers
				for ( j=iStart ; j<=iEnd ; j++ ) {
					sClass = (j==oPaging.iPage+1) ? 'class="active"' : '';
					$('<li '+sClass+'><a href="#">'+j+'</a></li>')
						.insertBefore( $('li:last', an[i])[0] )
						.bind('click', function (e) {
							e.preventDefault();
							oSettings._iDisplayStart = (parseInt($('a', this).text(),10)-1) * oPaging.iLength;
							fnDraw( oSettings );
						} );
				}

				// Add / remove disabled classes from the static elements
				if ( oPaging.iPage === 0 ) {
					$('li:first', an[i]).addClass('disabled');
				} else {
					$('li:first', an[i]).removeClass('disabled');
				}

				if ( oPaging.iPage === oPaging.iTotalPages-1 || oPaging.iTotalPages === 0 ) {
					$('li:last', an[i]).addClass('disabled');
				} else {
					$('li:last', an[i]).removeClass('disabled');
				}
			}
		}
	}
} );

;// Simple Set Clipboard System
// Author: Joseph Huckaby
var ZeroClipboard={version:"1.0.4-TableTools2",clients:{},moviePath:"",nextId:1,$:function(a){if(typeof a=="string")a=document.getElementById(a);if(!a.addClass){a.hide=function(){this.style.display="none"};a.show=function(){this.style.display=""};a.addClass=function(b){this.removeClass(b);this.className+=" "+b};a.removeClass=function(b){this.className=this.className.replace(new RegExp("\\s*"+b+"\\s*")," ").replace(/^\s+/,"").replace(/\s+$/,"")};a.hasClass=function(b){return!!this.className.match(new RegExp("\\s*"+
b+"\\s*"))}}return a},setMoviePath:function(a){this.moviePath=a},dispatch:function(a,b,c){(a=this.clients[a])&&a.receiveEvent(b,c)},register:function(a,b){this.clients[a]=b},getDOMObjectPosition:function(a){var b={left:0,top:0,width:a.width?a.width:a.offsetWidth,height:a.height?a.height:a.offsetHeight};if(a.style.width!="")b.width=a.style.width.replace("px","");if(a.style.height!="")b.height=a.style.height.replace("px","");for(;a;){b.left+=a.offsetLeft;b.top+=a.offsetTop;a=a.offsetParent}return b},
Client:function(a){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId="ZeroClipboardMovie_"+this.id;ZeroClipboard.register(this.id,this);a&&this.glue(a)}};
ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:"",fileName:"",action:"copy",handCursorEnabled:true,cssEffects:true,handlers:null,sized:false,glue:function(a,b){this.domElement=ZeroClipboard.$(a);a=99;if(this.domElement.style.zIndex)a=parseInt(this.domElement.style.zIndex)+1;var c=ZeroClipboard.getDOMObjectPosition(this.domElement);this.div=document.createElement("div");var d=this.div.style;d.position="absolute";d.left=this.domElement.offsetLeft+"px";d.top=this.domElement.offsetTop+
"px";d.width=c.width+"px";d.height=c.height+"px";d.zIndex=a;if(typeof b!="undefined"&&b!="")this.div.title=b;if(c.width!=0&&c.height!=0)this.sized=true;this.domElement.parentNode.appendChild(this.div);this.div.innerHTML=this.getHTML(c.width,c.height)},positionElement:function(){var a=ZeroClipboard.getDOMObjectPosition(this.domElement),b=this.div.style;b.position="absolute";b.left=this.domElement.offsetLeft+"px";b.top=this.domElement.offsetTop+"px";b.width=a.width+"px";b.height=a.height+"px";if(a.width!=
0&&a.height!=0)this.sized=true;b=this.div.childNodes[0];b.width=a.width;b.height=a.height},getHTML:function(a,b){var c="",d="id="+this.id+"&width="+a+"&height="+b;if(navigator.userAgent.match(/MSIE/)){var f=location.href.match(/^https/i)?"https://":"http://";c+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+f+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" width="'+a+'" height="'+b+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+
ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+d+'"/><param name="wmode" value="transparent"/></object>'}else c+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+a+'" height="'+b+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+
d+'" wmode="transparent" />';return c},hide:function(){if(this.div)this.div.style.left="-2000px"},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.div=this.domElement=null}},reposition:function(a){if(a)(this.domElement=ZeroClipboard.$(a))||this.hide();if(this.domElement&&this.div){a=ZeroClipboard.getDOMObjectPosition(this.domElement);var b=
this.div.style;b.left=""+a.left+"px";b.top=""+a.top+"px"}},clearText:function(){this.clipText="";this.ready&&this.movie.clearText()},appendText:function(a){this.clipText+=a;this.ready&&this.movie.appendText(a)},setText:function(a){this.clipText=a;this.ready&&this.movie.setText(a)},setCharSet:function(a){this.charSet=a;this.ready&&this.movie.setCharSet(a)},setBomInc:function(a){this.incBom=a;this.ready&&this.movie.setBomInc(a)},setFileName:function(a){this.fileName=a;this.ready&&this.movie.setFileName(a)},
setAction:function(a){this.action=a;this.ready&&this.movie.setAction(a)},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");this.handlers[a]||(this.handlers[a]=[]);this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a;this.ready&&this.movie.setHandCursor(a)},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");switch(a){case "load":this.movie=document.getElementById(this.movieId);
if(!this.movie){var c=this;setTimeout(function(){c.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){c=this;setTimeout(function(){c.receiveEvent("load",null)},100);this.ready=true;return}this.ready=true;this.movie.clearText();this.movie.appendText(this.clipText);this.movie.setFileName(this.fileName);this.movie.setAction(this.action);this.movie.setCharSet(this.charSet);this.movie.setBomInc(this.incBom);this.movie.setHandCursor(this.handCursorEnabled);
break;case "mouseover":this.domElement&&this.cssEffects&&this.recoverActive&&this.domElement.addClass("active");break;case "mouseout":if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass("active")){this.domElement.removeClass("active");this.recoverActive=true}}break;case "mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case "mouseup":if(this.domElement&&this.cssEffects){this.domElement.removeClass("active");this.recoverActive=
false}break}if(this.handlers[a])for(var d=0,f=this.handlers[a].length;d<f;d++){var e=this.handlers[a][d];if(typeof e=="function")e(this,b);else if(typeof e=="object"&&e.length==2)e[0][e[1]](this,b);else typeof e=="string"&&window[e](this,b)}}};


/*
 * File:        TableTools.min.js
 * Version:     2.0.1
 * Author:      Allan Jardine (www.sprymedia.co.uk)
 * 
 * Copyright 2009-2011 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD (3 point) style license, as supplied with this software.
 * 
 * This source file is distributed in the hope that it will be useful, but 
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 */
var TableTools;
(function(e,n,j){TableTools=function(a,b){if(!this.CLASS||this.CLASS!="TableTools")alert("Warning: TableTools must be initialised with the keyword 'new'");this.s={that:this,dt:null,print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:false,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:false};this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,
background:null}};this.fnSettings=function(){return this.s};if(typeof b=="undefined")b={};this.s.dt=a.fnSettings();this._fnConstruct(b);return this};TableTools.prototype={fnGetSelected:function(){return this._fnGetMasterSettings().select.selected},fnIsSelected:function(a){for(var b=this.fnGetSelected(),c=0,d=b.length;c<d;c++)if(a==b[c])return true;return false},fnSelectAll:function(){this._fnGetMasterSettings().that._fnRowSelectAll()},fnSelectNone:function(){this._fnGetMasterSettings().that._fnRowDeselectAll()},
fnGetTitle:function(a){var b="";if(typeof a.sTitle!="undefined"&&a.sTitle!=="")b=a.sTitle;else{a=j.getElementsByTagName("title");if(a.length>0)b=a[0].innerHTML}return"\u00a1".toString().length<4?b.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""):b.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},fnCalcColRatios:function(a){var b=this.s.dt.aoColumns;a=this._fnColumnTargets(a.mColumns);var c=[],d=0,f=0,h,g;h=0;for(g=a.length;h<g;h++)if(a[h]){d=b[h].nTh.offsetWidth;f+=d;c.push(d)}h=0;for(g=c.length;h<
g;h++)c[h]/=f;return c.join("\t")},fnGetTableData:function(a){if(this.s.dt)return this._fnGetDataTablesData(a)},fnSetText:function(a,b){this._fnFlashSetText(a,b)},fnResizeButtons:function(){for(var a in ZeroClipboard.clients)if(a){var b=ZeroClipboard.clients[a];typeof b.domElement!="undefined"&&b.domElement.parentNode==this.dom.container&&b.positionElement()}},fnResizeRequired:function(){for(var a in ZeroClipboard.clients)if(a){var b=ZeroClipboard.clients[a];if(typeof b.domElement!="undefined"&&b.domElement.parentNode==
this.dom.container&&b.sized===false)return true}return false},_fnConstruct:function(a){this._fnCustomiseSettings(a);this.dom.container=j.createElement("div");this.dom.container.style.position="relative";this.dom.container.className=!this.s.dt.bJUI?"DTTT_container":"DTTT_container ui-buttonset ui-buttonset-multi";this.s.select.type!="none"&&this._fnRowSelectConfig();this._fnButtonDefinations(this.s.buttonSet,this.dom.container)},_fnCustomiseSettings:function(a){if(typeof this.s.dt._TableToolsInit==
"undefined"){this.s.master=true;this.s.dt._TableToolsInit=true}this.dom.table=this.s.dt.nTable;this.s.custom=e.extend({},TableTools.DEFAULTS,a);this.s.swfPath=this.s.custom.sSwfPath;if(typeof ZeroClipboard!="undefined")ZeroClipboard.moviePath=this.s.swfPath;this.s.select.type=this.s.custom.sRowSelect;this.s.select.preRowSelect=this.s.custom.fnPreRowSelect;this.s.select.postSelected=this.s.custom.fnRowSelected;this.s.select.postDeselected=this.s.custom.fnRowDeselected;this.s.select.selectedClass=this.s.custom.sSelectedClass;
this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(a,b){for(var c,d=0,f=a.length;d<f;d++){if(typeof a[d]=="string"){if(typeof TableTools.BUTTONS[a[d]]=="undefined"){alert("TableTools: Warning - unknown button type: "+a[d]);continue}c=e.extend({},TableTools.BUTTONS[a[d]],true)}else{if(typeof TableTools.BUTTONS[a[d].sExtends]=="undefined"){alert("TableTools: Warning - unknown button type: "+a[d].sExtends);continue}c=e.extend({},TableTools.BUTTONS[a[d].sExtends],true);c=e.extend(c,
a[d],true)}if(this.s.dt.bJUI){c.sButtonClass+=" ui-button ui-state-default";c.sButtonClassHover+=" ui-button ui-state-default ui-state-hover"}b.appendChild(this._fnCreateButton(c))}},_fnCreateButton:function(a){var b=this._fnButtonBase(a);if(a.sAction=="print")this._fnPrintConfig(b,a);else if(a.sAction.match(/flash/))this._fnFlashConfig(b,a);else if(a.sAction=="text")this._fnTextConfig(b,a);else if(a.sAction=="collection"){this._fnTextConfig(b,a);this._fnCollectionConfig(b,a)}return b},_fnButtonBase:function(a){var b=
j.createElement("button"),c=j.createElement("span"),d=this._fnGetMasterSettings();b.className="DTTT_button "+a.sButtonClass;b.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+d.buttonCounter);b.appendChild(c);c.innerHTML=a.sButtonText;d.buttonCounter++;return b},_fnGetMasterSettings:function(){if(this.s.master)return this.s;else for(var a=TableTools._aInstances,b=0,c=a.length;b<c;b++)if(this.dom.table==a[b].s.dt.nTable)return a[b].s},_fnCollectionConfig:function(a,b){a=j.createElement("div");
a.style.display="none";a.className=!this.s.dt.bJUI?"DTTT_collection":"DTTT_collection ui-buttonset ui-buttonset-multi";b._collection=a;this._fnButtonDefinations(b.aButtons,a)},_fnCollectionShow:function(a,b){var c=this,d=e(a).offset(),f=b._collection;b=d.left;d=d.top+e(a).outerHeight();var h=e(n).height(),g=e(j).height(),k=e(n).width(),m=e(j).width();f.style.position="absolute";f.style.left=b+"px";f.style.top=d+"px";f.style.display="block";e(f).css("opacity",0);var l=j.createElement("div");l.style.position=
"absolute";l.style.left="0px";l.style.top="0px";l.style.height=(h>g?h:g)+"px";l.style.width=(k>m?k:m)+"px";l.className="DTTT_collection_background";e(l).css("opacity",0);j.body.appendChild(l);j.body.appendChild(f);h=e(f).outerWidth();k=e(f).outerHeight();if(b+h>m)f.style.left=m-h+"px";if(d+k>g)f.style.top=d-k-e(a).outerHeight()+"px";this.dom.collection.collection=f;this.dom.collection.background=l;setTimeout(function(){e(f).animate({opacity:1},500);e(l).animate({opacity:0.25},500)},10);e(l).click(function(){c._fnCollectionHide.call(c,
null,null)})},_fnCollectionHide:function(a,b){if(!(b!==null&&b.sExtends=="collection"))if(this.dom.collection.collection!==null){e(this.dom.collection.collection).animate({opacity:0},500,function(){this.style.display="none"});e(this.dom.collection.background).animate({opacity:0},500,function(){this.parentNode.removeChild(this)});this.dom.collection.collection=null;this.dom.collection.background=null}},_fnRowSelectConfig:function(){if(this.s.master){var a=this,b,c,d=this.s.dt.aoOpenRows;e(a.s.dt.nTable).addClass("DTTT_selectable");
e("tr",a.s.dt.nTBody).live("click",function(f){if(this.parentNode==a.s.dt.nTBody){b=0;for(c=d.length;b<c;b++)if(this==d[b].nTr)return;a.s.select.preRowSelect!==null&&!a.s.select.preRowSelect.call(a,f)||(a.s.select.type=="single"?a._fnRowSelectSingle.call(a,this):a._fnRowSelectMulti.call(a,this))}});a.s.dt.aoDrawCallback.push({fn:function(){a.s.select.all&&a.s.dt.oFeatures.bServerSide&&a.fnSelectAll()},sName:"TableTools_select"})}},_fnRowSelectSingle:function(a){if(this.s.master)if(!e("td",a).hasClass(this.s.dt.oClasses.sRowEmpty)){if(e(a).hasClass(this.s.select.selectedClass))this._fnRowDeselect(a);
else{this.s.select.selected.length!==0&&this._fnRowDeselectAll();this.s.select.selected.push(a);e(a).addClass(this.s.select.selectedClass);this.s.select.postSelected!==null&&this.s.select.postSelected.call(this,a)}TableTools._fnEventDispatch(this,"select",a)}},_fnRowSelectMulti:function(a){if(this.s.master)if(!e("td",a).hasClass(this.s.dt.oClasses.sRowEmpty)){if(e(a).hasClass(this.s.select.selectedClass))this._fnRowDeselect(a);else{this.s.select.selected.push(a);e(a).addClass(this.s.select.selectedClass);
this.s.select.postSelected!==null&&this.s.select.postSelected.call(this,a)}TableTools._fnEventDispatch(this,"select",a)}},_fnRowSelectAll:function(){if(this.s.master){for(var a,b=0,c=this.s.dt.aiDisplayMaster.length;b<c;b++){a=this.s.dt.aoData[this.s.dt.aiDisplayMaster[b]].nTr;if(!e(a).hasClass(this.s.select.selectedClass)){this.s.select.selected.push(a);e(a).addClass(this.s.select.selectedClass)}}this.s.select.all=true;TableTools._fnEventDispatch(this,"select",null)}},_fnRowDeselectAll:function(){if(this.s.master){for(var a=
this.s.select.selected.length-1;a>=0;a--)this._fnRowDeselect(a);this.s.select.all=false;TableTools._fnEventDispatch(this,"select",null)}},_fnRowDeselect:function(a){if(typeof a.nodeName!="undefined")a=e.inArray(a,this.s.select.selected);var b=this.s.select.selected[a];e(b).removeClass(this.s.select.selectedClass);this.s.select.selected.splice(a,1);this.s.select.postDeselected!==null&&this.s.select.postDeselected.call(this,b);this.s.select.all=false},_fnTextConfig:function(a,b){var c=this;b.fnInit!==
null&&b.fnInit.call(this,a,b);if(b.sToolTip!=="")a.title=b.sToolTip;e(a).hover(function(){e(a).removeClass(b.sButtonClass).addClass(b.sButtonClassHover);b.fnMouseover!==null&&b.fnMouseover.call(this,a,b,null)},function(){e(a).removeClass(b.sButtonClassHover).addClass(b.sButtonClass);b.fnMouseout!==null&&b.fnMouseout.call(this,a,b,null)});b.fnSelect!==null&&TableTools._fnEventListen(this,"select",function(d){b.fnSelect.call(c,a,b,d)});e(a).click(function(d){d.preventDefault();b.fnClick!==null&&b.fnClick.call(c,
a,b,null);b.fnComplete!==null&&b.fnComplete.call(c,a,b,null,null);c._fnCollectionHide(a,b)})},_fnFlashConfig:function(a,b){var c=this,d=new ZeroClipboard.Client;b.fnInit!==null&&b.fnInit.call(this,a,b);d.setHandCursor(true);if(b.sAction=="flash_save"){d.setAction("save");d.setCharSet(b.sCharSet=="utf16le"?"UTF16LE":"UTF8");d.setBomInc(b.bBomInc);d.setFileName(b.sFileName.replace("*",this.fnGetTitle(b)))}else if(b.sAction=="flash_pdf"){d.setAction("pdf");d.setFileName(b.sFileName.replace("*",this.fnGetTitle(b)))}else d.setAction("copy");
d.addEventListener("mouseOver",function(){e(a).removeClass(b.sButtonClass).addClass(b.sButtonClassHover);b.fnMouseover!==null&&b.fnMouseover.call(c,a,b,d)});d.addEventListener("mouseOut",function(){e(a).removeClass(b.sButtonClassHover).addClass(b.sButtonClass);b.fnMouseout!==null&&b.fnMouseout.call(c,a,b,d)});d.addEventListener("mouseDown",function(){b.fnClick!==null&&b.fnClick.call(c,a,b,d)});d.addEventListener("complete",function(f,h){b.fnComplete!==null&&b.fnComplete.call(c,a,b,d,h);c._fnCollectionHide(a,
b)});this._fnFlashGlue(d,a,b.sToolTip)},_fnFlashGlue:function(a,b,c){var d=this,f=b.getAttribute("id");if(j.getElementById(f)){a.glue(b,c);if(a.domElement.parentNode!=a.div.parentNode&&typeof d.__bZCWarning=="undefined"){d.s.dt.oApi._fnLog(this.s.dt,0,"It looks like you are using the version of ZeroClipboard which came with TableTools 1. Please update to use the version that came with TableTools 2.");d.__bZCWarning=true}}else setTimeout(function(){d._fnFlashGlue(a,b,c)},100)},_fnFlashSetText:function(a,
b){b=this._fnChunkData(b,8192);a.clearText();for(var c=0,d=b.length;c<d;c++)a.appendText(b[c])},_fnColumnTargets:function(a){var b=[],c=this.s.dt;if(typeof a=="object"){i=0;for(iLen=c.aoColumns.length;i<iLen;i++)b.push(false);i=0;for(iLen=a.length;i<iLen;i++)b[a[i]]=true}else if(a=="visible"){i=0;for(iLen=c.aoColumns.length;i<iLen;i++)b.push(c.aoColumns[i].bVisible?true:false)}else if(a=="hidden"){i=0;for(iLen=c.aoColumns.length;i<iLen;i++)b.push(c.aoColumns[i].bVisible?false:true)}else{i=0;for(iLen=
c.aoColumns.length;i<iLen;i++)b.push(true)}return b},_fnNewline:function(a){return a.sNewLine=="auto"?navigator.userAgent.match(/Windows/)?"\r\n":"\n":a.sNewLine},_fnGetDataTablesData:function(a){var b,c,d,f,h="",g="",k=this.s.dt,m=new RegExp(a.sFieldBoundary,"g"),l=this._fnColumnTargets(a.mColumns),o=this._fnNewline(a);if(a.bHeader){b=0;for(c=k.aoColumns.length;b<c;b++)if(l[b]){g=k.aoColumns[b].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"");g=this._fnHtmlDecode(g);h+=this._fnBoundData(g,a.sFieldBoundary,
m)+a.sFieldSeperator}h=h.slice(0,a.sFieldSeperator.length*-1);h+=o}d=0;for(f=k.aiDisplay.length;d<f;d++)if(!(typeof a.bSelectedOnly&&a.bSelectedOnly&&!e(k.aoData[k.aiDisplay[d]].nTr).hasClass(this.s.select.selectedClass))){b=0;for(c=k.aoColumns.length;b<c;b++)if(l[b]){g=k.aoData[k.aiDisplay[d]]._aData[b];if(typeof g=="string"){g=g.replace(/\n/g," ");g=g.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3");g=g.replace(/<.*?>/g,"")}else g=g+"";g=g.replace(/^\s+/,"").replace(/\s+$/,
"");g=this._fnHtmlDecode(g);h+=this._fnBoundData(g,a.sFieldBoundary,m)+a.sFieldSeperator}h=h.slice(0,a.sFieldSeperator.length*-1);h+=o}h.slice(0,-1);if(a.bFooter){b=0;for(c=k.aoColumns.length;b<c;b++)if(l[b]&&k.aoColumns[b].nTf!==null){g=k.aoColumns[b].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,"");g=this._fnHtmlDecode(g);h+=this._fnBoundData(g,a.sFieldBoundary,m)+a.sFieldSeperator}h=h.slice(0,a.sFieldSeperator.length*-1)}return _sLastData=h},_fnBoundData:function(a,b,c){return b===""?a:b+
a.replace(c,"\\"+b)+b},_fnChunkData:function(a,b){for(var c=[],d=a.length,f=0;f<d;f+=b)f+b<d?c.push(a.substring(f,f+b)):c.push(a.substring(f,d));return c},_fnHtmlDecode:function(a){if(a.indexOf("&")==-1)return a;a=this._fnChunkData(a,2048);var b=j.createElement("div"),c,d,f,h="";c=0;for(d=a.length;c<d;c++){f=a[c].lastIndexOf("&");if(f!=-1&&a[c].length>=8&&f>a[c].length-8){a[c].substr(f);a[c]=a[c].substr(0,f)}b.innerHTML=a[c];h+=b.childNodes[0].nodeValue}return h},_fnPrintConfig:function(a,b){var c=
this;b.fnInit!==null&&b.fnInit.call(this,a,b);e(a).hover(function(){e(a).removeClass(b.sButtonClass).addClass(b.sButtonClassHover)},function(){e(a).removeClass(b.sButtonClassHover).addClass(b.sButtonClass)});b.fnSelect!==null&&TableTools._fnEventListen(this,"select",function(d){b.fnSelect.call(c,a,b,d)});e(a).click(function(d){d.preventDefault();c._fnPrintStart.call(c,d,b);b.fnClick!==null&&b.fnClick.call(c,a,b,null);b.fnComplete!==null&&b.fnComplete.call(c,a,b,null,null);c._fnCollectionHide(a,b)})},
_fnPrintStart:function(a,b){var c=this;a=this.s.dt;this._fnPrintHideNodes(a.nTable);this.s.print.saveStart=a._iDisplayStart;this.s.print.saveLength=a._iDisplayLength;if(b.bShowAll){a._iDisplayStart=0;a._iDisplayLength=-1;a.oApi._fnCalculateEnd(a);a.oApi._fnDraw(a)}if(a.oScroll.sX!==""||a.oScroll.sY!=="")this._fnPrintScrollStart(a);a=a.aanFeatures;for(var d in a)if(d!="i"&&d!="t"&&d.length==1)for(var f=0,h=a[d].length;f<h;f++){this.dom.print.hidden.push({node:a[d][f],display:"block"});a[d][f].style.display=
"none"}e(j.body).addClass("DTTT_Print");if(b.sInfo!==""){var g=j.createElement("div");g.className="DTTT_print_info";g.innerHTML=b.sInfo;j.body.appendChild(g);setTimeout(function(){e(g).fadeOut("normal",function(){j.body.removeChild(g)})},2E3)}if(b.sMessage!==""){this.dom.print.message=j.createElement("div");this.dom.print.message.className="DTTT_PrintMessage";this.dom.print.message.innerHTML=b.sMessage;j.body.insertBefore(this.dom.print.message,j.body.childNodes[0])}this.s.print.saveScroll=e(n).scrollTop();
n.scrollTo(0,0);this.s.print.funcEnd=function(k){c._fnPrintEnd.call(c,k)};e(j).bind("keydown",null,this.s.print.funcEnd)},_fnPrintEnd:function(a){if(a.keyCode==27){a.preventDefault();a=this.s.dt;var b=this.s.print,c=this.dom.print;this._fnPrintShowNodes();if(a.oScroll.sX!==""||a.oScroll.sY!=="")this._fnPrintScrollEnd();n.scrollTo(0,b.saveScroll);if(c.message!==null){j.body.removeChild(c.message);c.message=null}e(j.body).removeClass("DTTT_Print");a._iDisplayStart=b.saveStart;a._iDisplayLength=b.saveLength;
a.oApi._fnCalculateEnd(a);a.oApi._fnDraw(a);e(j).unbind("keydown",this.s.print.funcEnd);this.s.print.funcEnd=null}},_fnPrintScrollStart:function(){var a=this.s.dt;a.nScrollHead.getElementsByTagName("div")[0].getElementsByTagName("table");var b=a.nTable.parentNode,c=a.nTable.getElementsByTagName("thead");c.length>0&&a.nTable.removeChild(c[0]);if(a.nTFoot!==null){c=a.nTable.getElementsByTagName("tfoot");c.length>0&&a.nTable.removeChild(c[0])}c=a.nTHead.cloneNode(true);a.nTable.insertBefore(c,a.nTable.childNodes[0]);
if(a.nTFoot!==null){c=a.nTFoot.cloneNode(true);a.nTable.insertBefore(c,a.nTable.childNodes[1])}if(a.oScroll.sX!==""){a.nTable.style.width=e(a.nTable).outerWidth()+"px";b.style.width=e(a.nTable).outerWidth()+"px";b.style.overflow="visible"}if(a.oScroll.sY!==""){b.style.height=e(a.nTable).outerHeight()+"px";b.style.overflow="visible"}},_fnPrintScrollEnd:function(){var a=this.s.dt,b=a.nTable.parentNode;if(a.oScroll.sX!==""){b.style.width=a.oApi._fnStringToCss(a.oScroll.sX);b.style.overflow="auto"}if(a.oScroll.sY!==
""){b.style.height=a.oApi._fnStringToCss(a.oScroll.sY);b.style.overflow="auto"}},_fnPrintShowNodes:function(){for(var a=this.dom.print.hidden,b=0,c=a.length;b<c;b++)a[b].node.style.display=a[b].display;a.splice(0,a.length)},_fnPrintHideNodes:function(a){for(var b=this.dom.print.hidden,c=a.parentNode,d=c.childNodes,f=0,h=d.length;f<h;f++)if(d[f]!=a&&d[f].nodeType==1){var g=e(d[f]).css("display");if(g!="none"){b.push({node:d[f],display:g});d[f].style.display="none"}}c.nodeName!="BODY"&&this._fnPrintHideNodes(c)}};
TableTools._aInstances=[];TableTools._aListeners=[];TableTools.fnGetMasters=function(){for(var a=[],b=0,c=TableTools._aInstances.length;b<c;b++)TableTools._aInstances[b].s.master&&a.push(TableTools._aInstances[b].s);return a};TableTools.fnGetInstance=function(a){if(typeof a!="object")a=j.getElementById(a);for(var b=0,c=TableTools._aInstances.length;b<c;b++)if(TableTools._aInstances[b].s.master&&TableTools._aInstances[b].dom.table==a)return TableTools._aInstances[b];return null};TableTools._fnEventListen=
function(a,b,c){TableTools._aListeners.push({that:a,type:b,fn:c})};TableTools._fnEventDispatch=function(a,b,c){for(var d=TableTools._aListeners,f=0,h=d.length;f<h;f++)a.dom.table==d[f].that.dom.table&&d[f].type==b&&d[f].fn(c)};TableTools.BUTTONS={csv:{sAction:"flash_save",sCharSet:"utf8",bBomInc:false,sFileName:"*.csv",sFieldBoundary:"'",sFieldSeperator:",",sNewLine:"auto",sTitle:"",sToolTip:"",sButtonClass:"DTTT_button_csv",sButtonClassHover:"DTTT_button_csv_hover",sButtonText:"CSV",mColumns:"all",
bHeader:true,bFooter:true,bSelectedOnly:false,fnMouseover:null,fnMouseout:null,fnClick:function(a,b,c){this.fnSetText(c,this.fnGetTableData(b))},fnSelect:null,fnComplete:null,fnInit:null},xls:{sAction:"flash_save",sCharSet:"utf16le",bBomInc:true,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"auto",sTitle:"",sToolTip:"",sButtonClass:"DTTT_button_xls",sButtonClassHover:"DTTT_button_xls_hover",sButtonText:"Excel",mColumns:"all",bHeader:true,bFooter:true,bSelectedOnly:false,fnMouseover:null,
fnMouseout:null,fnClick:function(a,b,c){this.fnSetText(c,this.fnGetTableData(b))},fnSelect:null,fnComplete:null,fnInit:null},copy:{sAction:"flash_copy",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"auto",sToolTip:"",sButtonClass:"DTTT_button_copy",sButtonClassHover:"DTTT_button_copy_hover",sButtonText:"Copy",mColumns:"all",bHeader:true,bFooter:true,bSelectedOnly:false,fnMouseover:null,fnMouseout:null,fnClick:function(a,b,c){this.fnSetText(c,this.fnGetTableData(b))},fnSelect:null,fnComplete:function(a,
b,c,d){a=d.split("\n").length;a=this.s.dt.nTFoot===null?a-1:a-2;alert("Copied "+a+" row"+(a==1?"":"s")+" to the clipboard")},fnInit:null},pdf:{sAction:"flash_pdf",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"\n",sFileName:"*.pdf",sToolTip:"",sTitle:"",sButtonClass:"DTTT_button_pdf",sButtonClassHover:"DTTT_button_pdf_hover",sButtonText:"PDF",mColumns:"all",bHeader:true,bFooter:false,bSelectedOnly:false,fnMouseover:null,fnMouseout:null,sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(a,
b,c){this.fnSetText(c,"title:"+this.fnGetTitle(b)+"\nmessage:"+b.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(b)+"\norientation:"+b.sPdfOrientation+"\nsize:"+b.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(b))},fnSelect:null,fnComplete:null,fnInit:null},print:{sAction:"print",sInfo:"<h6>Print view</h6><p>Please use your browser's print function to print this table. Press escape when finished.",sMessage:"",bShowAll:true,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonClassHover:"DTTT_button_print_hover",
sButtonText:"Print",fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null},text:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Text button",mColumns:"all",bHeader:true,bFooter:true,bSelectedOnly:false,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null},select:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",
sButtonText:"Select button",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:function(a){this.fnGetSelected().length!==0?e(a).removeClass("DTTT_disabled"):e(a).addClass("DTTT_disabled")},fnComplete:null,fnInit:function(a){e(a).addClass("DTTT_disabled")}},select_single:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Select button",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,
fnMouseout:null,fnClick:null,fnSelect:function(a){this.fnGetSelected().length==1?e(a).removeClass("DTTT_disabled"):e(a).addClass("DTTT_disabled")},fnComplete:null,fnInit:function(a){e(a).addClass("DTTT_disabled")}},select_all:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Select all",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:function(){this.fnSelectAll()},fnSelect:function(a){this.fnGetSelected().length==
this.s.dt.fnRecordsDisplay()?e(a).addClass("DTTT_disabled"):e(a).removeClass("DTTT_disabled")},fnComplete:null,fnInit:null},select_none:{sAction:"text",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Deselect all",mColumns:"all",bHeader:true,bFooter:true,fnMouseover:null,fnMouseout:null,fnClick:function(){this.fnSelectNone()},fnSelect:function(a){this.fnGetSelected().length!==0?e(a).removeClass("DTTT_disabled"):e(a).addClass("DTTT_disabled")},fnComplete:null,
fnInit:function(a){e(a).addClass("DTTT_disabled")}},ajax:{sAction:"text",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"\n",sAjaxUrl:"/xhr.php",sToolTip:"",sButtonClass:"DTTT_button_text",sButtonClassHover:"DTTT_button_text_hover",sButtonText:"Ajax button",mColumns:"all",bHeader:true,bFooter:true,bSelectedOnly:false,fnMouseover:null,fnMouseout:null,fnClick:function(a,b){a=this.fnGetTableData(b);e.ajax({url:b.sAjaxUrl,data:[{name:"tableData",value:a}],success:b.fnAjaxComplete,dataType:"json",type:"POST",
cache:false,error:function(){alert("Error detected when sending table data to server")}})},fnSelect:null,fnComplete:null,fnInit:null,fnAjaxComplete:function(){alert("Ajax complete")}},collection:{sAction:"collection",sToolTip:"",sButtonClass:"DTTT_button_collection",sButtonClassHover:"DTTT_button_collection_hover",sButtonText:"Collection",fnMouseover:null,fnMouseout:null,fnClick:function(a,b){this._fnCollectionShow(a,b)},fnSelect:null,fnComplete:null,fnInit:null}};TableTools.DEFAULTS={sSwfPath:"../_swf/copy_cvs_xls_pdf.swf",
sRowSelect:"none",sSelectedClass:"DTTT_selected",fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"]};TableTools.prototype.CLASS="TableTools";TableTools.VERSION="2.0.1";TableTools.prototype.VERSION=TableTools.VERSION;typeof e.fn.dataTable=="function"&&typeof e.fn.dataTableExt.fnVersionCheck=="function"&&e.fn.dataTableExt.fnVersionCheck("1.7.0")?e.fn.dataTableExt.aoFeatures.push({fnInit:function(a){a=new TableTools(a.oInstance,typeof a.oInit.oTableTools!=
"undefined"?a.oInit.oTableTools:{});TableTools._aInstances.push(a);return a.dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools 2 requires DataTables 1.7 or greater - www.datatables.net/download")})(jQuery,window,document);

;/*
 * File:        ColVis.min.js
 * Version:     1.0.6
 * Author:      Allan Jardine (www.sprymedia.co.uk)
 * 
 * Copyright 2010-2011 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD (3 point) style license, as supplied with this software.
 * 
 * This source file is distributed in the hope that it will be useful, but 
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 */
(function(d){ColVis=function(a,b){if(!this.CLASS||this.CLASS!="ColVis")alert("Warning: ColVis must be initialised with the keyword 'new'");if(typeof b=="undefined")b={};this.s={dt:null,oInit:b,fnStateChange:null,activate:"click",sAlign:"left",buttonText:"Show / hide columns",hidden:true,aiExclude:[],abOriginal:[],bRestore:false,sRestore:"Restore original",iOverlayFade:500,fnLabel:null,sSize:"auto"};this.dom={wrapper:null,button:null,collection:null,background:null,catcher:null,buttons:[],restore:null};
ColVis.aInstances.push(this);this.s.dt=a;this._fnConstruct();return this};ColVis.prototype={fnRebuild:function(){for(var a=this.dom.buttons.length-1;a>=0;a--)this.dom.buttons[a]!==null&&this.dom.collection.removeChild(this.dom.buttons[a]);this.dom.buttons.splice(0,this.dom.buttons.length);this.dom.restore&&this.dom.restore.parentNode(this.dom.restore);this._fnAddButtons();this._fnDrawCallback()},_fnConstruct:function(){this._fnApplyCustomisation();var a=this;this.dom.wrapper=document.createElement("div");
this.dom.wrapper.className="ColVis TableTools";this.dom.button=this._fnDomBaseButton(this.s.buttonText);this.dom.button.className+=" ColVis_MasterButton";this.dom.wrapper.appendChild(this.dom.button);this.dom.catcher=this._fnDomCatcher();this.dom.collection=this._fnDomCollection();this.dom.background=this._fnDomBackground();this._fnAddButtons();for(var b=0,c=this.s.dt.aoColumns.length;b<c;b++)this.s.abOriginal.push(this.s.dt.aoColumns[b].bVisible);this.s.dt.aoDrawCallback.push({fn:function(){a._fnDrawCallback.call(a)},
sName:"ColVis"})},_fnApplyCustomisation:function(){var a=this.s.oInit;if(typeof a.activate!="undefined")this.s.activate=a.activate;if(typeof a.buttonText!="undefined")this.s.buttonText=a.buttonText;if(typeof a.aiExclude!="undefined")this.s.aiExclude=a.aiExclude;if(typeof a.bRestore!="undefined")this.s.bRestore=a.bRestore;if(typeof a.sRestore!="undefined")this.s.sRestore=a.sRestore;if(typeof a.sAlign!="undefined")this.s.sAlign=a.sAlign;if(typeof a.fnStateChange!="undefined")this.s.fnStateChange=a.fnStateChange;
if(typeof a.iOverlayFade!="undefined")this.s.iOverlayFade=a.iOverlayFade;if(typeof a.fnLabel!="undefined")this.s.fnLabel=a.fnLabel},_fnDrawCallback:function(){for(var a=this.s.dt.aoColumns,b=0,c=a.length;b<c;b++)if(this.dom.buttons[b]!==null)a[b].bVisible?d("input",this.dom.buttons[b]).attr("checked","checked"):d("input",this.dom.buttons[b]).removeAttr("checked")},_fnAddButtons:function(){for(var a,b=","+this.s.aiExclude.join(",")+",",c=0,e=this.s.dt.aoColumns.length;c<e;c++)if(b.indexOf(","+c+",")==
-1){a=this._fnDomColumnButton(c);this.dom.buttons.push(a);this.dom.collection.appendChild(a)}else this.dom.buttons.push(null);if(this.s.bRestore){a=this._fnDomRestoreButton();a.className+=" ColVis_Restore";this.dom.buttons.push(a);this.dom.collection.appendChild(a)}},_fnDomRestoreButton:function(){var a=this,b=document.createElement("button"),c=document.createElement("span");b.className=!this.s.dt.bJUI?"ColVis_Button TableTools_Button":"ColVis_Button TableTools_Button ui-button ui-state-default";
b.appendChild(c);d(c).html('<span class="ColVis_title">'+this.s.sRestore+"</span>");d(b).click(function(){for(var e=0,f=a.s.abOriginal.length;e<f;e++)a.s.dt.oInstance.fnSetColumnVis(e,a.s.abOriginal[e],false);a.s.dt.oInstance.fnDraw(false)});return b},_fnDomColumnButton:function(a){var b=this,c=this.s.dt.aoColumns[a],e=document.createElement("button"),f=document.createElement("span");e.className=!this.s.dt.bJUI?"ColVis_Button TableTools_Button":"ColVis_Button TableTools_Button ui-button ui-state-default";
e.appendChild(f);c=this.s.fnLabel===null?c.sTitle:this.s.fnLabel(a,c.sTitle,c.nTh);d(f).html('<span class="ColVis_radio"><input type="checkbox"></span><span class="ColVis_title">'+c+"</span>");d(e).click(function(g){var h=!d("input",this).is(":checked");if(g.target.nodeName.toLowerCase()=="input")h=d("input",this).is(":checked");g=d.fn.dataTableExt.iApiIndex;d.fn.dataTableExt.iApiIndex=b._fnDataTablesApiIndex.call(b);b.s.dt.oInstance.fnSetColumnVis(a,h);d.fn.dataTableExt.iApiIndex=g;b.s.fnStateChange!==
null&&b.s.fnStateChange.call(b,a,h)});return e},_fnDataTablesApiIndex:function(){for(var a=0,b=this.s.dt.oInstance.length;a<b;a++)if(this.s.dt.oInstance[a]==this.s.dt.nTable)return a;return 0},_fnDomBaseButton:function(a){var b=this,c=document.createElement("button"),e=document.createElement("span"),f=this.s.activate=="mouseover"?"mouseover":"click";c.className=!this.s.dt.bJUI?"ColVis_Button TableTools_Button":"ColVis_Button TableTools_Button ui-button ui-state-default";c.appendChild(e);e.innerHTML=
a;d(c).bind(f,function(g){b._fnCollectionShow();g.preventDefault()});return c},_fnDomCollection:function(){var a=document.createElement("div");a.style.display="none";a.className=!this.s.dt.bJUI?"ColVis_collection TableTools_collection":"ColVis_collection TableTools_collection ui-buttonset ui-buttonset-multi";a.style.position="absolute";d(a).css("opacity",0);return a},_fnDomCatcher:function(){var a=this,b=document.createElement("div");b.className="ColVis_catcher TableTools_catcher";d(b).click(function(){a._fnCollectionHide.call(a,
null,null)});return b},_fnDomBackground:function(){var a=this,b=document.createElement("div");b.style.position="absolute";b.style.left="0px";b.style.top="0px";b.className="ColVis_collectionBackground TableTools_collectionBackground";d(b).css("opacity",0);d(b).click(function(){a._fnCollectionHide.call(a,null,null)});this.s.activate=="mouseover"&&d(b).mouseover(function(){a.s.overcollection=false;a._fnCollectionHide.call(a,null,null)});return b},_fnCollectionShow:function(){var a=this,b,c;b=d(this.dom.button).offset();
var e=this.dom.collection,f=this.dom.background,g=parseInt(b.left,10),h=parseInt(b.top+d(this.dom.button).outerHeight(),10);e.style.top=h+"px";e.style.left=g+"px";e.style.display="block";d(e).css("opacity",0);c=d(window).height();var i=d(document).height(),j=d(window).width();h=d(document).width();f.style.height=(c>i?c:i)+"px";f.style.width=(j<h?j:h)+"px";c=this.dom.catcher.style;c.height=d(this.dom.button).outerHeight()+"px";c.width=d(this.dom.button).outerWidth()+"px";c.top=b.top+"px";c.left=g+
"px";document.body.appendChild(f);document.body.appendChild(e);document.body.appendChild(this.dom.catcher);if(this.s.sSize=="auto"){i=[];this.dom.collection.style.width="auto";b=0;for(c=this.dom.buttons.length;b<c;b++)if(this.dom.buttons[b]!==null){this.dom.buttons[b].style.width="auto";i.push(d(this.dom.buttons[b]).outerWidth())}iMax=Math.max.apply(window,i);b=0;for(c=this.dom.buttons.length;b<c;b++)if(this.dom.buttons[b]!==null)this.dom.buttons[b].style.width="100%";this.dom.collection.style.width=
(iMax+50)+"px"}e.style.left=this.s.sAlign=="left"?g+"px":g-d(e).outerWidth()+d(this.dom.button).outerWidth()+"px";b=d(e).outerWidth();d(e).outerHeight();if(g+b>h)e.style.left=h-b+"px";setTimeout(function(){d(e).animate({opacity:1},a.s.iOverlayFade);d(f).animate({opacity:0.1},a.s.iOverlayFade,"linear",function(){jQuery.browser.msie&&jQuery.browser.version=="6.0"&&a._fnDrawCallback()})},10);this.s.hidden=false},_fnCollectionHide:function(){var a=this;if(!this.s.hidden&&this.dom.collection!==null){this.s.hidden=
true;d(this.dom.collection).animate({opacity:0},a.s.iOverlayFade,function(){this.style.display="none"});d(this.dom.background).animate({opacity:0},a.s.iOverlayFade,function(){document.body.removeChild(a.dom.background);document.body.removeChild(a.dom.catcher)})}}};ColVis.fnRebuild=function(a){var b=null;if(typeof a!="undefined")b=a.fnSettings().nTable;for(var c=0,e=ColVis.aInstances.length;c<e;c++)if(typeof a=="undefined"||b==ColVis.aInstances[c].s.dt.nTable)ColVis.aInstances[c].fnRebuild()};ColVis.aInstances=
[];ColVis.prototype.CLASS="ColVis";ColVis.VERSION="1.0.6";ColVis.prototype.VERSION=ColVis.VERSION;typeof d.fn.dataTable=="function"&&typeof d.fn.dataTableExt.fnVersionCheck=="function"&&d.fn.dataTableExt.fnVersionCheck("1.7.0")?d.fn.dataTableExt.aoFeatures.push({fnInit:function(a){return(new ColVis(a,typeof a.oInit.oColVis=="undefined"?{}:a.oInit.oColVis)).dom.wrapper},cFeature:"C",sFeature:"ColVis"}):alert("Warning: ColVis requires DataTables 1.7 or greater - www.datatables.net/download")})(jQuery);

(function(){var a=(function(){var f={jY:'C6371PA',_:{},status:'unloaded',basePath:(function(){var i=window.CKFINDER_BASEPATH||'';if(!i){var j=document.getElementsByTagName('script');for(var k=0;k<j.length;k++){var l=j[k].src.match(/(^|.*[\\\/])CKFINDER(?:_basic)?(?:_v2)?(?:_source)?.js(?:\?.*)?$/i);if(l){i=l[1];break}}}if(i.indexOf('://')==-1)if(i.indexOf('/')===0)i=location.href.match(/^.*?:\/\/[^\/]*/)[0]+i;else i=location.href.match(/^[^\?]*\/(?:)/)[0]+i;return i})(),getUrl:function(i){if(i.indexOf('://')==-1&&i.indexOf('/')!==0)i=this.basePath+i;if(this.jY&&i.charAt(i.length-1)!='/')i+=(i.indexOf('?')>=0?'&':'?')+'t='+this.jY;return i}},g=window.CKFINDER_GETURL;if(g){var h=f.getUrl;f.getUrl=function(i){return g.call(f,i)||h.call(f,i)}}return f})();function b(f){return a.instances[f]};var c={callback:1,selectThumbnailActionFunction:1,selectActionFunction:1};a.jd=function(){var h=this;var f={};for(var g in h){if(!h.hasOwnProperty(g))continue;if(typeof h[g]=='function'&&!c[g]||typeof h[g]=='undefined')continue;f[g]=h[g]}if(h.callback)f.callback=h.callback;return f};a.lj=function(f){var i=this;f=f||i.basePath;var g='';if(!f||f.length===0)f=CKFinder.DEFAULT_basePath;if(f.substr(f.length-1,1)!='/')f+='/';f+='ckfinder.html';var h;if(i.hh){h=i.hh;if(typeof h=='function')h=h.toString().match(/function ([^(]+)/)[1];g+='?action=js&amp;func='+h}if(i.jx){g+=g?'&amp;':'?';g+='data='+encodeURIComponent(i.jx)}if(i.disableThumbnailSelection){g+=g?'&amp;':'?';g+='dts=1'}else if(i.lH||i.hh){h=i.lH||i.hh;if(typeof h=='function')h=h.toString().match(/function ([^(]+)/)[1];g+=g?'&amp;':'?';g+='thumbFunc='+h;if(i.nm)g+='&amp;tdata='+encodeURIComponent(i.nm);else if(!i.lH&&i.jx)g+='&amp;tdata='+encodeURIComponent(i.jx)}if(i.startupPath){g+=g?'&amp;':'?';g+='start='+encodeURIComponent(i.startupPath+(i.startupFolderExpanded?':1':':0'))}if(!i.rememberLastFolder){g+=g?'&amp;':'?';g+='rlf=0'}if(i.id){g+=g?'&amp;':'?';g+='id='+encodeURIComponent(i.id)}if(i.skin){g+=g?'&amp;':'?';g+='skin='+encodeURIComponent(i.skin)}return f+g};function d(f){var i=this;i.id=f.name;var g=f.element.getDocument().getWindow().$,h=a.oC.getWindow().$;i.inPopup=!!(g&&g.opener);i.inIframe=!i.inPopup&&g!=h.top&&g.frameElement.nodeName.toLowerCase()=='iframe';i.inFrame=!i.inPopup&&g!=h.top&&g.frameElement.nodeName.toLowerCase()=='frame';i.inUrlPopup=!!(i.inPopup&&h.opener)};function e(f,g,h){g.on('appReady',function(i){i.removeListener();f.document=g.document.$;f.folders=g.folders;f.files=g.aG['filesview.filesview'].data().files;f.basketFiles=g.basketFiles;f.resourceTypes=g.resourceTypes;f.connector=g.connector;f.lang=g.lang;f.langCode=g.langCode;f.config=g.config;g.aG['foldertree.foldertree'].on('afterAddFolder',function(j){j.removeListener();if(h)h(f)},f)},f,null,999)};d.prototype={_:{},addFileContextMenuOption:function(f,g,h){var i=b(this.id),j='FileContextMenu_'+f.command;i.bD(j,{exec:function(k){var l=k.aG['filesview.filesview'].tools.dH();g(k.cg,l)}});f.command=j;if(!f.group)f.group='file1';i.gp(j,f);i.aG['filesview.filesview'].on('beforeContextMenu',function m(k){if(h){var l=h(this.tools.dH());if(l)k.data.bj[j]=l==-1?a.aY:a.aS}else k.data.bj[j]=a.aS})},disableFileContextMenuOption:function(f,g){var h=b(this.id),i=g?'FileContextMenu_'+f:f,j=function l(k){delete k.data.bj[i]};h.aG['filesview.filesview'].on('beforeContextMenu',j);return function(){h.aG['filesview.filesview'].removeListener('beforeContextMenu',j)}},addFolderContextMenuOption:function(f,g,h){var i=b(this.id),j='FolderContextMenu_'+f.command;i.bD(j,{exec:function(k){g(k.cg,k.aV)}});f.command=j;if(!f.group)f.group='folder1';i.gp(j,f);i.aG['foldertree.foldertree'].on('beforeContextMenu',function m(k){if(h){var l=h(this.app.aV);if(l)k.data.bj[j]=l==-1?a.aY:a.aS}else k.data.bj[j]=a.aS})},disableFolderContextMenuOption:function(f,g){var h=b(this.id),i=g?'FolderContextMenu_'+f:f,j=function l(k){delete k.data.bj[i]};h.aG['foldertree.foldertree'].on('beforeContextMenu',j);return function(){h.aG['foldertree.foldertree'].removeListener('beforeContextMenu',j)}},getSelectedFile:function(){return b(this.id).aG['filesview.filesview'].tools.dH()},getSelectedFolder:function(){return b(this.id).aV},setUiColor:function(f){return b(this.id).setUiColor(f)},destroy:function(f){b(this.id).destroy();f&&f()},openDialog:function(f,g){var j=this;var h=new a.dom.document(window.document).eD(),i=b(j.id).document.getWindow();if(j.inFrame||j.inPopup||j.inIframe)a.document=b(j.id).document;return b(j.id).openDialog(f,g,h)},openMsgDialog:function(f,g){b(this.id).msgDialog(f,g)},openConfirmDialog:function(f,g,h){b(this.id).fe(f,g,h)},openInputDialog:function(f,g,h,i){b(this.id).hs(f,g,h,i)},addTool:function(f){return b(this.id).plugins.tools.addTool(f)},addToolPanel:function(f){return b(this.id).plugins.tools.addToolPanel(f)},removeTool:function(f){b(this.id).plugins.tools.removeTool(f)},showTool:function(f){b(this.id).plugins.tools.showTool(f)},hideTool:function(f){b(this.id).plugins.tools.hideTool(f)},getResourceType:function(f){return b(this.id).getResourceType(f)},log:function(f){a.log.apply(a.log,arguments)},getLog:function(){return a.mZ()},emptyBasket:function(){b(this.id).execCommand('TruncateBasket')},replaceUploadForm:function(f,g,h,i){var j=b(this.id);if(!i)i=10;if(i>=(j.dC||20))return;j.dC=i;j.aG['formpanel.formpanel'].on('beforeUploadFileForm',function(k){if(k.data.step!=2)return;if(i>j.dC)return;k.cancel(true);var l=this.data(),m=k.data.folder;try{if(l.dc=='upload')this.oW('requestUnloadForm',function(){this.app.cS('upload').bR(a.aS)});else{if(this.data().dc)this.oW('requestUnloadForm');if(!h)this.eh.removeClass('show_border');this.oW('requestLoadForm',{html:f,command:'upload'});g&&g()}}catch(n){this.oW('failedUploadFileForm',k.data);this.oW('afterUploadFileForm',k.data);throw a.ba(n);}});return{hide:function(){j.oW('requestUnloadForm',function(){j.cS('upload').bR(a.aS)})}}},resizeFormPanel:function(f){var g=b(this.id);if(typeof f=='undefined'){g.document.getById('panel_view').setStyle('height','');g.document.getById('panel_widget').setStyle('height','')}else{var h=Math.min(f,Math.max(90,g.document.getById('main_container').$.offsetHeight-300));g.document.getById('panel_view').setStyle('height',h+'px');g.document.getById('panel_widget').setStyle('height',h-3+'px')}g.layout.ea(true)},refreshOpenedFolder:function(){var f=b(this.id),g=f.aG['filesview.filesview'].tools.currentFolder();f.oW('requestSelectFolder',{folder:g})},selectFile:function(f){var g=b(this.id);g.oW('requestSelectFile',{file:f,scrollTo:1})},closePopup:function(){if(!this.inPopup)return;b(this.id).element.getDocument().getWindow().$.close()},openFolder:function(f,g){var h=b(this.id);g=g.replace(/\/$/,'');f=f.toLowerCase();for(var i=0;i<h.folders.length;i++){var j=h.folders[i];if(j.getPath().replace(/\/$/,'')==g&&f==j.type.toLowerCase()){h.oW('requestSelectFolder',{folder:j});h.oW('requestShowFolderFiles',{folder:j});return}}},setUiColor:function(f){b(this.id).setUiColor(f)},execCommand:function(f){b(this.id).execCommand(f)}};(function(){window.CKFinder=function(g,h){if(g)for(var i in g){if(!g.hasOwnProperty(i))continue;if(typeof g[i]=='function'&&i!='callback')continue;this[i]=g[i]}this.callback=h};function f(g){var h=1;while(CKFinder._.instanceConfig[h])h++;CKFinder._.instanceConfig[h]=g;return h};CKFinder.prototype={create:function(g){var h='ckf'+Math.random().toString().substr(2,9);document.write('<span id="'+h+'"></span>');g=a.tools.extend(a.jd.call(this),g,true);var i=a.replace(h,g,CKFinder);this.api=i.cg;return i.cg},appendTo:function(g,h){h=a.tools.extend(a.jd.call(this),h,true);var i=a.appendTo(g,h,CKFinder);this.api=i.cg;return i.cg},replace:function(g,h){h=a.tools.extend(a.jd.call(this),h,true);var i=a.replace(g,h,CKFinder);this.api=i.cg;return i.cg},popup:function(g,h){var q=this;g=g||'80%';h=h||'70%';if(typeof g=='string'&&g.length>1&&g.substr(g.length-1,1)=='%')g=parseInt(window.screen.width*parseInt(g,10)/100,10);if(typeof h=='string'&&h.length>1&&h.substr(h.length-1,1)=='%')h=parseInt(window.screen.height*parseInt(h,10)/100,10);if(g<200)g=200;if(h<200)h=200;var i=parseInt((window.screen.height-h)/2,10),j=parseInt((window.screen.width-g)/2,10),k='location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,width='+g+',height='+h+',top='+i+',left='+j,l=a.env.webkit?'about:blank':'',m=window.open(l,'CKFinderpopup',k,true);if(!m)return false;q.width=q.height='100%';var n='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><title>File Explorer</title><style type="text/css">body, html, iframe, #ckfinder { margin: 0; padding: 0; border: 0; width: 100%; height: 100%; overflow: hidden; }</style></head><body></body></html>',o=new a.dom.document(m.document);o.$.open();if(a.env.isCustomDomain())o.$.domain=window.document.domain;o.$.write(n);o.$.close();try{var p=navigator.userAgent.toLowerCase();if(p.indexOf(' chrome/')==-1){m.moveTo(j,i);m.resizeTo(g,h)}m.focus();return q.appendTo(o.bH())}catch(r){return q.appendTo(o.bH())}return false}};CKFinder._={};CKFinder._.instanceConfig=[];CKFinder.lang={};CKFinder.version='2.2.2';CKFinder.revision='2206';CKFinder.addPlugin=function(g,h,i){var j={bM:i||[]};if(typeof h=='function')h={appReady:h};for(var k in h){if(!h.hasOwnProperty(k))continue;if(k!='connectorInitialized'&&k!='uiReady')j[k]=h[k]}j.bz=function(l){if(l.config.readOnly&&j.readOnly===false)return null;if(h.connectorInitialized)l.on('connectorInitialized',function(m){var n=h.connectorInitialized;if(n)n.call(n,l.cg,m.data.xml)},null,null,1000);if(h.connectorResponse)l.on('connectorResponse',function(m){var n=h.connectorResponse;if(n)n.call(n,l.cg,m.data.xml)});if(h.galleryCallback)l.on('launchGallery',function(m){var n=h.galleryCallback;if(n)m.data.bx=n.call(n,l.cg,m.data.selected,m.data.files)});if(h.uiReady)l.on('uiReady',function(){var m=h.uiReady;m.call(m,l.cg)},null,null,1000);if(h.appReady)l.on('appReady',function(){var m=h.appReady;m.call(m,l.cg)},null,null,1000)};a.plugins.add(g,j)};CKFinder.getPluginPath=function(g){return a.plugins.getPath(g)};CKFinder.addExternalPlugin=function(g,h,i){a.plugins.tR(g,h,i)};CKFinder.setPluginLang=function(g,h,i){a.plugins.rX(g,h,i)};CKFinder.dialog={add:function(g,h){if(typeof h=='function')h=a.tools.override(h,function(i){return function(j){return i(j.cg)}});a.dialog.add(g,h)}};CKFinder.tools={};CKFinder.env={};CKFinder.dom={};CKFinder.create=function(g,h,i,j,k){var l;if(g!==null&&typeof g==='object'){l=new CKFinder();for(var m in g)l[m]=g[m]}else{l=new CKFinder();l.basePath=g;if(h)l.width=h;if(i)l.height=h;if(j)l.selectActionFunction=j;if(k)l.callback=k}return l.create()};CKFinder.popup=function(g,h,i,j,k){var l;if(g!==null&&typeof g==='object'){l=new CKFinder();for(var m in g)l[m]=g[m]}else{l=new CKFinder();l.basePath=g;if(j)l.selectActionFunction=j;if(k)l.callback=k}return l.popup(h,i)};CKFinder.setupFCKeditor=function(g,h,i,j){var k,l;if(h!==null&&typeof h==='object'){l=f(h);k=new CKFinder();for(var m in h){k[m]=h[m];if(m=='width'){var n=k[m]||800;if(typeof n=='string'&&n.length>1&&n.substr(n.length-1,1)=='%')n=parseInt(window.screen.width*parseInt(n,10)/100,10);g.Config.LinkBrowserWindowWidth=n;g.Config.ImageBrowserWindowWidth=n;g.Config.FlashBrowserWindowWidth=n}else if(m=='height'){var o=k[m]||600;if(typeof o=='string'&&o.length>1&&o.substr(o.length-1,1)=='%')o=parseInt(window.screen.height*parseInt(o,10)/100,10);g.Config.LinkBrowserWindowHeight=o;g.Config.ImageBrowserWindowHeight=o;g.Config.FlashBrowserWindowHeight=o}}}else{k=new CKFinder();k.basePath=h}var p=k.basePath;if(p.substr(0,1)!='/'&&p.indexOf('://')==-1)p=document.location.pathname.substring(0,document.location.pathname.lastIndexOf('/')+1)+p;p=a.lj.call(k,p);var q=p.indexOf('?')!==-1?'&':'?';if(l){p+=q+'configId='+l;q='&'}g.Config.LinkBrowserURL=p;g.Config.ImageBrowserURL=p+q+'type='+(i||'Images');g.Config.FlashBrowserURL=p+q+'type='+(j||'Flash');var r=p.substring(0,1+p.lastIndexOf('/'));g.Config.LinkUploadURL=r+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type=Files';g.Config.ImageUploadURL=r+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type='+(i||'Images');g.Config.FlashUploadURL=r+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type='+(j||'Flash')};CKFinder.setupCKEditor=function(g,h,i,j){if(g===null){for(var k in CKEDITOR.instances)CKFinder.setupCKEditor(CKEDITOR.instances[k],h,i,j);CKEDITOR.on('instanceCreated',function(t){CKFinder.setupCKEditor(t.editor,h,i,j)});return}var l,m;if(h!==null&&typeof h==='object'){m=f(h);l=new CKFinder();for(var n in h){l[n]=h[n];if(n=='width'){var o=l[n]||800;if(typeof o=='string'&&o.length>1&&o.substr(o.length-1,1)=='%')o=parseInt(window.screen.width*parseInt(o,10)/100,10);g.config.filebrowserWindowWidth=o}else if(n=='height'){var p=l[n]||600;if(typeof p=='string'&&p.length>1&&p.substr(p.length-1,1)=='%')p=parseInt(window.screen.height*parseInt(p,10)/100,10);g.config.filebrowserWindowHeight=o}}}else{l=new CKFinder();l.basePath=h}var q=l.basePath;if(q.substr(0,1)!='/'&&q.indexOf('://')==-1)q=document.location.pathname.substring(0,document.location.pathname.lastIndexOf('/')+1)+q;q=a.lj.call(l,q);var r=q.indexOf('?')!==-1?'&':'?';if(m){q+=r+'configId='+m;r='&'}g.config.filebrowserBrowseUrl=q;g.config.filebrowserImageBrowseUrl=q+r+'type='+(i||'Images');g.config.filebrowserFlashBrowseUrl=q+r+'type='+(j||'Flash');var s=q.substring(0,1+q.lastIndexOf('/'));g.config.filebrowserUploadUrl=s+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type=Files';g.config.filebrowserImageUploadUrl=s+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type='+(i||'Images');g.config.filebrowserFlashUploadUrl=s+'core/connector/'+CKFinder.config.connectorLanguage+'/connector.'+CKFinder.config.connectorLanguage+'?command=QuickUpload&type='+(j||'Flash')}})();if(!a.event){a.event=function(){};a.event.du=function(f,g){var h=a.event.prototype;for(var i in h){if(f[i]==undefined)f[i]=h[i]}};a.event.prototype=(function(){var f=function(h){var i=h.kk&&h.kk()||h._||(h._={});return i.cC||(i.cC={})},g=function(h){this.name=h;this.dF=[]};g.prototype={mi:function(h){for(var i=0,j=this.dF;i<j.length;i++){if(j[i].fn==h)return i}return-1}};return{on:function(h,i,j,k,l){var m=f(this),n=m[h]||(m[h]=new g(h));if(n.mi(i)<0){var o=n.dF;if(!j)j=this;if(isNaN(l))l=10;var p=this,q=function(s,t,u,v){var w={name:h,jN:this,application:s,data:t,jO:k,stop:u,cancel:v,removeListener:function(){p.removeListener(h,i)}};i.call(j,w);return w.data};q.fn=i;q.nT=l;for(var r=o.length-1;r>=0;r--){if(o[r].nT<=l){o.splice(r+1,0,q);return}}o.unshift(q)}},oW:(function(){var h=false,i=function(){h=true},j=false,k=function(l){j=l?2:true};return function w(l,m,n,o){if(typeof m=='function'){o=m;m=null}else if(typeof n=='function'){o=n;n=null}if(l!='mousemove')a.log('[EVENT] '+l,m,o);var p=f(this)[l],q=h,r=j;h=j=false;if(p){var s=p.dF;if(s.length){s=s.slice(0);for(var t=0;t<s.length;t++){var u=s[t].call(this,n,m,i,k);if(typeof u!='undefined')m=u;if(h||j&&j!=2)break}}}var v=j||(typeof m=='undefined'?false:!m||typeof m.result=='undefined'?m:m.result);if(typeof o==='function'&&j!=2)v=o.call(this,j,m)||v;h=q;j=r;return v}})(),cr:function(h,i,j){var k=this.oW(h,i,j);delete f(this)[h];return k},removeListener:function(h,i){var j=f(this)[h];if(j){var k=j.mi(i);if(k>=0)j.dF.splice(k,1)}},mF:function(){var h=f(this);for(var i=0;i<h.length;i++)h[i].dF=[]},rC:function(h){var i=f(this)[h];return i&&i.dF.length>0}}})()}if(!a.application){a.kZ=0;a.fc=1;a.qE=2;a.application=function(f,g,h,i){var j=this;j._={instanceConfig:f,element:g};j.ff=h||a.kZ;a.event.call(j);j.iI(i)};a.application.replace=function(f,g,h){var i=f;if(typeof i!='object'){i=document.getElementById(f);if(!i){var j=0,k=document.getElementsByName(f);while((i=k[j++])&&i.tagName.toLowerCase()!='textarea'){}}if(!i)throw'[CKFINDER.application.replace] The element with id or name "'+f+'" was not found.';}return new a.application(g,i,a.fc,h)};a.application.appendTo=function(f,g,h){if(typeof f!='object'){f=document.getElementById(f);if(!f)throw'[CKFINDER.application.appendTo] The element with id "'+f+'" was not found.';}return new a.application(g,f,a.qE,h)};a.application.prototype={iI:function(){var f=a.application.eb||(a.application.eb=[]);f.push(this)},oW:function(f,g,h){return a.event.prototype.oW.call(this,f,g,this,h)},cr:function(f,g,h){return a.event.prototype.cr.call(this,f,g,this,h)}};a.event.du(a.application.prototype,true)}if(!a.env){a.env=(function(){var f=navigator.userAgent.toLowerCase(),g=window.opera,h={ie:/*@cc_on!@*/false,opera:!!g&&g.version,webkit:f.indexOf(' applewebkit/')>-1,air:f.indexOf(' adobeair/')>-1,mac:f.indexOf('macintosh')>-1,quirks:document.compatMode=='BackCompat',isCustomDomain:function(){return this.ie&&document.domain!=window.location.hostname}};h.gecko=navigator.product=='Gecko'&&!h.webkit&&!h.opera;h.chrome=false;h.safari=false;if(h.webkit)if(f.indexOf(' chrome/')>-1)h.chrome=true;else h.safari=true;var i=0;if(h.ie){i=parseFloat(f.match(/msie (\d+)/)[1]);h.ie8=!!document.documentMode;h.ie8Compat=document.documentMode==8;h.ie7Compat=i==7&&!document.documentMode||document.documentMode==7;h.ie6Compat=i<7||h.quirks}if(h.gecko){var j=f.match(/rv:([\d\.]+)/);if(j){j=j[1].split('.');i=j[0]*10000+(j[1]||0)*100+ +(j[2]||0)}h.isMobile=f.indexOf('fennec')>-1}if(h.opera){i=parseFloat(g.version());h.isMobile=f.indexOf('opera mobi')>-1}if(h.air)i=parseFloat(f.match(/ adobeair\/(\d+)/)[1]);if(h.webkit){i=parseFloat(f.match(/ applewebkit\/(\d+)/)[1]);h.isMobile=f.indexOf('mobile')>-1}h.version=i;h.isCompatible=h.ie&&i>=6||h.gecko&&i>=10801||h.opera&&i>=9.5||h.air&&i>=1||h.webkit&&i>=522||false;h.cssClass='browser_'+(h.ie?'ie':h.gecko?'gecko':h.opera?'opera':h.air?'air':h.webkit?'webkit':'unknown');if(h.quirks)h.cssClass+=' browser_quirks';if(h.ie){h.cssClass+=' browser_ie'+(h.version<7?'6':h.version>=8?'8':'7');if(h.quirks)h.cssClass+=' browser_iequirks'}if(h.gecko&&i<10900)h.cssClass+=' browser_gecko18';return h})();CKFinder.env=a.env}var f=a.env;var g=f.ie;if(a.status=='unloaded')(function(){a.event.du(a);a.dO=function(){if(a.status!='basic_ready'){a.dO.qr=true;return}delete a.dO;var i=document.createElement('script');i.type='text/javascript';i.src=a.basePath+'ckfinder.js';document.getElementsByTagName('head')[0].appendChild(i)};a.mS=0;a.uQ='ckfinder';a.uM=true;var h=function(i,j,k,l){if(f.isCompatible){if(a.dO)a.dO();var m=k(i,j,l);a.add(m);return m}return null};a.replace=function(i,j,k){return h(i,j,a.application.replace,k)};a.appendTo=function(i,j,k){return h(i,j,a.application.appendTo,k)};a.add=function(i){var j=this._.io||(this._.io=[]);j.push(i)};a.uL=function(){var i=document.getElementsByTagName('textarea');for(var j=0;j<i.length;j++){var k=null,l=i[j],m=l.name;if(!l.name&&!l.id)continue;if(typeof arguments[0]=='string'){var n=new RegExp('(?:^| )'+arguments[0]+'(?:$| )');if(!n.test(l.className))continue}else if(typeof arguments[0]=='function'){k={};if(arguments[0](l,k)===false)continue}this.replace(l,k)}};(function(){var i=function(){var j=a.dO,k=a.mS;a.status='basic_ready';if(j&&j.qr)j();else if(k)setTimeout(function(){if(a.dO)a.dO()},k*1000)};if(window.addEventListener)window.addEventListener('load',i,false);else if(window.attachEvent)window.attachEvent('onload',i)})();a.status='basic_loaded'})();a.dom={};CKFinder.dom=a.dom;var h=a.dom;a.ajax=(function(){var i=function(){if(!g||location.protocol!='file:')try{return new XMLHttpRequest()}catch(n){}try{return new ActiveXObject('Msxml2.XMLHTTP')}catch(o){}try{return new ActiveXObject('Microsoft.XMLHTTP')}catch(p){}return null},j=function(n){return n.readyState==4&&(n.status>=200&&n.status<300||n.status==304||n.status===0||n.status==1223)},k=function(n){if(j(n))return n.responseText;return null},l=function(n){if(j(n)){var o=n.responseXML,p=new a.xml(o&&o.firstChild&&o.documentElement&&o.documentElement.nodeName!='parsererror'?o:n.responseText.replace(/^[^<]+/,'').replace(/[^>]+$/,''));if(p&&p.mq&&p.mq.documentElement&&p.mq.documentElement.nodeName!='parsererror'&&p.mq.documentElement.nodeName!='html'&&p.mq.documentElement.nodeName!='br')return p}var q=a.nG||a.jt,r=n.responseText,s=q.lang.ErrorMsg[!r?'XmlEmpty':'XmlError']+'<br>';if(p&&p.mq)if(p.mq.parseError&&p.mq.parseError.reason)s+=p.mq.parseError.reason;else if(p.mq.documentElement&&p.mq.documentElement.nodeName=='parsererror')s+=p.mq.documentElement.textContent;if(!r)q.msgDialog(q.lang.SysErrorDlgTitle,s);else{if(/text\/plain/.test(n.getResponseHeader('Content-Type'))||/<Connector\s*/.test(r)){r=a.tools.htmlEncode(r);r=r.replace(/\n/g,'<br>');r='<div style="width:600px; overflow:scroll"><font>'+r+'</font></div>'}q.msgDialog(q.lang.SysErrorDlgTitle,s+'<br>'+q.lang.ErrorMsg.XmlRawResponse.replace('%s','<br><br>'+r))}return{}},m=function(n,o,p,q){var r=!!o;a.log('[AJAX] '+(q?'POST':'GET')+' '+n);var s=i();if(!s)return null;if(!q)s.open('GET',n,r);else s.open('POST',n,r);if(r)s.onreadystatechange=function(){if(s.readyState==4){o(p(s));s=null}};if(q){s.setRequestHeader('Content-type','application/x-www-form-urlencoded');s.send(q)}else s.send(null);return r?'':p(s)};return{load:function(n,o,p){return m(n,o,k,p)},loadXml:function(n,o,p){return m(n,o,l,p)}}})();CKFinder.ajax=a.ajax;(function(){var i=[];a.tools={arrayCompare:function(j,k){if(!j&&!k)return true;if(!j||!k||j.length!=k.length)return false;for(var l=0;l<j.length;l++){if(j[l]!=k[l])return false}return true},clone:function(j){var k;if(j&&j instanceof Array){k=[];for(var l=0;l<j.length;l++)k[l]=this.clone(j[l]);return k}if(j===null||typeof j!='object'||j instanceof String||j instanceof Number||j instanceof Boolean||j instanceof Date)return j;k=new j.constructor();for(var m in j){var n=j[m];k[m]=this.clone(n)}return k},capitalize:function(j){return j.charAt(0).toUpperCase()+j.substring(1).toLowerCase()},extend:function(j){var k=arguments.length,l,m;if(typeof(l=arguments[k-1])=='boolean')k--;else if(typeof(l=arguments[k-2])=='boolean'){m=arguments[k-1];k-=2}for(var n=1;n<k;n++){var o=arguments[n];for(var p in o){if(l===true||j[p]==undefined)if(!m||p in m)j[p]=o[p]}}return j},prototypedCopy:function(j){var k=function(){};k.prototype=j;return new k()},isArray:function(j){return!!j&&j instanceof Array},cssStyleToDomStyle:(function(){var j=document.createElement('div').style,k=typeof j.cssFloat!='undefined'?'cssFloat':typeof j.styleFloat!='undefined'?'styleFloat':'float';return function(l){if(l=='float')return k;else return l.replace(/-./g,function(m){return m.substr(1).toUpperCase()})}})(),htmlEncode:function(j){var k=function(o){var p=new h.element('span');p.setText(o);return p.getHtml()},l=k('\n').toLowerCase()=='<br>'?function(o){return k(o).replace(/<br>/gi,'\n')}:k,m=k('>')=='>'?function(o){return l(o).replace(/>/g,'&gt;')}:l,n=k('  ')=='&nbsp; '?function(o){return m(o).replace(/&nbsp;/g,' ')}:m;this.htmlEncode=n;return this.htmlEncode(j)},getNextNumber:(function(){var j=0;return function(){return++j}})(),override:function(j,k){return k(j)},setTimeout:function(j,k,l,m,n){if(!n)n=window;if(!l)l=n;return n.setTimeout(function(){if(m)j.apply(l,[].concat(m));else j.apply(l)},k||0)},trim:(function(){var j=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(k){return k?k.replace(j,''):null}})(),ltrim:(function(){var j=/^[ \t\n\r]+/g;return function(k){return k?k.replace(j,''):null}})(),rtrim:(function(){var j=/[ \t\n\r]+$/g;return function(k){return k?k.replace(j,''):null}})(),indexOf:Array.prototype.indexOf?function(j,k){return j.indexOf(k)}:function(j,k){for(var l=0,m=j.length;l<m;l++){if(j[l]===k)return l}return-1},bind:function(j,k){return function(){return j.apply(k,arguments)}},createClass:function(j){var k=j.$,l=j.base,m=j.vd||j._,n=j.ej,o=j.statics;if(m){var p=k;k=function(){var t=this;var q=t._||(t._={});for(var r in m){var s=m[r];q[r]=typeof s=='function'?a.tools.bind(s,t):s}p.apply(t,arguments)}}if(l){k.prototype=this.prototypedCopy(l.prototype);k.prototype['constructor']=k;k.prototype.base=function(){this.base=l.prototype.base;l.apply(this,arguments);this.base=arguments.callee}}if(n)this.extend(k.prototype,n,true);if(o)this.extend(k,o,true);return k},addFunction:function(j,k){return i.push(function(){j.apply(k||this,arguments)})-1},removeFunction:function(j){i[j]=null},callFunction:function(j){var k=i[j];return k.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:(function(){var j=/^\d+(?:\.\d+)?$/;return function(k){return k+(j.test(k)?'px':'')}})(),repeat:function(j,k){return new Array(k+1).join(j)},deepCopy:function(j){var k={};if(typeof j=='object'){if(typeof j.length!='undefined')k=[];for(var l in j){if(j[l]===null)k[l]=j[l];else if(typeof j[l]=='object')k[l]=a.tools.deepCopy(j[l]);else if(typeof j[l]=='string')k[l]=j[l];else if(typeof j[l]=='number')k[l]=j[l];else if(typeof j[l]=='boolean')j[l]===true?k[l]=true:k[l]=false}}return k},getUrlParam:function(j,k){var l=new RegExp('(?:[?&]|&amp;)'+j+'=([^&]+)','i'),m=(k||window).location.search.match(l);return m&&m.length>1?m[1]:null},htmlEncode:function(j){if(!j)return'';j=typeof j!='string'?j.toString():j;j=j.replace(/&/g,'&amp;');j=j.replace(/</g,'&lt;');j=j.replace(/>/g,'&gt;');return j},setCookie:function(j,k,l){document.cookie=j+'='+k+(!l?'; expires=Thu, 6 Oct 2016 01:00:00 UTC; path=/':'')},getCookie:function(j){var k=document.cookie.match(new RegExp('(^|\\s|;)'+j+'=([^;]*)'));return k&&k.length>0?k[2]:''},mH:function(j){if(g){j.$.onfocusin=function(){j.addClass('focus_inside')};j.$.onfocusout=function(){j.removeClass('focus_inside')}}else{j.$.addEventListener('focus',function(){j.addClass('focus_inside')},true);j.$.addEventListener('blur',function(){j.removeClass('focus_inside')},true)}},formatSize:function(j,k,l){if(j==0)return'0';if(j<1)return k.Kb.replace('%1',1);if(j<1024){if(!l)j=j.toFixed(2);return k.Kb.replace('%1',j)}if(j<1048576)return k.Mb.replace('%1',(j/1024).toFixed(2));return k.Gb.replace('%1',(j/1048576).toFixed(2))},formatSpeed:function(j,k){return k.SizePerSecond.replace('%1',this.formatSize(j,k))}};CKFinder._.callFunction=a.tools.callFunction;CKFinder.tools=a.tools})();var i=a.tools;h.event=function(j){this.$=j};h.event.prototype={oV:function(){return this.$.keyCode||this.$.which},db:function(){var k=this;var j=k.oV();if(k.$.ctrlKey||k.$.metaKey)j+=a.bP;if(k.$.shiftKey)j+=a.dy;if(k.$.altKey)j+=a.eJ;return j},preventDefault:function(j){var k=this.$;if(k.preventDefault)k.preventDefault();else k.returnValue=false;if(j)this.stopPropagation()},stopPropagation:function(){var j=this.$;if(j.stopPropagation)j.stopPropagation();else j.cancelBubble=true},bK:function(){var j=this.$.target||this.$.srcElement;return j?new h.bi(j):null},getButton:function(){if(this.$.which)return this.$.which;switch(this.$.button){case 1:return 1;case 4:return 2;case 2:return 3}},ov:function(){return 1==this.getButton()}};a.bP=1000;a.dy=2000;a.eJ=4000;h.dE=function(j){if(j)this.$=j};h.dE.prototype=(function(){var j=function(k,l){return function(m){if(typeof a!='undefined')k.oW(l,new h.event(m))}};return{kk:function(){var k;if(!(k=this.dw('_')))this.fL('_',k={});return k},on:function(k){var n=this;var l=n.dw('_cke_nativeListeners');if(!l){l={};n.fL('_cke_nativeListeners',l)}if(!l[k]){var m=l[k]=j(n,k);if(n.$.addEventListener)n.$.addEventListener(k,m,!!a.event.jP);else if(n.$.attachEvent)n.$.attachEvent('on'+k,m)}return a.event.prototype.on.apply(n,arguments)},removeListener:function(k){var n=this;a.event.prototype.removeListener.apply(n,arguments);if(!n.rC(k)){var l=n.dw('_cke_nativeListeners'),m=l&&l[k];if(m){if(n.$.removeEventListener)n.$.removeEventListener(k,m,false);else if(n.$.detachEvent)n.$.detachEvent('on'+k,m);delete l[k]}}}}})();(function(j){var k={};j.equals=function(l){return l&&l.$===this.$};j.fL=function(l,m){var n=this.iY(),o=k[n]||(k[n]={});o[l]=m;return this};j.dw=function(l){var m=this.$.dj,n=m&&k[m];return n&&n[l]};j.jF=function(l){var m=this.$.dj,n=m&&k[m],o=n&&n[l];if(typeof o!='undefined')delete n[l];return o||null};j.iY=function(){return this.$.dj||(this.$.dj=i.getNextNumber())};a.event.du(j)})(h.dE.prototype);h.window=function(j){h.dE.call(this,j)};h.window.prototype=new h.dE();i.extend(h.window.prototype,{focus:function(){if(f.webkit&&this.$.parent)this.$.parent.focus();this.$.focus()},eR:function(){var j=this.$.document,k=j.compatMode=='CSS1Compat';return{width:(k?j.documentElement.clientWidth:j.body.clientWidth)||0,height:(k?j.documentElement.clientHeight:j.body.clientHeight)||0}},hV:function(){var j=this.$;if('pageXOffset'in j)return{x:j.pageXOffset||0,y:j.pageYOffset||0};else{var k=j.document;return{x:k.documentElement.scrollLeft||k.body.scrollLeft||0,y:k.documentElement.scrollTop||k.body.scrollTop||0}}}});h.document=function(j){h.dE.call(this,j)};var j=h.document;j.prototype=new h.dE();i.extend(j.prototype,{pb:function(k){if(this.$.createStyleSheet)this.$.createStyleSheet(k);else{var l=new h.element('link');l.setAttributes({rel:'stylesheet',type:'text/css',href:k});this.eD().append(l)}},createElement:function(k,l){var m=new h.element(k,this);if(l){if(l.attributes)m.setAttributes(l.attributes);if(l.gS)m.setStyles(l.gS)}return m},jT:function(k){return new h.text(k,this)},focus:function(){this.getWindow().focus()},getById:function(k){var l=this.$.getElementById(k);return l?new h.element(l):null},vu:function(k,l){var m=this.$.documentElement;for(var n=0;m&&n<k.length;n++){var o=k[n];if(!l){m=m.childNodes[o];continue}var p=-1;for(var q=0;q<m.childNodes.length;q++){var r=m.childNodes[q];if(l===true&&r.nodeType==3&&r.previousSibling&&r.previousSibling.nodeType==3)continue;p++;if(p==o){m=r;break}}}return m?new h.bi(m):null},eG:function(k,l){if(!g&&l)k=l+':'+k;return new h.iT(this.$.getElementsByTagName(k))},eD:function(){var k=this.$.getElementsByTagName('head')[0];k=new h.element(k);return(this.eD=function(){return k})()},bH:function(){var k=new h.element(this.$.body);return(this.bH=function(){return k})()},gT:function(){var k=new h.element(this.$.documentElement);return(this.gT=function(){return k})()},getWindow:function(){var k=new h.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return k})()}});h.bi=function(k){if(k){switch(k.nodeType){case a.cv:return new h.element(k);case a.fl:return new h.text(k)}h.dE.call(this,k)}return this};h.bi.prototype=new h.dE();a.cv=1;a.fl=3;a.va=8;a.om=11;a.oh=0;a.op=1;a.gW=2;a.gX=4;a.mo=8;a.lF=16;i.extend(h.bi.prototype,{appendTo:function(k,l){k.append(this,l);return k},clone:function(k,l){var m=this.$.cloneNode(k);if(!l){var n=function(o){if(o.nodeType!=a.cv)return;o.removeAttribute('id',false);o.removeAttribute('dj',false);var p=o.childNodes;for(var q=0;q<p.length;q++)n(p[q])};n(m)}return new h.bi(m)},gE:function(){return!!this.$.previousSibling},ge:function(){return!!this.$.nextSibling},kB:function(k){k.$.parentNode.insertBefore(this.$,k.$.nextSibling);return k},insertBefore:function(k){k.$.parentNode.insertBefore(this.$,k.$);return k},vP:function(k){this.$.parentNode.insertBefore(k.$,this.$);return k},lU:function(k){var l=[],m=this.getDocument().$.documentElement,n=this.$;while(n&&n!=m){var o=n.parentNode,p=-1;for(var q=0;q<o.childNodes.length;q++){var r=o.childNodes[q];if(k&&r.nodeType==3&&r.previousSibling&&r.previousSibling.nodeType==3)continue;p++;if(r==n)break}l.unshift(p);n=n.parentNode}return l},getDocument:function(){var k=new j(this.$.ownerDocument||this.$.parentNode.ownerDocument);return(this.getDocument=function(){return k})()},vA:function(){var k=this.$,l=k.parentNode&&k.parentNode.firstChild,m=-1;while(l){m++;if(l==k)return m;l=l.nextSibling}return-1},hL:function(k,l,m){if(m&&!m.call){var n=m;m=function(q){return!q.equals(n)}}var o=!k&&this.getFirst&&this.getFirst(),p;if(!o){if(this.type==a.cv&&m&&m(this,true)===false)return null;o=this.dG()}while(!o&&(p=(p||this).getParent())){if(m&&m(p,true)===false)return null;o=p.dG()}if(!o)return null;if(m&&m(o)===false)return null;if(l&&l!=o.type)return o.hL(false,l,m);return o},hZ:function(k,l,m){if(m&&!m.call){var n=m;m=function(q){return!q.equals(n)}}var o=!k&&this.dB&&this.dB(),p;if(!o){if(this.type==a.cv&&m&&m(this,true)===false)return null;o=this.cf()}while(!o&&(p=(p||this).getParent())){if(m&&m(p,true)===false)return null;o=p.cf()}if(!o)return null;if(m&&m(o)===false)return null;if(l&&o.type!=l)return o.hZ(false,l,m);return o},cf:function(k){var l=this.$,m;do{l=l.previousSibling;m=l&&new h.bi(l)}while(m&&k&&!k(m));return m},vs:function(){return this.cf(function(k){return k.$.nodeType==1})},dG:function(k){var l=this.$,m;do{l=l.nextSibling;m=l&&new h.bi(l)}while(m&&k&&!k(m));return m},vk:function(){return this.dG(function(k){return k.$.nodeType==1})},getParent:function(){var k=this.$.parentNode;return k&&k.nodeType==1?new h.bi(k):null},vn:function(k){var l=this,m=[];do m[k?'push':'unshift'](l);while(l=l.getParent());return m},vv:function(k){var m=this;if(k.equals(m))return m;if(k.contains&&k.contains(m))return k;var l=m.contains?m:m.getParent();do{if(l.contains(k))return l}while(l=l.getParent());return null},gz:function(k){var l=this.$,m=k.$;if(l.compareDocumentPosition)return l.compareDocumentPosition(m);if(l==m)return a.oh;if(this.type==a.cv&&k.type==a.cv){if(l.contains){if(l.contains(m))return a.lF+a.gX;if(m.contains(l))return a.mo+a.gW}if('sourceIndex'in l)return l.sourceIndex<0||m.sourceIndex<0?a.op:l.sourceIndex<m.sourceIndex?a.gX:a.gW}var n=this.lU(),o=k.lU(),p=Math.min(n.length,o.length);for(var q=0;q<=p-1;q++){if(n[q]!=o[q]){if(q<p)return n[q]<o[q]?a.gX:a.gW;break}}return n.length<o.length?a.lF+a.gX:a.mo+a.gW},vw:function(k,l){var m=this.$;if(!l)m=m.parentNode;while(m){if(m.nodeName&&m.nodeName.toLowerCase()==k)return new h.bi(m);m=m.parentNode}return null},vX:function(k,l){var m=this.$;if(!l)m=m.parentNode;while(m){if(m.nodeName&&m.nodeName.toLowerCase()==k)return true;m=m.parentNode}return false},move:function(k,l){k.append(this.remove(),l)},remove:function(k){var l=this.$,m=l.parentNode;if(m){if(k)for(var n;n=l.firstChild;)m.insertBefore(l.removeChild(n),l);m.removeChild(l)}return this},replace:function(k){this.insertBefore(k);k.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){var n=this;var k;while(n.getFirst&&(k=n.getFirst())){if(k.type==a.fl){var l=i.ltrim(k.getText()),m=k.hJ();if(!l){k.remove();continue}else if(l.length<m){k.split(m-l.length);n.$.removeChild(n.$.firstChild)}}break}},rtrim:function(){var n=this;var k;while(n.dB&&(k=n.dB())){if(k.type==a.fl){var l=i.rtrim(k.getText()),m=k.hJ();if(!l){k.remove();continue}else if(l.length<m){k.split(l.length);n.$.lastChild.parentNode.removeChild(n.$.lastChild)}}break}if(!g&&!f.opera){k=n.$.lastChild;if(k&&k.type==1&&k.nodeName.toLowerCase()=='br')k.parentNode.removeChild(k)}}});h.iT=function(k){this.$=k};h.iT.prototype={count:function(){return this.$.length},getItem:function(k){var l=this.$[k];return l?new h.bi(l):null}};h.element=function(k,l){if(typeof k=='string')k=(l?l.$:document).createElement(k);h.dE.call(this,k)};var k=h.element;k.eB=function(l){return l&&(l.$?l:new k(l))};k.prototype=new h.bi();k.kE=function(l,m){var n=new k('div',m);n.setHtml(l);return n.getFirst().remove()};k.rS=function(l,m,n,o){var p=m.dw('list_marker_id')||m.fL('list_marker_id',i.getNextNumber()).dw('list_marker_id'),q=m.dw('list_marker_names')||m.fL('list_marker_names',{}).dw('list_marker_names');l[p]=m;q[n]=1;return m.fL(n,o)};k.sM=function(l){for(var m in l)k.qZ(l,l[m],true)};k.qZ=function(l,m,n){var o=m.dw('list_marker_names'),p=m.dw('list_marker_id');for(var q in o)m.jF(q);m.jF('list_marker_names');if(n){m.jF('list_marker_id');delete l[p]}};i.extend(k.prototype,{type:a.cv,addClass:function(l){var m=this.$.className;if(m){var n=new RegExp('(?:^|\\s)'+l+'(?:\\s|$)','');if(!n.test(m))m+=' '+l}this.$.className=m||l},removeClass:function(l){var m=this.getAttribute('class');if(m){var n=new RegExp('(?:^|\\s+)'+l+'(?=\\s|$)','i');if(n.test(m)){m=m.replace(n,'').replace(/^\s+/,'');if(m)this.setAttribute('class',m);else this.removeAttribute('class')}}},hasClass:function(l){var m=new RegExp('(?:^|\\s+)'+l+'(?=\\s|$)','');return m.test(this.getAttribute('class'))},append:function(l,m){var n=this;if(typeof l=='string')l=n.getDocument().createElement(l);if(m)n.$.insertBefore(l.$,n.$.firstChild);else n.$.appendChild(l.$);a.log('[DOM] DOM flush into '+n.getName());return l},appendHtml:function(l){var n=this;if(!n.$.childNodes.length)n.setHtml(l);else{var m=new k('div',n.getDocument());m.setHtml(l);m.jg(n)}},appendText:function(l){if(this.$.text!=undefined)this.$.text+=l;else this.append(new h.text(l))},pd:function(){var m=this;var l=m.dB();while(l&&l.type==a.fl&&!i.rtrim(l.getText()))l=l.cf();if(!l||!l.is||!l.is('br'))m.append(f.opera?m.getDocument().jT(''):m.getDocument().createElement('br'))},tV:function(l){var o=this;var m=new h.mk(o.getDocument());m.setStartAfter(o);m.setEndAfter(l);var n=m.extractContents();m.insertNode(o.remove());n.kA(o)},contains:g||f.webkit?function(l){var m=this.$;return l.type!=a.cv?m.contains(l.getParent().$):m!=l.$&&m.contains(l.$)}:function(l){return!!(this.$.compareDocumentPosition(l.$)&16)},focus:function(){try{this.$.focus()}catch(l){}},getHtml:function(){return this.$.innerHTML},fH:function(){var m=this;if(m.$.outerHTML)return m.$.outerHTML.replace(/<\?[^>]*>/,'');var l=m.$.ownerDocument.createElement('div');l.appendChild(m.$.cloneNode(true));return l.innerHTML},setHtml:function(l){a.log('[DOM] DOM flush into '+this.getName());return this.$.innerHTML=l},setText:function(l){k.prototype.setText=this.$.innerText!=undefined?function(m){a.log('[DOM] Text flush');return this.$.innerText=m}:function(m){a.log('[DOM] Text flush');return this.$.textContent=m};return this.setText(l)},getAttribute:(function(){var l=function(m){return this.$.getAttribute(m,2)};if(g&&(f.ie7Compat||f.ie6Compat))return function(m){var o=this;switch(m){case'class':m='className';break;case'tabindex':var n=l.call(o,m);if(n!==0&&o.$.tabIndex===0)n=null;return n;break;case'checked':return o.$.checked;break;case'style':return o.$.style.cssText}return l.call(o,m)};else return l})(),getChildren:function(){return new h.iT(this.$.childNodes)},getComputedStyle:g?function(l){return this.$.currentStyle[i.cssStyleToDomStyle(l)]}:function(l){return this.getWindow().$.getComputedStyle(this.$,'').getPropertyValue(l)},pf:function(){var l=a.ga[this.getName()];this.pf=function(){return l};return l},eG:j.prototype.eG,vp:g?function(){var l=this.$.tabIndex;if(l===0&&!a.ga.ug[this.getName()]&&parseInt(this.getAttribute('tabindex'),10)!==0)l=-1;return l}:f.webkit?function(){var l=this.$.tabIndex;if(l==undefined){l=parseInt(this.getAttribute('tabindex'),10);if(isNaN(l))l=-1}return l}:function(){return this.$.tabIndex},getText:function(){return this.$.textContent||this.$.innerText||''},getWindow:function(){return this.getDocument().getWindow()},dS:function(){return this.$.id||null},data:function(l,m){l='data-'+l;if(m===undefined)return this.getAttribute(l);else if(m===false)this.removeAttribute(l);else this.setAttribute(l,m);return null},vm:function(){return this.$.name||null},getName:function(){var l=this.$.nodeName.toLowerCase();if(g&&!(document.documentMode>8)){var m=this.$.scopeName;if(m!='HTML')l=m.toLowerCase()+':'+l}return(this.getName=function(){return l})()},getValue:function(){return this.$.value},getFirst:function(){var l=this.$.firstChild;return l?new h.bi(l):null},dB:function(l){var m=this.$.lastChild,n=m&&new h.bi(m);if(n&&l&&!l(n))n=n.cf(l);return n},rd:function(l){return this.$.style[i.cssStyleToDomStyle(l)]},is:function(){var l=this.getName();for(var m=0;m<arguments.length;m++){if(arguments[m]==l)return true}return false},vL:function(){var l=this.getName(),m=!a.ga.uj[l]&&(a.ga[l]||a.ga.span);return m&&m['#']},isIdentical:function(l){if(this.getName()!=l.getName())return false;var m=this.$.attributes,n=l.$.attributes,o=m.length,p=n.length;if(!g&&o!=p)return false;for(var q=0;q<o;q++){var r=m[q];if((!g||r.specified&&r.nodeName!='dj')&&r.nodeValue!=l.getAttribute(r.nodeName))return false}if(g)for(q=0;q<p;q++){r=n[q];if((!g||r.specified&&r.nodeName!='dj')&&r.nodeValue!=m.getAttribute(r.nodeName))return false}return true},isVisible:function(){return this.$.offsetWidth&&this.$.style.visibility!='hidden'},hasAttributes:g&&(f.ie7Compat||f.ie6Compat)?function(){var l=this.$.attributes;for(var m=0;m<l.length;m++){var n=l[m];switch(n.nodeName){case'class':if(this.getAttribute('class'))return true;case'dj':continue;default:if(n.specified)return true}}return false}:function(){var l=this.$.attributes;return l.length>1||l.length==1&&l[0].nodeName!='dj'},hasAttribute:function(l){var m=this.$.attributes.getNamedItem(l);return!!(m&&m.specified)},hide:function(){this.setStyle('display','none')},jg:function(l,m){var n=this.$;l=l.$;if(n==l)return;var o;if(m)while(o=n.lastChild)l.insertBefore(n.removeChild(o),l.firstChild);else while(o=n.firstChild)l.appendChild(n.removeChild(o))},show:function(){this.setStyles({display:'',visibility:''})},setAttribute:(function(){var l=function(m,n){this.$.setAttribute(m,n);return this};if(g&&(f.ie7Compat||f.ie6Compat))return function(m,n){var o=this;if(m=='class')o.$.className=n;else if(m=='style')o.$.style.cssText=n;else if(m=='tabindex')o.$.tabIndex=n;else if(m=='checked')o.$.checked=n;else l.apply(o,arguments);return o};else return l})(),setAttributes:function(l){for(var m in l)this.setAttribute(m,l[m]);return this},setValue:function(l){this.$.value=l;return this},removeAttribute:(function(){var l=function(m){this.$.removeAttribute(m)};if(g&&(f.ie7Compat||f.ie6Compat))return function(m){if(m=='class')m='className';else if(m=='tabindex')m='tabIndex';l.call(this,m)};else return l})(),uW:function(l){for(var m=0;m<l.length;m++)this.removeAttribute(l[m])},removeStyle:function(l){var m=this;if(m.$.style.removeAttribute)m.$.style.removeAttribute(i.cssStyleToDomStyle(l));else m.setStyle(l,'');if(!m.$.style.cssText)m.removeAttribute('style')},setStyle:function(l,m){this.$.style[i.cssStyleToDomStyle(l)]=m;return this},setStyles:function(l){for(var m in l)this.setStyle(m,l[m]);return this},setOpacity:function(l){if(g){l=Math.round(l*100);this.setStyle('filter',l>=100?'':'progid:DXImageTransform.Microsoft.Alpha(opacity='+l+')')}else this.setStyle('opacity',l)},unselectable:f.gecko?function(){this.$.style.MozUserSelect='none'}:f.webkit?function(){this.$.style.uE='none'}:function(){if(g||f.opera){var l=this.$,m,n=0;l.unselectable='on';while(m=l.all[n++])switch(m.tagName.toLowerCase()){case'iframe':case'textarea':case'input':case'select':break;default:m.unselectable='on'}}},vr:function(){var l=this;while(l.getName()!='html'){if(l.getComputedStyle('position')!='static')return l;l=l.getParent()}return null},ir:function(l){var G=this;var m=0,n=0,o=G.getDocument().bH(),p=G.getDocument().$.compatMode=='BackCompat',q=G.getDocument();if(document.documentElement.getBoundingClientRect){var r=G.$.getBoundingClientRect(),s=q.$,t=s.documentElement,u=t.clientTop||o.$.clientTop||0,v=t.clientLeft||o.$.clientLeft||0,w=true;if(g){var x=q.gT().contains(G),y=q.bH().contains(G);w=p&&y||!p&&x}if(w){m=r.left+(!p&&t.scrollLeft||o.$.scrollLeft);m-=v;n=r.top+(!p&&t.scrollTop||o.$.scrollTop);n-=u}}else{var z=G,A=null,B;while(z&&!(z.getName()=='body'||z.getName()=='html')){m+=z.$.offsetLeft-z.$.scrollLeft;n+=z.$.offsetTop-z.$.scrollTop;if(!z.equals(G)){m+=z.$.clientLeft||0;n+=z.$.clientTop||0}var C=A;while(C&&!C.equals(z)){m-=C.$.scrollLeft;n-=C.$.scrollTop;C=C.getParent()}A=z;z=(B=z.$.offsetParent)?new k(B):null}}if(l){var D=G.getWindow(),E=l.getWindow();if(!D.equals(E)&&D.$.frameElement){var F=new k(D.$.frameElement).ir(l);m+=F.x;n+=F.y}}if(!document.documentElement.getBoundingClientRect)if(f.gecko&&!p){m+=G.$.clientLeft?1:0;n+=G.$.clientTop?1:0}return{x:m,y:n}},scrollIntoView:function(l){var r=this;var m=r.getWindow(),n=m.eR().height,o=n*-1;if(l)o+=n;else{o+=r.$.offsetHeight||0;o+=parseInt(r.getComputedStyle('marginBottom')||0,10)||0}var p=r.ir();o+=p.y;o=o<0?0:o;var q=m.hV().y;if(o>q||o<q-n)m.$.scrollTo(0,o)},bR:function(l){var m=this;switch(l){case a.eV:m.addClass('cke_on');m.removeClass('cke_off');m.removeClass('cke_disabled');break;case a.aY:m.addClass('cke_disabled');m.removeClass('cke_off');m.removeClass('cke_on');break;default:m.addClass('cke_off');m.removeClass('cke_on');m.removeClass('cke_disabled');break}},getFrameDocument:function(){var l=this.$;try{l.contentWindow.document}catch(m){l.src=l.src;if(g&&f.version<7)window.showModalDialog('javascript:document.write("<script>window.setTimeout(function(){window.close();},50);</script>")')}return l&&new j(l.contentWindow.document)},qw:function(l,m){var s=this;var n=s.$.attributes;m=m||{};for(var o=0;o<n.length;o++){var p=n[o];if(p.specified||g&&p.nodeValue&&p.nodeName.toLowerCase()=='value'){var q=p.nodeName;if(q in m)continue;var r=s.getAttribute(q);if(r===null)r=p.nodeValue;l.setAttribute(q,r)}}if(s.$.style.cssText!=='')l.$.style.cssText=s.$.style.cssText},renameNode:function(l){var o=this;if(o.getName()==l)return;var m=o.getDocument(),n=new k(l,m);o.qw(n);o.jg(n);o.$.parentNode.replaceChild(n.$,o.$);n.$.dj=o.$.dj;o.$=n.$},getChild:function(l){var m=this.$;if(!l.slice)m=m.childNodes[l];else while(l.length>0&&m)m=m.childNodes[l.shift()];return m?new h.bi(m):null},iu:function(){return this.$.childNodes.length},hX:function(){this.on('contextmenu',function(l){if(!l.data.bK().hasClass('cke_enable_context_menu'))l.data.preventDefault()})},'toString':function(){return this.getName()+'#'+this.dS()+'.'+this.getAttribute('class')}});(function(){var l={width:['border-left-width','border-right-width','padding-left','padding-right'],height:['border-top-width','border-bottom-width','padding-top','padding-bottom']};function m(n){var o=0;for(var p=0,q=l[n].length;p<q;p++)o+=parseInt(this.getComputedStyle(l[n][p])||0,10)||0;return o};k.prototype.setSize=function(n,o,p){if(typeof o=='number'){if(p&&!(g&&f.quirks))o-=m.call(this,n);this.setStyle(n,o+'px')}};k.prototype.hR=function(n,o){var p=Math.max(this.$['offset'+i.capitalize(n)],this.$['client'+i.capitalize(n)])||0;if(o)p-=m.call(this,n);return p}})();a.command=function(l,m){this.pW=[];this.exec=function(n){if(this.bu==a.aY||this.readOnly===false&&l.config.readOnly)return false;if(m.oD)l.focus();return m.exec.call(this,l,n)!==false};i.extend(this,m,{iH:{qt:1},oD:true,bu:a.aS});a.event.call(this)};a.command.prototype={enable:function(){var l=this;if(l.bu==a.aY)l.bR(!l.vf||typeof l.lJ=='undefined'?a.aS:l.lJ)},disable:function(){this.bR(a.aY)},bR:function(l){var m=this;if(m.bu==l)return false;m.lJ=m.bu;m.bu=l;m.oW('bu');return true},rJ:function(){var l=this;if(l.bu==a.aS)l.bR(a.eV);else if(l.bu==a.eV)l.bR(a.aS)}};a.event.du(a.command.prototype,true);a.config={customConfig:a.getUrl('config.js'),connectorLanguage:'php',language:'',defaultLanguage:'en',defaultViewType:'thumbnails',defaultSortBy:'filename',defaultDisplayFilename:true,defaultDisplayDate:true,defaultDisplayFilesize:true,pO:'',height:400,plugins:'foldertree,folder,filebrowser,container,connector,resource,toolbar,formpanel,filesview,status,contextmenu,uploadform,keystrokes,dragdrop,basket,dialog,tools,resize,help,flashupload,mobile,html5upload,gallery',extraPlugins:'',fileIcons:'ai|avi|bmp|cs|dll|doc|docx|exe|fla|gif|jpg|js|mdb|mp3|ogg|pdf|ppt|pptx|rdp|swf|swt|txt|vsd|xls|xlsx|xml|zip',removePlugins:'',tabIndex:0,thumbnailDelay:50,theme:'default',skin:'kama',width:'100%',baseFloatZIndex:10000,directDownload:false,log:false,logStackTrace:false,rememberLastFolder:true,id:null,startupPath:'',startupFolderExpanded:true,selectActionFunction:null,selectActionData:null,selectThumbnailActionFunction:null,selectThumbnailActionData:null,disableThumbnailSelection:false,thumbsUrl:null,thumbsDirectAccess:false,imagesMaxWidth:0,imagesMaxHeight:0,selectActionType:'js',resourceType:null,disableHelpButton:false,connectorPath:'',connectorInfo:'',uiColor:null,showContextMenuArrow:false,useNativeIcons:false,maxSimultaneousUploads:1,readOnly:false};CKFinder.config=a.config;var l=a.config;a.dU=function(m,n){this.rG=m;this.message=n};a.fs=function(m){if(m.fs)return m.fs;this.hasFocus=false;this._={application:m};return this};a.fs.prototype={focus:function(){var n=this;if(n._.fW)clearTimeout(n._.fW);if(!n.hasFocus){if(a.nG)a.nG.fs.ly();var m=n._.application;m.container.getFirst().addClass('cke_focus');n.hasFocus=true;m.oW('focus')}},blur:function(){var m=this;if(m._.fW)clearTimeout(m._.fW);m._.fW=setTimeout(function(){delete m._.fW;m.ly()},100)},ly:function(){if(this.hasFocus){var m=this._.application;m.container.getFirst().removeClass('cke_focus');this.hasFocus=false;m.oW('blur')}}};(function(){var m={};a.lang={ko:{bg:1,cs:1,cy:1,da:1,de:1,el:1,en:1,eo:1,es:1,'es-mx':1,et:1,fa:1,fi:1,fr:1,gu:1,he:1,hi:1,hr:1,hu:1,it:1,ja:1,lv:1,lt:1,nb:1,nl:1,no:1,nn:1,pl:1,'pt-br':1,ro:1,ru:1,sk:1,sl:1,sv:1,tr:1,vi:1,'zh-cn':1,'zh-tw':1},load:function(n,o,p){if(!n||!a.lang.ko[n])n=this.jV(o,n);if(!this[n])a.ec.load(a.getUrl('lang/'+n+'.js'),function(){p(n,CKFinder.lang[n])},this);else p(n,this[n])},jV:function(n,o){var p=this.ko;o=o||navigator.userLanguage||navigator.language;var q=o.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),r=q[1],s=q[2];if(p[r+'-'+s])r=r+'-'+s;else if(!p[r])r=null;a.lang.jV=r?function(){return r}:function(t){return t};return r||n}}})();(function(){a.log=function(){if(!l.log&&!window.CKFINDER_LOG)return;var m='';for(var n=0;n<arguments.length;n++){var o=arguments[n];if(!o)continue;if(m)m+='; ';switch(typeof o){case'function':var p=/function (\w+?)\(/.exec(o.toString());p=p?p[1]:'anonymous func';m+=p;break;default:m+=o?o.toString():''}}a._.log.push(m);if(typeof window.console=='object')if(!console.log.apply)console.log(m);else console.log.apply(console,arguments)};a.ba=function(m){if(l.logStackTrace)a.log('[EXCEPTION] '+m.toString());return m};a.mZ=function(m){var n='';for(var o=0;o<a._.log.length;o++)n+=o+1+'. '+a._.log[o]+'\n';return n};a._.log=[]})();a.ec=(function(){var m={},n={};return{load:function(o,p,q,r,s){var t=typeof o=='string';if(t)o=[o];if(!q)q=a;var u=o.length,v=[],w=[],x=function(C){if(p)if(t)p.call(q,C);else p.call(q,v,w)};if(u===0){x(true);return}var y=function(C,D){(D?v:w).push(C);if(--u<=0)x(D)},z=function(C,D){m[C]=1;var E=n[C];delete n[C];for(var F=0;F<E.length;F++)E[F](C,D)},A=function(C){if(r!==true&&m[C]){y(C,true);return}var D=n[C]||(n[C]=[]);D.push(y);if(D.length>1)return;var E=new k('script');E.setAttributes({type:'text/javascript',src:C});if(p)if(g)E.$.onreadystatechange=function(){if(E.$.readyState=='loaded'||E.$.readyState=='complete'){E.$.onreadystatechange=null;a.log('[LOADED] '+C);z(C,true)}};else{E.$.onload=function(){setTimeout(function(){a.log('[LOADED] '+C);z(C,true)},0)};E.$.onerror=function(){z(C,false)}}E.appendTo(s?s:a.document.eD())};for(var B=0;B<u;B++)A(o[B])},uq:function(o){var p=new k('script');p.setAttribute('type','text/javascript');p.appendText(o);p.appendTo(a.document.eD())}}})();a.fQ=function(m,n){var o=this;o.basePath=m;o.fileName=n;o.bX={};o.loaded={};o.jn={};o._={rZ:{}}};a.fQ.prototype={add:function(m,n){if(this.bX[m])throw'[CKFINDER.fQ.add] The resource name "'+m+'" is already bX.';this.bX[m]=n||{}},eB:function(m){return this.bX[m]||null},getPath:function(m){var n=this.jn[m];return a.getUrl(n&&n.dir||this.basePath+m+'/')},pi:function(m){var n=this.jn[m];return a.getUrl(this.getPath(m)+(n&&n.file||this.fileName+'.js'))},tR:function(m,n,o){m=m.split(',');for(var p=0;p<m.length;p++){var q=m[p];this.jn[q]={dir:n,file:o}}},load:function(m,n,o){if(!i.isArray(m))m=m?[m]:[];var p=this.loaded,q=this.bX,r=[],s={},t={};for(var u=0;u<m.length;u++){var v=m[u];if(!v)continue;if(!p[v]&&!q[v]){var w=this.pi(v);r.push(w);if(!(w in s))s[w]=[];s[w].push(v)}else t[v]=this.eB(v)}a.ec.load(r,function(x,y){if(y.length)throw'[CKFINDER.fQ.load] Resource name "'+s[y[0]].join(',')+'" was not found at "'+y[0]+'".';for(var z=0;z<x.length;z++){var A=s[x[z]];for(var B=0;B<A.length;B++){var C=A[B];t[C]=this.eB(C);p[C]=1}}n.call(o,t)},this)}};a.plugins=new a.fQ('plugins/','plugin');var m=a.plugins;m.load=i.override(m.load,function(n){return function(o,p,q){var r={},s=function(t){n.call(this,t,function(u){i.extend(r,u);var v=[];for(var w in u){var x=u[w],y=x&&x.bM;if(y)for(var z=0;z<y.length;z++){if(!r[y[z]])v.push(y[z])}}if(v.length)s.call(this,v);else{for(w in r){x=r[w];if(x.onLoad&&!x.onLoad.qK){x.onLoad();x.onLoad.qK=1}}if(p)p.call(q||window,r)}},this)};s.call(this,o)}});m.rX=function(n,o,p){var q=this.eB(n);q.lang[o]=p};(function(){var n={},o=function(p,q){var r=function(){n[p]=1;q()},s=new k('img');s.on('load',r);s.on('error',r);s.setAttribute('src',p)};a.rw={load:function(p,q){var r=p.length,s=function(){if(--r===0)q()};for(var t=0;t<p.length;t++){var u=p[t];if(n[u])s();else o(u,s)}}}})();a.skins=(function(){var n={},o={},p={},q=function(r,s,t,u){var v=n[s];if(!r.skin){r.skin=v;if(v.bz)v.bz(r)}var w=function(E){for(var F=0;F<E.length;F++)E[F]=a.getUrl(p[s]+E[F])};if(!o[s]){var x=v.ls;if(x&&x.length>0){w(x);a.rw.load(x,function(){o[s]=1;q(r,s,t,u)});return}o[s]=1}t=v[t];var y=0;if(t){if(!t.iB)t.iB=[];else if(t.iB[r.name])y=1}else y=1;if(y)u&&u();else{if(t.eb===undefined)t.eb=[];if(t.eb[r.name]===undefined)t.eb[r.name]=[];var z=t.eb[r.name];z.push(u);if(z.length>1)return;var A=!t.css||!t.css.length,B=!t.js||!t.js.length,C=function(){if(A&&B){t.iB[r.name]=1;for(var E=0;E<z.length;E++){if(z[E])z[E]()}}};if(!A){if(!t.rr){w(t.css);t.rr=1}if(t.qx)for(var D=0;D<t.css.length;D++)a.oC.pb(t.css[D]);else r.on('themeSpace',function(E){if(E.data.space=='head')for(var F=0;F<t.css.length;F++)E.data.html+="<link rel='stylesheet' href='"+t.css[F]+"'>\n";E.removeListener()});A=1}if(!B){w(t.js);r.ec.load(t.js,function(){B=1;C()})}C()}};return{add:function(r,s){n[r]=s;s.fh=p[r]||(p[r]=a.getUrl('skins/'+r+'/'))},loaded:n,load:function(r,s,t){var u=r.gd,v=r.fh;if(n[u]){q(r,u,s,t);var w=n[u]}else{p[u]=v;a.ec.load(v+'skin.js',function(){q(r,u,s,t)})}}}})();a.gc=new a.fQ('gc/','theme');a.bY=function(n){if(n.bY)return n.bY;this._={jZ:{},items:{},application:n};return this};var n=a.bY;n.prototype={add:function(o,p,q){this._.items[o]={type:p,command:q.command||null,mp:Array.prototype.slice.call(arguments,2)}},create:function(o){var t=this;var p=t._.items[o],q=p&&t._.jZ[p.type],r=p&&p.command&&t._.application.cS(p.command),s=q&&q.create.apply(t,p.mp);if(r)r.pW.push(s);return s},kd:function(o,p){this._.jZ[o]=p}};(function(){var o=0,p=function(){var y='ckfinder'+ ++o;return a.instances&&a.instances[y]?p():y},q={},r=function(y){var z=y.config.customConfig;if(!z)return false;var A=q[z]||(q[z]={});if(A.fn){A.fn.call(y,y.config);if(y.config.customConfig==z||!r(y))y.cr('customConfigLoaded')}else a.ec.load(z,function(){if(CKFinder.customConfig)A.fn=CKFinder.customConfig;else A.fn=function(){};r(y)});return true},s=function(y,z){y.on('customConfigLoaded',function(){if(z){if(z.on)for(var A in z.on)y.on(A,z.on[A]);i.extend(y.config,z,true);delete y.config.on}t(y)});if(z&&z.id)y.config.id=z.id;if(z&&z.customConfig!=undefined)y.config.customConfig=z.customConfig;if(!r(y))y.cr('customConfigLoaded')},t=function(y){var z=y.config.skin.split(','),A=z[0],B=a.getUrl(z[1]||'skins/'+A+'/');y.gd=A;y.fh=B;y.iy='cke_skin_'+A+' skin_'+A;y.qn=y.ox();y.on('uiReady',function(){y.document.getWindow().on('lW',function(){i.setCookie('CKFinder_UTime',Math.round(new Date().getTime()/1000),true);i.setCookie('CKFinder_UId',encodeURIComponent(y.id?y.id:location.href),true)})});y.cr('configLoaded');u(y)},u=function(y){a.lang.load(y.config.language,y.config.defaultLanguage,function(z,A){y.langCode=z;y.lang=i.prototypedCopy(A);y.lB=(function(){var B="['"+y.lang.DateAmPm.join("','")+"']",C=y.lang.DateTime.replace(/dd|mm|yyyy|hh|HH|MM|aa|d|m|yy|h|H|M|a/g,function(D){var E;switch(D){case'd':E="day.replace(/^0/,'')";break;case'dd':E='day';break;case'm':E="month.replace(/^0/,'')";break;case'mm':E='month';break;case'yy':E='year.substr(2)';break;case'yyyy':E='year';break;case'H':E="hour.replace(/^0/,'')";break;case'HH':E='hour';break;case'h':E="( hour < 12 ? hour : ( ( hour - 12 ) + 100 ).toString().substr( 1 ) ).replace(/^0/,'')";break;case'hh':E='( hour < 12 ? hour : ( ( hour - 12 ) + 100 ).toString().substr( 1 ) )';break;case'M':E="minute.replace(/^0/,'')";break;case'MM':E='minute';break;case'a':E=B+'[ hour < 12 ? 0 : 1 ].charAt(0)';break;case'aa':E=B+'[ hour < 12 ? 0 : 1 ]';break;default:E="'"+D+"'"}return"',"+E+",'"});C="'"+C+"'";C=C.replace(/('',)|,''$/g,'');return new Function('day','month','year','hour','minute','return ['+C+"].join('');")})();if(f.gecko&&f.version<10900&&y.lang.dir=='rtl')y.lang.dir='ltr';v(y)})},v=function(y){var z=y.config,A=z.plugins,B=z.extraPlugins,C=z.removePlugins;if(B){var D=new RegExp('(?:^|,)(?:'+B.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');A=A.replace(D,'');A+=','+B}if(C){D=new RegExp('(?:^|,)(?:'+C.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');A=A.replace(D,'')}m.load(A.split(','),function(E){var F=[],G=[],H=[],I;if(y.config.readOnly)for(var I in E){if(E[I].readOnly===false)delete E[I]}y.plugins=E;for(I in E){var J=E[I],K=J.lang,L=m.getPath(I),M=null;E[I].name=I;J.pathName=L;if(K){M=i.indexOf(K,y.langCode)>=0?y.langCode:K[0];if(!J.lang[M])H.push(a.getUrl(L+'lang/'+M+'.js'));else{i.extend(y.lang,J.lang[M]);M=null}}G.push(M);F.push(J)}a.ec.load(H,function(){var N=['eK','bz','gr'];for(var O=0;O<N.length;O++)for(var P=0;P<F.length;P++){var Q=F[P];if(O===0&&G[P]&&Q.lang)i.extend(y.lang,Q.lang[G[P]]);if(Q[N[O]]){a.log('[PLUGIN] '+Q.name+'.'+N[O]);Q[N[O]](y)}}y.oW('pluginsLoaded');w(y)})})},w=function(y){a.skins.load(y,'application',function(){a.skins.load(y,'host',function(){x(y)})})},x=function(y){var z=y.config.theme;a.gc.load(z,function(){var A=y.theme=a.gc.eB(z);A.pathName=a.gc.getPath(z);y.oW('themeAvailable')})};a.application.prototype.iI=function(y){var z=k.eB(this._.element),A=this._.instanceConfig;delete this._.element;delete this._.instanceConfig;this._.ky={};this._.gS=[];z.getDocument().getWindow().$.CKFinder=y;this.element=z;this.document=null;this.rQ={};this.name=p();if(this.name in a.instances)throw'[CKFINDER.application] The instance "'+this.name+'" already exists.';this.config=i.prototypedCopy(l);this.bY=new n(this);this.fs=new a.fs(this);this.aL={};this.aG={};this.on('uiReady',function(B){this.document.getWindow().on('lW',this.destroy,this);try{var C=this.document.getWindow();if(this.cg.inPopup&&(!g&&!f.opera||C.$.top.location.href.match(/ckfinder.html/)||C.$.top.name=='CKFinderpopup')){var D=this,E=[a.oC];if(D.cg.inUrlPopup)E.push(new j(a.oC.getWindow().$.opener.document));for(var F=0;F<E.length;F++)E[F].bH().$.onbeforeunload=E[F].getWindow().$.onunload=E[F].getWindow().$.onbeforeunload=function(){D.element&&D.element.getDocument().getWindow().$.close()}}}catch(B){}},this);this.cg=new d(this);this.on('configLoaded',function(B){var C=this;e(C.cg,C,C.config.callback);C.id=C.config.id},this);s(this,A);a.oW('instanceCreated',null,this)}})();i.extend(a.application.prototype,{bD:function(o,p){return this._.ky[o]=new a.command(this,p)},destroy:function(){var o=this;o.theme.destroy(o);o.oW('destroy');a.remove(o)},execCommand:function(o,p){a.log('[COMMAND] '+o);var q=this.cS(o),r={name:o,rm:p,command:q};if(q&&q.bu!=a.aY)if(this.oW('beforeCommandExec',r)!==true){r.returnValue=q.exec(r.rm);if(!q.async&&this.oW('afterCommandExec',r)!==true)return r.returnValue}return false},cS:function(o){return this._.ky[o]},ox:function(){var o=Math.round(new Date().getTime()/1000),p=i.getCookie('CKFinder_UTime'),q=decodeURIComponent(i.getCookie('CKFinder_UId'));if(q&&p&&q==(this.id?this.id:location.href)&&Math.abs(o-p)<5)return 1;return 0},bs:''});(function(){var o='';for(var p=49;p<58;p++)o+=String.fromCharCode(p);for(p=65;p<91;p++){if(p==73||p==79)continue;o+=String.fromCharCode(p)}a.bs=o;a.nd="\x6c\x6f";a.jG="\x68\157";a.hf=new window["\122\x65\x67\105\170\x70"]("\x5e\x77\167\x77\x5c\056");a.hg=new window["\x52\145\147\x45\x78\160"]("\x3a\134\144\x2b\044");a.lS=function(q){return q.toLowerCase().replace(a.hf,'').replace(a.hg,'')}})();a.on('loaded',function(){var o=a.application.eb;if(o){delete a.application.eb;for(var p=0;p<o.length;p++)o[p].iI()}});delete a.dO;a.instances={};a.document=new j(document);a.oC=a.document.getWindow().$!=a.document.getWindow().$.top?new j(a.document.getWindow().$.top.document):a.document;a.add=function(o){a.instances[o.name]=o;a.jt=o;o.on('focus',function(){if(a.nG!=o){a.nG=o;a.oW('nG')}});o.on('blur',function(){if(a.nG==o){a.nG=null;a.oW('nG')}})};a.remove=function(o){delete a.instances[o.name]};a.aL={};a.eV=1;a.aS=2;a.aY=0;a.bF='';(function(){function o(r,s){return r+'.'+(s.name||s||r)};a.aG={bX:{},hS:function(r,s,t){var u=o(r,s);if(this.bX[u]!==undefined)throw'[CKFINDER] Widget '+u+' already bX!';a.log('[WIDGET] bX '+u);this.bX[u]=new q(u,t);return this.bX[u]},bz:function(r,s,t,u,v){var w=o(s,t),x=this.bX[w],y=i.deepCopy(x.hF),z=function(C,D,E){this.app=C;this.eh=D instanceof k?D:new k(D);this.hF=y?i.extend(y,E):E||{};this._={};var F=function(I){this.ib=I};F.prototype=this.tools;this.tools=new F(this);var G=x.dT;if(G.length)for(var H=0;H<G.length;H++)G[H].call(this,C,this)};z.prototype=x;var A=new z(r,u,v);for(var B in A.fw){if(A.fw[B].readOnly&&r.config.readOnly)A.ke(B);else A.gA(B)}if(r.aG[w])throw'[CKFINDER Widget '+w+' already inited.';r.aG[w]=A;a.log('[WIDGET] instanced '+w);return A}};var p={click:1,mouseover:1,mouseout:1,focus:1,blur:1,submit:1,dblclick:1,mousedown:1,mouseup:1,mousemove:1,keypress:1,keydown:1,keyup:1,load:1,lW:1,abort:1,error:1,resize:1,scroll:1,select:1,change:1,reset:1},q=function(r,s){var t=this;t.id=r;t.readOnly=true;t.fw={};t.hF=s||{};t.dT=[];t.tools=new t.tools(t)};q.prototype={gA:function(r){var w=this;a.log('[WIDGET] Enabling behavior '+r);var s=w.fw[r];if(!s)return;var t=w;for(var u=0;u<s.cC.length;u++){var v=s.cC[u];if(p[v])w.eh.on(v,s.fO,t);else{w.on(v,s.fO,t);w.app.on(v,s.fO,t)}}},ke:function(r){a.log('[WIDGET] Disabling behavior '+r);var s=this.fw[r];if(!s)return;for(var t=0;t<s.cC.length;t++){var u=s.cC[t];if(p[u])this.eh.removeListener(u,s.fO);else this.removeListener(u,s.fO)}},bh:function(r,s,t,u){if(!i.isArray(s))s=[s];this.fw[r]={cC:s,fO:t,readOnly:u===false};if(this.eh)this.gA(r)},removeBehavior:function(r){delete this.fw[r]},ur:function(){return this.fw},bn:function(){return this.eh},oE:function(){return this.hF},data:function(){return this.hF},tools:function(){}};q.prototype.tools.prototype={kg:function(r){if(r.target==this.ib.eh)return 1}};a.event.du(q.prototype)})();a.xml=function(o){var p=null;if(typeof o=='object')p=o;else{var q=(o||'').replace(/&nbsp;/g,'\xa0');if(window.DOMParser)p=new DOMParser().parseFromString(q,'text/xml');else if(window.ActiveXObject){try{p=new ActiveXObject('MSXML2.DOMDocument')}catch(r){try{p=new ActiveXObject('Microsoft.XmlDom')}catch(r){}}if(p){p.async=false;p.resolveExternals=false;p.validateOnParse=false;p.loadXML(q)}}}this.mq=p};a.xml.prototype={selectSingleNode:function(o,p){var q=this.mq;if(p||(p=q))if(g||p.selectSingleNode)return p.selectSingleNode(o);else if(q.evaluate){var r=q.evaluate(o,p,null,9,null);return r&&r.singleNodeValue||null}else if(p.querySelectorAll){var s=this.selectNodes(o,p);if(s.length==1)return s[0].getAttributeNode(o.match(/\/@(.*$)/)[1])}else alert('XPath is not supported in your browser');return null},selectNodes:function(o,p){var q=this.mq,r=[];if(p||(p=q))if(g||p.selectNodes)return p.selectNodes(o);else if(q.evaluate){var s=q.evaluate(o,p,null,5,null);if(s){var t;while(t=s.iterateNext())r.push(t)}}else if(p.querySelectorAll){var u=o.replace(/\/@(.*$)/,'[$1]').replace(/\//gi,'>');return p.querySelectorAll(u)}else alert('XPath is not supported in your browser');return r},vB:function(o,p){var q=this.selectSingleNode(o,p),r=[];if(q){q=q.firstChild;while(q){if(q.xml)r.push(q.xml);else if(window.XMLSerializer)r.push(new XMLSerializer().serializeToString(q));q=q.nextSibling}}return r.length?r.join(''):null}};(function(){var o={address:1,tY:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,li:1,dt:1,de:1},p={body:1,div:1,table:1,tbody:1,tr:1,td:1,th:1,caption:1,form:1},q=function(r){var s=r.getChildren();for(var t=0,u=s.count();t<u;t++){var v=s.getItem(t);if(v.type==a.cv&&a.ga.um[v.getName()])return true}return false};h.qS=function(r){var x=this;var s=null,t=null,u=[],v=r;while(v){if(v.type==a.cv){if(!x.qH)x.qH=v;var w=v.getName();if(g&&v.$.scopeName!='HTML')w=v.$.scopeName.toLowerCase()+':'+w;if(!t){if(!s&&o[w])s=v;if(p[w])if(!s&&w=='div'&&!q(v))s=v;else t=v}u.push(v);if(w=='body')break}v=v.getParent()}x.block=s;x.tX=t;x.elements=u}})();h.qS.prototype={sJ:function(o){var p=this.elements,q=o&&o.elements;if(!q||p.length!=q.length)return false;for(var r=0;r<p.length;r++){if(!p[r].equals(q[r]))return false}return true}};h.text=function(o,p){if(typeof o=='string')o=(p?p.$:document).createTextNode(o);this.$=o};h.text.prototype=new h.bi();i.extend(h.text.prototype,{type:a.fl,hJ:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},split:function(o){var t=this;if(g&&o==t.hJ()){var p=t.getDocument().jT('');p.kB(t);return p}var q=t.getDocument(),r=new h.text(t.$.splitText(o),q);if(f.ie8){var s=new h.text('',q);s.kB(r);s.remove()}return r},substring:function(o,p){if(typeof p!='number')return this.$.nodeValue.substr(o);else return this.$.nodeValue.substring(o,p)}});h.pa=function(o){o=o||a.document;this.$=o.$.createDocumentFragment()};i.extend(h.pa.prototype,k.prototype,{type:a.om,kA:function(o){o=o.$;o.parentNode.insertBefore(this.$,o.nextSibling)}},true,{append:1,pd:1,getFirst:1,dB:1,appendTo:1,jg:1,insertBefore:1,kA:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,iu:1,getChild:1,getChildren:1});(function(){function o(s,t){if(this._.end)return null;var u,v=this.mk,w,x=this.vR,y=this.type,z=s?'getPreviousSourceNode':'getNextSourceNode';if(!this._.start){this._.start=1;v.trim();if(v.collapsed){this.end();return null}}if(!s&&!this._.kp){var A=v.endContainer,B=A.getChild(v.endOffset);this._.kp=function(F,G){return(!G||!A.equals(F))&&(!B||!F.equals(B))&&(F.type!=a.cv||F.getName()!='body')}}if(s&&!this._.ka){var C=v.startContainer,D=v.startOffset>0&&C.getChild(v.startOffset-1);this._.ka=function(F,G){return(!G||!C.equals(F))&&(!D||!F.equals(D))&&(F.type!=a.cv||F.getName()!='body')}}var E=s?this._.ka:this._.kp;if(x)w=function(F,G){if(E(F,G)===false)return false;return x(F)};else w=E;if(this.current)u=this.current[z](false,y,w);else if(s){u=v.endContainer;if(v.endOffset>0){u=u.getChild(v.endOffset-1);if(w(u)===false)u=null}else u=w(u)===false?null:u.hZ(true,y,w)}else{u=v.startContainer;u=u.getChild(v.startOffset);if(u){if(w(u)===false)u=null}else u=w(v.startContainer)===false?null:v.startContainer.hL(true,y,w)}while(u&&!this._.end){this.current=u;if(!this.lf||this.lf(u)!==false){if(!t)return u}else if(t&&this.lf)return false;u=u[z](false,y,w)}this.end();return this.current=null};function p(s){var t,u=null;while(t=o.call(this,s))u=t;return u};h.gm=i.createClass({$:function(s){this.mk=s;this._={}},ej:{end:function(){this._.end=1},next:function(){return o.call(this)},previous:function(){return o.call(this,true)},sC:function(){return o.call(this,false,true)!==false},sD:function(){return o.call(this,true,true)!==false},uF:function(){return p.call(this)},uB:function(){return p.call(this,true)},reset:function(){delete this.current;this._={}}}});var q={block:1,'list-item':1,table:1,'table-row-group':1,'table-header-group':1,'table-footer-group':1,'table-row':1,'table-column-group':1,'table-column':1,'table-cell':1,'table-caption':1},r={hr:1};k.prototype.qy=function(s){var t=i.extend({},r,s||{});return q[this.getComputedStyle('display')]||t[this.getName()]};h.gm.pQ=function(s){return function(t,u){return!(t.type==a.cv&&t.qy(s))}};h.gm.us=function(){return this.pQ({br:1})};h.gm.tU=function(s){},h.gm.tW=function(s,t){function u(v){return v&&v.getName&&v.getName()=='span'&&v.hasAttribute('_fck_bookmark')};return function(v){var w,x;w=v&&!v.getName&&(x=v.getParent())&&u(x);w=s?w:w||u(v);return t^w}};h.gm.sf=function(s){return function(t){var u=t&&t.type==a.fl&&!i.trim(t.getText());return s^u}}})();(function(){if(f.webkit){f.hc=false;return}var o=k.kE('<div style="width:0px;height:0px;position:absolute;left:-10000px;border:1px solid;border-color:red blue;"></div>',a.document);o.appendTo(a.document.eD());try{f.hc=o.getComputedStyle('border-top-color')==o.getComputedStyle('border-right-color')}catch(p){f.hc=false}if(f.hc)f.cssClass+=' cke_hc';o.remove()})();m.load(l.pO.split(','),function(){a.status='loaded';a.oW('loaded');var o=a._.io;if(o){delete a._.io;for(var p=0;p<o.length;p++)a.add(o[p])}});if(g)try{document.execCommand('BackgroundImageCache',false,true)}catch(o){}CKFinder.lang.en={appTitle:'CKFinder',common:{unavailable:'%1<span class="cke_accessibility">, unavailable</span>',confirmCancel:'Some of the options were changed. Are you sure you want to close the dialog window?',ok:'OK',cancel:'Cancel',confirmationTitle:'Confirmation',messageTitle:'Information',inputTitle:'Question',undo:'Undo',redo:'Redo',skip:'Skip',skipAll:'Skip all',makeDecision:'What action should be taken?',rememberDecision:'Remember my decision'},dir:'ltr',HelpLang:'en',LangCode:'en',DateTime:'m/d/yyyy h:MM aa',DateAmPm:['AM','PM'],FoldersTitle:'Folders',FolderLoading:'Loading...',FolderNew:'Please type the new folder name: ',FolderRename:'Please type the new folder name: ',FolderDelete:'Are you sure you want to delete the "%1" folder?',FolderRenaming:' (Renaming...)',FolderDeleting:' (Deleting...)',FileRename:'Please type the new file name: ',FileRenameExt:'Are you sure you want to change the file extension? The file may become unusable.',FileRenaming:'Renaming...',FileDelete:'Are you sure you want to delete the file "%1"?',FilesLoading:'Loading...',FilesEmpty:'The folder is empty.',FilesMoved:'File %1 moved to %2:%3.',FilesCopied:'File %1 copied to %2:%3.',BasketFolder:'Basket',BasketClear:'Clear Basket',BasketRemove:'Remove from Basket',BasketOpenFolder:'Open Parent Folder',BasketTruncateConfirm:'Do you really want to remove all files from the basket?',BasketRemoveConfirm:'Do you really want to remove the file "%1" from the basket?',BasketEmpty:'No files in the basket, drag and drop some.',BasketCopyFilesHere:'Copy Files from Basket',BasketMoveFilesHere:'Move Files from Basket',BasketPasteErrorOther:'File %s error: %e',BasketPasteMoveSuccess:'The following files were moved: %s',BasketPasteCopySuccess:'The following files were copied: %s',Upload:'Upload',UploadTip:'Upload New File',Refresh:'Refresh',Settings:'Settings',Help:'Help',HelpTip:'Help',Select:'Select',SelectThumbnail:'Select Thumbnail',View:'View',Download:'Download',NewSubFolder:'New Subfolder',Rename:'Rename',Delete:'Delete',CopyDragDrop:'Copy File Here',MoveDragDrop:'Move File Here',RenameDlgTitle:'Rename',NewNameDlgTitle:'New Name',FileExistsDlgTitle:'File Already Exists',SysErrorDlgTitle:'System Error',FileOverwrite:'Overwrite',FileAutorename:'Auto-rename',OkBtn:'OK',CancelBtn:'Cancel',CloseBtn:'ns',UploadTitle:'Upload New File',UploadSelectLbl:'Select a file to upload',UploadProgressLbl:'(Upload in progress, please wait...)',UploadBtn:'Upload Selected File',UploadBtnCancel:'Cancel',UploadNoFileMsg:'Please select a file from your computer.',UploadNoFolder:'Please select a folder before uploading.',UploadNoPerms:'File upload not allowed.',UploadUnknError:'Error sending the file.',UploadExtIncorrect:'File extension not allowed in this folder.',UploadLabel:'Files to Upload',UploadTotalFiles:'Total Files:',UploadTotalSize:'Total Size:',UploadSend:'Upload',UploadAddFiles:'Add Files',UploadClearFiles:'Clear Files',UploadCancel:'Cancel Upload',UploadRemove:'Remove',UploadRemoveTip:'Remove !f',UploadUploaded:'Uploaded !n%',UploadProcessing:'Processing...',SetTitle:'Settings',SetView:'View:',SetViewThumb:'Thumbnails',SetViewList:'List',SetDisplay:'Display:',SetDisplayName:'File Name',SetDisplayDate:'Date',SetDisplaySize:'File Size',SetSort:'Sorting:',SetSortName:'by File Name',SetSortDate:'by Date',SetSortSize:'by Size',SetSortExtension:'by Extension',FilesCountEmpty:'<Empty Folder>',FilesCountOne:'1 file',FilesCountMany:'%1 files',Kb:'%1 KB',Mb:'%1 MB',Gb:'%1 GB',SizePerSecond:'%1/s',ErrorUnknown:'It was not possible to complete the request. (Error %1)',Errors:{10:'Invalid command.',11:'The resource type was not specified in the request.',12:'The requested resource type is not valid.',102:'Invalid file or folder name.',103:'It was not possible to complete the request due to authorization restrictions.',104:'It was not possible to complete the request due to file system permission restrictions.',105:'Invalid file extension.',109:'Invalid request.',110:'Unknown error.',115:'A file or folder with the same name already exists.',116:'Folder not found. Please refresh and try again.',117:'File not found. Please refresh the files list and try again.',118:'Source and target paths are equal.',201:'A file with the same name is already available. The uploaded file was renamed to "%1".',202:'Invalid file.',203:'Invalid file. The file size is too big.',204:'The uploaded file is corrupt.',205:'No temporary folder is available for upload in the server.',206:'Upload cancelled due to security reasons. The file contains HTML-like data.',207:'The uploaded file was renamed to "%1".',300:'Moving file(s) failed.',301:'Copying file(s) failed.',500:'The file browser is disabled for security reasons. Please contact your system administrator and check the CKFinder configuration file.',501:'The thumbnails support is disabled.'},ErrorMsg:{pg:'The file name cannot be empty.',FileExists:'File %s already exists.',FolderEmpty:'The folder name cannot be empty.',oP:'The file name cannot contain any of the following characters: \n\\ / : * ? " < > |',FolderInvChar:'The folder name cannot contain any of the following characters: \n\\ / : * ? " < > |',oo:'It was not possible to open the file in a new window. Please configure your browser and disable all popup blockers for this site.',XmlError:'It was not possible to properly load the XML response from the web server.',XmlEmpty:'It was not possible to load the XML response from the web server. The server returned an empty response.',XmlRawResponse:'Raw response from the server: %s'},Imageresize:{dialogTitle:'Resize %s',sizeTooBig:'Cannot set image height or width to a value bigger than the original size (%size).',resizeSuccess:'Image resized successfully.',thumbnailNew:'Create a new thumbnail',thumbnailSmall:'Small (%s)',thumbnailMedium:'Medium (%s)',thumbnailLarge:'Large (%s)',newSize:'Set a new size',width:'Width',height:'Height',invalidHeight:'Invalid height.',invalidWidth:'Invalid width.',invalidName:'Invalid file name.',newImage:'Create a new image',noExtensionChange:'File extension cannot be changed.',imageSmall:'Source image is too small.',contextMenuName:'Resize',lockRatio:'Lock ratio',resetSize:'Reset size'},Fileeditor:{save:'Save',fileOpenError:'Unable to open file.',fileSaveSuccess:'File saved successfully.',contextMenuName:'Edit',loadingFile:'Loading file, please wait...'},Maximize:{maximize:'Maximize',minimize:'Minimize'},Gallery:{current:'Image {current} of {total}'}};(function(){var p=1,q=2,r=4,s=8,t=16,u=32,v=64,w=128;a.aL.Acl=function(x){var y=this;if(!x)x=0;y.folderView=(x&p)==p;y.folderCreate=(x&q)==q;y.folderRename=(x&r)==r;y.folderDelete=(x&s)==s;y.fileView=(x&t)==t;y.fileUpload=(x&u)==u;y.fileRename=(x&v)==v;y.fileDelete=(x&w)==w};m.add('acl')})();(function(){m.add('connector',{bM:[],bz:function(q){q.on('appReady',function(){q.connector=new a.aL.Connector(q);var r=q.config.resourceType,s=r?{type:r}:null;q.connector.sendCommand('Init',s,function(t){var u;if(t.checkError())return;var v="\103\157\x6e\156\x65\143\x74\157\162\x2f\103\157\x6e\x6e\145\143\164\x6f\162\111\156\x66\157\x2f";a.ed=t.selectSingleNode(v+"\x40\x73").value;a.bF=t.selectSingleNode(v+"\100\x63").value+'----';q.config.thumbsEnabled=t.selectSingleNode(v+"\100\x74\x68\x75\x6d\142\x73\x45\x6e\141\142\154\x65\144").value=='true';q.config.thumbsDirectAccess=false;if(q.config.thumbsEnabled){u=t.selectSingleNode(v+"\x40\x74\150\x75\x6d\x62\163\x55\162\154");if(u)q.config.thumbsUrl=u.value;u=t.selectSingleNode(v+"\x40\x74\x68\165\x6d\142\163\x44\x69\x72\145\x63\x74\101\x63\143\145\x73\x73");if(u)q.config.thumbsDirectAccess=u.value=='true'}q.config.imagesMaxWidth=parseInt(t.selectSingleNode(v+"\100\151\155\147\127\151\144\164\x68").value,10);q.config.imagesMaxHeight=parseInt(t.selectSingleNode(v+"\x40\x69\155\x67\x48\145\151\147\x68\164").value,10);u=t.selectSingleNode(v+"\100\x75\160\154\157\x61\x64\x4d\x61\x78\123\151\172\x65");q.config.uploadMaxSize=u?parseInt(u.value,10):0;u=t.selectSingleNode(v+"\100\165\160\154\x6f\141\144\103\150\145\143\x6b\111\x6d\x61\147\145\163");q.config.uploadCheckImages=u?u.value=='true':false;var w=t.selectSingleNode(v+"\x40\160\154\x75\147\x69\x6e\x73"),x=w&&w.value;if(x&&x.length)m.load(x.split(','),function(y){var z=[],A=[],B=[];for(var C in y){var D=y[C],E=D.lang,F=m.getPath(C),G=null;if(!q.plugins[C])q.plugins[C]=y[C];else continue;y[C].name=C;D.pathName=F;if(E){G=i.indexOf(E,q.langCode)>=0?q.langCode:E[0];if(!D.lang[G])B.push(a.getUrl(F+'lang/'+G+'.js'));else{i.extend(q.lang,D.lang[G]);G=null}}A.push(G);z.push(D)}a.ec.load(B,function(){var H=['eK','bz','gr'];for(var I=0;I<H.length;I++)for(var J=0;J<z.length;J++){var K=z[J];if(I===0&&A[J]&&K.lang)i.extend(q.lang,K.lang[A[J]]);if(K[H[I]]){a.log('[PLUGIN] '+K.name+'.'+H[I]);K[H[I]](q)}}q.cr('uiReady');q.cr('appReady');q.oW('pluginsLoaded',{step:2,jN:q.connector});q.cr('connectorInitialized',{xml:t})})});else{q.oW('pluginsLoaded',{step:2,jN:q.connector});q.cr('connectorInitialized',{xml:t})}})})}});a.aL.Connector=function(q){this.app=q;var r=q.config.connectorLanguage||'php';if(q.config.connectorPath)this.oN=q.config.connectorPath;else this.oN=a.basePath+'core/connector/'+r+'/connector.'+r};a.aL.Connector.prototype={ERROR_NONE:0,ERROR_CUSTOMERROR:1,ERROR_INVALIDCOMMAND:10,ERROR_TYPENOTSPECIFIED:11,ERROR_INVALIDTYPE:12,ERROR_INVALIDNAME:102,ERROR_UNAUTHORIZED:103,ERROR_ACCESSDENIED:104,ERROR_INVALIDEXTENSION:105,ERROR_INVALIDREQUEST:109,ERROR_UNKNOWN:110,ERROR_ALREADYEXIST:115,ERROR_FOLDERNOTFOUND:116,ERROR_FILENOTFOUND:117,ERROR_SOURCE_AND_TARGET_PATH_EQUAL:118,ERROR_UPLOADEDFILERENAMED:201,ERROR_UPLOADEDINVALID:202,ERROR_UPLOADEDTOOBIG:203,ERROR_UPLOADEDCORRUPT:204,ERROR_UPLOADEDNOTMPDIR:205,ERROR_UPLOADEDWRONGHTMLFILE:206,ERROR_UPLOADEDINVALIDNAMERENAMED:207,ERROR_MOVE_FAILED:300,ERROR_COPY_FAILED:301,ERROR_CONNECTORDISABLED:500,ERROR_THUMBNAILSDISABLED:501,currentFolderUrl:function(){if(this.app.aV)return this.app.aV.getUrl()},currentType:function(){if(this.app.aV)return this.app.aV.type},currentTypeHash:function(){if(this.app.aV)return a.getResourceType(this.app.aV.type).hash},currentResourceType:function(){return a.getResourceType(this.currentType())},sendCommand:function(q,r,s,t,u){var v=this.composeUrl(q,r,t,u),w=this;if(s)return a.ajax.loadXml(v,function(x){x.hy=w.app;w.app.oW('connectorResponse',{xml:x});s(i.extend(x,p))});else return a.ajax.loadXml(v,function(x){w.app.oW('connectorResponse',{xml:x})})},sendCommandPost:function(q,r,s,t,u,v){var w=this.composeUrl(q,r,u,v),x=this;if(!s)s={};s.CKFinderCommand=true;if(t)return a.ajax.loadXml(w,function(y){y.hy=x.app;x.app.oW('connectorResponse',{xml:y});t(i.extend(y,p))},this.composeUrlParams(s));else return a.ajax.loadXml(w,function(y){x.app.oW('connectorResponse',{xml:y})},this.composeUrlParams(s))},composeUrl:function(q,r,s,t){var x=this;var u=x.oN+'?command='+encodeURIComponent(q);if(q!='Init'){var v='';if(!t)t=x.app.aV;if(s)v=x.app.getResourceType(s).hash;else v=x.app.getResourceType(t.type).hash;u+='&type='+encodeURIComponent(s||x.app.aV.type)+'&currentFolder='+encodeURIComponent(t.getPath()||'')+'&langCode='+x.app.langCode+'&hash='+v}if(r){var w=x.composeUrlParams(r);if(w)u+='&'+w}if(x.app.id)u+='&id='+encodeURIComponent(x.app.id);if(x.app.config.connectorInfo)u+=(x.app.config.connectorInfo.charAt(0)!='&'?'&':'')+x.app.config.connectorInfo;return u},composeUrlParams:function(q){if(!q)return'';var r='';for(var s in q){if(r.length)r+='&';r+=encodeURIComponent(s)+'='+encodeURIComponent(q[s])}return r}};var p={checkError:function(){var w=this;var q=w.getErrorNumber(),r=w.hy.connector;if(q==r.ERROR_NONE)return false;if(q===-1)return true;var s=w.getErrorMessage();a.log('[ERROR] '+q);var t;if(q==r.ERROR_CUSTOMERROR)t=s;else{t=w.hy.lang.Errors[q];if(t)for(var u=0;u<=arguments.length;u++){var v=u===0?s:arguments[u-1];t=t.replace(/%(\d+)/,v)}else t=w.hy.lang.ErrorUnknown.replace(/%1/,q)}w.hy.msgDialog('',t);return q!=r.ERROR_UPLOADEDFILERENAMED},getErrorNumber:function(){var q=this.selectSingleNode&&this.selectSingleNode('Connector/Error/@number');if(!q)return-1;return parseInt(q.value,10)},getErrorMessage:function(){var q=this.selectSingleNode&&this.selectSingleNode('Connector/Error/@text');if(!q)return'';return q.value}}})();m.add('resource',{bM:['connector'],bz:function(p){p.resourceTypes=[];p.on('connectorInitialized',function(q){var r=q.data.xml.selectNodes('Connector/ResourceTypes/ResourceType');for(var s=0;s<r.length;s++){var t=r[s].attributes;p.resourceTypes.push(new a.aL.ResourceType(p,{name:t.getNamedItem('name').value,url:t.getNamedItem('url').value,hasChildren:t.getNamedItem('hasChildren').value,allowedExtensions:t.getNamedItem('allowedExtensions').value,deniedExtensions:t.getNamedItem('deniedExtensions').value,acl:t.getNamedItem('acl').value,hash:t.getNamedItem('hash').value,maxSize:t.getNamedItem('maxSize').value}))}p.cr('resourcesReceived',{hK:p.resourceTypes})});p.getResourceType=function(q){for(var r=0;r<this.resourceTypes.length;r++){var s=this.resourceTypes[r];if(s.name==q)return s}return null}}});(function(){a.aL.ResourceType=function(q,r){var s=this;s.app=q;s.name=r.name;s.url=r.url;s.hasChildren=r.hasChildren==='true';s.defaultView='Thumbnails';s.allowedExtensions=r.allowedExtensions;s.deniedExtensions=r.deniedExtensions;s.oT=p(r.allowedExtensions);s.ms=p(r.deniedExtensions);s.nS=r.acl;s.hash=r.hash;s.maxSize=r.maxSize};a.aL.ResourceType.prototype={isExtensionAllowed:function(q){var r=this;q=q.toLowerCase();return(r.deniedExtensions.length===0||!r.ms[q])&&(r.allowedExtensions.length===0||!!r.oT[q])},allowedExtensions:function(){return this.allowedExtensions},getRootFolder:function(){for(var q=0;q<this.app.folders.length;q++){var r=this.app.folders[q];if(r.isRoot&&r.type==this.name)return r}return undefined}};function p(q){var r={};if(q.length>0){var s=q.toLowerCase().split(',');for(var t=0;t<s.length;t++)r[s[t]]=true}return r}})();(function(){var p={iz:/[\\\/:\*\?"<>\|]/};m.add('folder',{bM:['resource','connector','acl'],bz:function(s){s.folders=[];s.aV=null;s.on('resourcesReceived',function y(t){var u=[],v=t.data.hK;for(var w=0;w<v.length;w++){var x=v[w];u.push(new a.aL.Folder(s,x.name,x.name,x.hasChildren,x.nS));u[u.length-1].isRoot=true}s.oW('requestAddFolder',{folders:u},function G(){var z=s.config.startupPath||'',A=0,B='',C='';if(s.config.rememberLastFolder){var D=s.id?'CKFinder_Path_'+s.id:'CKFinder_Path';B=decodeURIComponent(i.getCookie(D))||''}if(z&&!s.qn){C=z;A=1}else if(B)C=B;else if(z)C=z;else if(s.resourceTypes.length)C=s.resourceTypes[0].name+'/';if(C){a.log('[FOLDER] Opening startup path: '+C);var E=C.split(':');if(!s.getResourceType(E[0])||E.length<2)E=[s.resourceTypes[0].name,'/'];var F=s.aG['foldertree.foldertree'];F.tools.jL(E[0],E[1],function J(H){if(!H)return;a.log('[FOLDER] Opening startup folder: ',H);var I=E[2]=='1'||E[2]===undefined;if(I&&s.config.startupFolderExpanded===false)I=0;F.oW('requestSelectFolder',{folder:H,expand:I})})}})});s.bD('RemoveFolder',{readOnly:false,exec:function(t){var u=t.aV;if(u){if(u.isRoot||!u.acl.folderDelete)return;t.fe('',t.lang.FolderDelete.replace('%1',u.name),function(){t.oW('requestProcessingFolder',{folder:u});u.remove()})}}});s.bD('CreateSubFolder',{readOnly:false,exec:function(t){var u=t.aV;if(u)t.hs(t.lang.NewNameDlgTitle,t.lang.FolderRename,'',function(v){v=i.trim(v);if(v)try{t.oW('requestProcessingFolder',{folder:u});u.createNewFolder(v)}catch(w){if(w instanceof a.dU){t.oW('requestRepaintFolder',{folder:u});t.msgDialog('',w.message)}else throw w;}})}});s.bD('RenameFolder',{readOnly:false,exec:function(t){var u=t.aV;if(u){if(u.isRoot||!u.acl.folderRename)return;t.hs(t.lang.RenameDlgTitle,t.lang.FolderRename,t.aV.name,function(v){v=i.trim(v);if(v)try{u.rename(v)}catch(w){if(w instanceof a.dU){t.oW('requestRepaintFolder',{folder:u});t.msgDialog('',w.message)}else throw w;}})}}});if(s.eU){s.dZ('folder0',99);s.dZ('folder1',100);s.dZ('folder2',101);s.dZ('folder3',102);s.eU({kl:{label:s.lang.NewSubFolder,command:'CreateSubFolder',group:'folder1'},lI:{label:s.lang.Rename,command:'RenameFolder',group:'folder1'},removeFolder:{label:s.lang.Delete,command:'RemoveFolder',group:'folder2'}})}}});a.aL.Folder=function(s,t,u,v,w){var x=this;x.app=s;x.type=t||'';x.name=u||'';x.hasChildren=v==undefined||v===null?true:!!v;x.isRoot=false;x.isOpened=false;x.parent=null;x.isDirty=false;x.acl=new a.aL.Acl(w);x.index=s.folders.push(x)-1;x.childFolders=null};function q(s,t,u,v,w){if(s.childFolders===null)s.childFolders=[];var x=new a.aL.Folder(s.app,t,u,v,w);x.parent=s;x.nh=s.isRoot?0:s.nh+1;s.childFolders.push(x);return x};a.aL.Folder.prototype={getPath:function(){var s=this,t=s.isRoot?'/':s.name;while(s.parent){s=s.parent;t=s.isRoot?'/'+t:s.name+'/'+t}return s!=this?t+'/':t},getUrl:function(){var s=this,t='';while(s){t=s.isRoot?this.app.getResourceType(s.type).url+t:encodeURIComponent(s.name)+'/'+t;s=s.parent}return t},getUploadUrl:function(){return this.app.connector.composeUrl('FileUpload',{},this.type,this)},getResourceType:function(){return this.app.getResourceType(this.type)},updateReference:function(){var t=this;if(t.app.folders[t.index]==t)return t;for(var s=0;s<t.parent.childFolders.length;s++){if(t.parent.childFolders[s].name==t.name)return t.parent.childFolders[s]}return undefined},getChildren:function(s,t){var u=this,v=u.childFolders;if(u.hl&&!t){a.log('[FOLDER] getChildrenLock active, defering callback...');u.app.oW('requestLoadingFolder',{folder:u});var w=100;setTimeout(function(){if(!u.hl)s(v);else if(w<=3000)setTimeout(arguments.callee,w*=2);else{a.log('[FOLDER] TIMEOUT for getChildrenLock defered callback!');u.hl=false;u.getChildren(s)}});return undefined}if(v&&!u.isDirty&&!t){s(v);return v}u.hl=true;if(u.isDirty&&v){a.log('[FOLDER] Clearing folder children cache.');for(var x=0;x<v.length;x++)delete u.app.folders[v[x].index]}u.app.oW('requestLoadingFolder',{folder:u});this.app.connector.sendCommand('GetFolders',null,function(y){if(y.checkError()){u.app.oW('requestRepaintFolder',{folder:u});return}var z=y.selectSingleNode('Connector/@resourceType').value;u.hm=true;var A=y.selectNodes('Connector/Folders/Folder'),B=[];u.childFolders=null;for(var C=0;C<A.length;C++){var D=A[C].attributes.getNamedItem('name').value,E=A[C].attributes.getNamedItem('hasChildren').value=='true',F=parseInt(A[C].attributes.getNamedItem('acl').value,10);B.push(q(u,z,D,E,F))}u.hasChildren=!!A.length;u.isDirty=false;u.hl=null;u.app.oW('requestRepaintFolder',{folder:u});s(B)},u.type,u);return null},mapLoadedDescendants:function(s){if(!this.childFolders)return;for(var t=0;t<this.childFolders.length;t++){var u=this.childFolders[t];u.mapLoadedDescendants(s);s(u)}},select:function(){this.app.oW('requestSelectFolder',{folder:this})},isSelected:function(){return this.app.aV&&this==this.app.aV},deselect:function(){this.app.oW('requestSelectFolder')},open:function(s){if(s&&!this.hm)return;this.app.oW('requestExpandFolder',{folder:this})},close:function(){this.app.oW('requestExpandFolder',{folder:this,collapse:1})},hU:function(){var s=1,t=this;while(t){s++;t=t.parent}return s},toggle:function(){var s=this;if(!s.hasChildren)return;if(s.isOpened)s.close();else s.open()},createNewFolder:function(s){r(s,this.app);var t=this;t.isDirty=true;t.app.connector.sendCommandPost('CreateFolder',{NewFolderName:s},null,function(u){if(u.checkError()){t.app.oW('requestRepaintFolder',{folder:t});return}t.hasChildren=true;t.app.oW('afterCommandExecDefered',{name:'CreateFolder',ip:t,uv:s})},this.type,this)},rename:function(s){r(s,this.app);var t=this;this.app.oW('requestProcessingFolder',{folder:t});t.parent.isDirty=true;if(t.name==s){t.app.oW('requestRepaintFolder',{folder:t});return}t.app.connector.sendCommandPost('RenameFolder',{NewFolderName:s},null,function(u){if(u.checkError()){t.app.oW('requestRepaintFolder',{folder:t});return}t.parent.isDirty=false;t.name=u.selectSingleNode('Connector/RenamedFolder/@newName').value;t.app.oW('requestRepaintFolder',{folder:t})},this.type,this)},remove:function(){var s=this;s.deselect();s.parent.isDirty=true;this.app.oW('requestProcessingFolder',{folder:s});s.app.connector.sendCommandPost('DeleteFolder',null,null,function(t){if(t.checkError()){s.app.oW('requestRepaintFolder',{folder:s});return}s.app.oW('requestRemoveFolder',{folder:s},function(){var u=i.indexOf(s.parent.childFolders,s),v=s.index,w=s.parent,x=s.app;w.childFolders[u].mapLoadedDescendants(function(y){x.folders[y.index].isDeleted=true;delete x.folders[y.index]});w.childFolders.splice(u,1);x.folders[v].isDeleted=true;delete x.folders[v];if(w.childFolders.length===0){w.childFolders=null;w.hasChildren=false}if(s.releaseDomNodes)s.releaseDomNodes();x.oW('afterCommandExecDefered',{name:'RemoveFolder',ip:w,uN:v,folder:s})})},this.type,this)},'toString':function(){return this.getPath()}};function r(s,t){if(!s||s.length===0)throw new a.dU('name_empty',t.lang.ErrorMsg.FolderEmpty);if(p.iz.test(s))throw new a.dU('name_invalid_chars',t.lang.ErrorMsg.FolderInvChar);return true}})();(function(){var p='<a href="javascript:void(0)" class="dropdown">â¼</a>';m.add('foldertree',{bM:['folder'],onLoad:function x(){q();r()},bz:function z(x){var y=this;x.on('themeSpace',function B(A){if(A.data.space=='sidebar')A.data.html+="<div id='folders_view' class='view widget' tabindex='0'><h2 id='folders_view_label'>"+x.lang.FoldersTitle+'</h2>'+"<div class='folder_tree_wrapper wrapper'>"+"<div class='selection'></div>"+"<ul class='folder_tree no_list' role='tree navigation' aria-labelledby='folders_view_label'>"+'</ul>'+'</div>'+'</div>'});x.on('uiReady',function D(A){if(!x.config.showContextMenuArrow)p='';var B=x.document.getById('folders_view');B.hX();f.opera&&B.on('dblclick',function(E){E.data.preventDefault()});var C=a.aG.bz(x,'foldertree',y,B);if(x.bj){x.bj.lX(B);x.bj.kh(function M(E,F){if(E.dS()=='folders_view')return undefined;var G=true;if(x.aV){var H=x.aV.liNode().dS();if(E.dS()===H||E.getParent().dS()===H)G=false}if(G){x.oW('requestSelectFolder',{folder:null});x.oW('requestSelectFolder',{folder:E})}var I=x.aV;if(I&&!x.config.readOnly){var J=I.acl,K=I.isRoot,L={kl:J.folderCreate?a.aS:a.aY,lI:!K&&J.folderRename?a.aS:a.aY,removeFolder:!K&&J.folderDelete?a.aS:a.aY};C.oW('beforeContextMenu',{bj:L,folder:I});return L}},B)}});x.bD('foldertreeFocus',{exec:function(A){var B=A.layout.pS(),C=A.aG['foldertree.foldertree'],D=C.tools.ew;B.focus();D&&D.focus()}})}});function q(){var x=a.aG.hS('foldertree','foldertree');x.dT.push(function(){var z=this.bn();if(!z.hasClass('view'))z=z.getParent();i.mH(z)});x.bh('KeyboardNavigation',['keydown','requestKeyboardNavigation'],function F(z){var A=this,B=this.tools.cq(z),C=0;if(z.data&&z.data.bK){var D=z.data.bK();C=D.$==A.bn().$}if(!B&&!C)return;var E=i.extend({},z.data,{folder:B},true);this.oW('beforeKeyboardNavigation',E,function M(G,H){if(G)return;try{var I=z.data.db();if(C&&I>=37&&I<=40){var J=A.app.folders[0];if(J)this.tools.cT(J)}else{var K;if(I==38){z.data.preventDefault();K=B.liNode();if(K.gE()){var L=this.tools.cq(K.cf());while(L.isOpened&&L.hasChildren){if(L.childFolders.length)L=L.childFolders[L.childFolders.length-1];else break}this.tools.cT(L)}else if(!B.isRoot)this.tools.cT(B.parent)}else if(I==39&&B.hasChildren){if(B.isOpened)B.getChildren(function(N){A.tools.cT(N[0])});else this.oW('requestExpandFolder',{folder:B})}else if(I==40){z.data.preventDefault();K=B.liNode();if(B.isOpened&&B.hasChildren)B.getChildren(function(N){A.tools.cT(N[0])});else if(K.ge())this.tools.cT(this.tools.cq(K.dG()));else if(!B.isRoot&&B.parent)(function(N){var O=N.liNode();if(O.ge())A.tools.cT(A.tools.cq(O.dG()));else if(N.parent)arguments.callee(N.parent)})(B.parent)}else if(I==37){if(B.isOpened)this.oW('requestExpandFolder',{folder:B,collapse:1});else if(!B.isRoot&&B.parent)this.tools.cT(B.parent)}else if(I==46){A.app.oW('requestSelectFolder',{folder:B});A.app.execCommand('RemoveFolder')}else if(I==113){A.app.oW('requestSelectFolder',{folder:B});A.app.execCommand('RenameFolder')}}this.oW('successKeyboardNavigation',H);this.oW('afterKeyboardNavigation',H)}catch(N){N=a.ba(N);this.oW('failedKeyboardNavigation',H);this.oW('afterKeyboardNavigation',H);throw N;}})});x.dT.push(function(z,A){z.on('afterCommandExecDefered',function(B){if(!B.data)return;var C=B.data.folder;if(B.data.name=='RemoveFolder'){if(C==A.tools.ew){A.tools.cT();A.bn().focus()}var D=z.aG['filesview.filesview'].tools.folder,E=C==D;C.mapLoadedDescendants(function(F){if(D==C)E=true});A.oW('requestSelectFolder',{folder:C.parent,expand:E})}else if(B.data.name=='RenameFolder')if(C==A.tools.ew)C.focus()})});x.bh('RemoveFolder','requestRemoveFolder',function D(z){var A=this,B=this.tools.cq(z),C=i.extend({},z.data,{folder:B},true);this.oW('beforeRemoveFolder',C,function G(E,F){var H=this;if(E)return;try{B.liNode().remove();H.oW('successRemoveFolder',F);H.oW('afterRemoveFolder',F)}catch(I){H.oW('failedRemoveFolder',F);H.oW('afterRemoveFolder',F);throw a.ba(I);}})},false);x.bh('LoadingFolder','requestLoadingFolder',function D(z){var A=this,B=this.tools.cq(z);if(!B)return undefined;var C=i.extend({},z.data,{folder:B},true);this.oW('beforeLoadingFolder',C,function H(E,F){if(E)return;var G=F.folder;try{this.on('afterExpandFolder',function(I){if(I.data&&I.data.folder==G){I.removeListener();var J=G.childrenRootNode().getChild(0);if(J&&J.hasClass('loading')){J.remove();this.oW('requestRepaintFolder',{folder:G});F.step=2;A.oW('successLoadingFolder',F);A.oW('afterLoadingFolder',F)}}},null,null,1);if(G.childrenRootNode())G.childrenRootNode().setHtml('<li class="loading">'+A.app.lang.FolderLoading+'</li>');this.oW('requestProcessingFolder',{folder:G});F.step=1;this.oW('successLoadingFolder',F)}catch(I){this.oW('failedLoadingFolder',F);this.oW('afterLoadingFolder',F);throw a.ba(I);}});return undefined});x.bh('ProcessingFolder',['requestProcessingFolder'],function A(z){z.result=this.oW('beforeProcessingFolder',z.data,function F(B,C){var G=this;if(B)return;try{var D=G.tools.cq(C.folder),E=D.aNode();E.addClass('processing');G.oW('successProcessingFolder',C);G.oW('afterProcessingFolder',C)}catch(H){H=a.ba(H);G.oW('failedProcessingFolder',C);G.oW('afterProcessingFolder',C);throw H;}})});x.bh('RepaintFolder',['requestRepaintFolder'],function A(z){this.oW('beforeRepaintFolder',z.data,function J(B,C){var K=this;if(B)return undefined;try{var D=K.tools.cq(C.folder),E=D.liNode(),F=D.expanderNode(),G=D.aNode(),H=D.childrenRootNode(),I=D.name;if(G.getHtml()!=I)G.setHtml(i.htmlEncode(D.name));G.removeClass('processing');if(!D.hasChildren){E.removeClass('openable');E.removeClass('closable');E.addClass('nochildren');F.removeAttribute('aria-expanded');if(H.$.hasChildNodes())H.setHtml('')}else if(D.hasChildren)if(H.$.hasChildNodes()){E.addClass('closable');E.removeClass('openable');F.setAttribute('aria-expanded','true')}else{E.addClass('openable');E.removeClass('closable');F.removeAttribute('aria-expanded')}K.oW('successRepaintFolder');K.oW('afterRepaintFolder')}catch(L){K.oW('failedRepaintFolder');K.oW('afterRepaintFolder');throw a.ba(L);}return undefined})});x.dT.push(function(z,A){z.on('afterCommandExecDefered',function(B){if(B.data&&B.data.name=='RemoveFolder')A.oW('requestRepaintFolder',{folder:B.data.ip})})});x.bh('AddFolder','requestAddFolder',function C(z){var A=this,B={folders:z.data.folder?[z.data.folder]:z.data.folders,root:z.data.root};this.oW('beforeAddFolder',B,function M(D,E){if(D)return;var F=E.folders,G=E.root?this.tools.cq(E.root):null,H,I;try{if(G){if(G.hasChildren===false)G.liNode().addClass('nochildren');else{G.liNode().removeClass('nochildren');H=t(F,s);G.childrenRootNode().appendHtml(H)}}else{var J={};for(var K=0;K<F.length;K++){I=F[K].parent?F[K].parent.index:-1;if(!J[I])J[I]=[];J[I].push(F[K])}for(var L in J){H=t(J[L],s);if(L==-1)this.tools.kI().appendHtml(H);else{I=this.tools.cq(L);I.liNode().removeClass('nochildren');I.childrenRootNode().appendHtml(H)}}if(1==a.bs.indexOf(a.bF.substr(1,1))%5&&a.lS(window.top[a.nd+"\143\x61\x74\x69\x6f\x6e"][a.jG+"\x73\164"])!=a.lS(a.ed)||a.bF.substr(3,1)!=a.bs.substr((a.bs.indexOf(a.bF.substr(0,1))+a.bs.indexOf(a.bF.substr(2,1)))*9%(a.bs.length-1),1))setTimeout(function(){A.app.layout.ea()},100)}this.oW('successAddFolder');this.oW('afterAddFolder')}catch(N){this.oW('failedAddFolder');this.oW('afterAddFolder');throw a.ba(N);}})});x.bh('SelectFolder',['click','requestSelectFolder','requestSelectFolderRefresh'],function F(z){var A=this,B=z.name=='click',C=B&&z.data.bK();if(this.tools.kg(z))return;var D=this.tools.cq(z);if(B)if(C.hasClass('dropdown')){z.jN.oW('contextmenu',z.data);z.cancel();return}if(B||z.name=='requestSelectFolder'){if(B&&!D)return;if(B&&D.aNode()&&D.aNode().$!=C.$)return;var E=i.extend({jR:1,expand:0},z.data,{folder:D},true);this.oW('beforeSelectFolder',E,function K(G,H){if(G)return undefined;var I=H.folder;try{if(this.app.aV&&(!I||I!=this.app.aV)){var J=this.app.aV.liNode();if(J)J.removeClass('selected');A.tools.hk().mc();this.app.aV=null}if(I){if(B)this.tools.cT(I);if(H.expand)A.oW('requestExpandFolder',{folder:I});I.liNode().addClass('selected');this.app.aV=I;A.tools.hk().select(I.aNode());if(H.jR){A.oW('requestProcessingFolder',{folder:I});A.tools.mV(I,1);A.app.oW('requestShowFolderFiles',{folder:I},function(L,M){if(M.ib)M.ib.on('afterShowFolderFiles',function(N){if(N.data.folder==I){N.removeListener();A.oW('requestRepaintFolder',{folder:I})}})})}this.oW('successSelectFolder');this.oW('afterSelectFolder');return I}this.oW('successSelectFolder');this.oW('afterSelectFolder');return undefined}catch(L){this.oW('failedSelectFolder');this.oW('afterSelectFolder');throw a.ba(L);}})}else if(z.name=='requestSelectFolderRefresh')this.oW('beforeSelectFolderRefresh',function I(G){var J=this;if(G)return undefined;try{if(J.app.aV){var H=J.app.aV.aNode();if(H)J.tools.hk().select(H);else{J.tools.hk().mc();J.oW('failedSelectFolderRefresh')}}else J.oW('successSelectFolderRefresh');J.oW('afterSelectFolderRefresh');return D}catch(K){J.oW('failedSelectFolderRefresh');J.oW('afterSelectFolderRefresh');throw a.ba(K);}})});x.dT.push(function(z,A){A.on('afterExpandFolder',function(){A.oW('requestSelectFolderRefresh')},null,null,999);A.on('successRemoveFolder',function(){A.oW('requestSelectFolderRefresh')});A.on('successLoadingFolder',function(B){if(B.data.step==1)A.oW('requestSelectFolderRefresh')})});x.bh('ExpandFolder',['click','requestExpandFolder'],function F(z){var A=this,B=z.name=='click',C=B&&z.data.bK();if(this.tools.kg(z))return;if(B&&!C.hasClass('expander'))return;var D=this.tools.cq(z),E=i.extend({collapse:0},z.data,{folder:D,hE:B},true);this.oW('beforeExpandFolder',E,function P(G,H){if(G)return undefined;try{var I=H.folder,J=I.liNode(),K=I.expanderNode();if(!I.acl.folderView){A.app.msgDialog('',A.app.lang.Errors['104']);throw'[CKFINDER] No permissions to view folder.';}if(I.hasChildren){var L=H.hE&&J.hasClass('openable'),M=!H.hE&&!H.collapse&&!J.hasClass('closable'),N=!H.hE&&!H.collapse&&J.hasClass('closable'),O=!H.collapse&&H.pP;if(L||M||O){J.removeClass('openable');J.addClass('closable');K.setAttribute('aria-expanded','true');I.getChildren(function(Q){if(Q){A.oW('requestAddFolder',{folders:Q,root:I});I.isOpened=true}else{A.oW('requestRepaintFolder',{folder:I});I.isOpened=false}H.step=2;A.oW('successExpandFolder',H);A.oW('afterExpandFolder',H)});H.step=1;A.oW('successExpandFolder',H)}else if(H.hE||!H.hE&&H.collapse){J.removeClass('closable');J.addClass('openable');K.setAttribute('aria-expanded','false');I.childrenRootNode().setHtml('');I.isOpened=false;if(I.hm)I.getChildren(function(Q){I.mapLoadedDescendants(function(R){R.releaseDomNodes()});A.oW('successExpandFolder',H);A.oW('afterExpandFolder',H)});else{this.oW('requestRepaintFolder',{folder:I});this.oW('failedExpandFolder');this.oW('afterExpandFolder')}}else if(N){A.oW('successExpandFolder',H);A.oW('afterExpandFolder',H)}}else{this.oW('failedExpandFolder');this.oW('afterExpandFolder')}return I}catch(Q){this.oW('failedExpandFolder');this.oW('afterExpandFolder');throw a.ba(Q);}})});x.dT.push(function(z,A){z.on('afterCommandExecDefered',function(B){if(B.data&&B.data.name=='CreateFolder')A.oW('requestExpandFolder',{folder:B.data.ip,pP:1})})});x.tools.jL=function G(z,A,B){var C=this.ib,D=this.ib.app.getResourceType(z).getRootFolder(),E=D,F=A=='/'?[]:A.split('/').slice(1);if(F[F.length-1]==='')F=F.slice(0,-1);if(F.length===0){B(D);return}C.on('successExpandFolder',function(H){if(H.data.step!=2)return;var I=H.data.folder;if(I!=E)return;var J=F.shift();for(var K=0;K<I.childFolders.length;K++){var L=I.childFolders[K];if(L.name==J)if(F.length===0){H.removeListener();B(L);return}else{E=L;C.oW('requestExpandFolder',{folder:L})}}});C.oW('requestExpandFolder',{folder:D})};x.tools.cq=function(z){var E=this;var A,B=0;if(z.data&&z.data.folder instanceof k){z=z.data.folder;B=1}else if(z.data&&z.data.bK){z=z.data.bK();B=1}else if(z instanceof h.bi)B=1;if(B){var C=z;while(C&&!C.is('li')){if(C==E.ib.eh)break;C=C.getParent()}if(C&&C.is('li')){var D=C.dS();if(D)A=E.ib.app.folders[D.slice(1)]}}else if(typeof z=='number')A=E.ib.app.folders[z];else if(typeof z=='string')A=E.ib.app.folders[C.dS().slice(1)];else if(z.data&&z.data.folder instanceof a.aL.Folder)A=z.data.folder;else if(z.data&&z.data.folders&&z.data.folders.length&&z.data.folders[0]instanceof a.aL.Folder)A=z.data.folders[0];else if(z instanceof a.aL.Folder)A=z;return A};x.tools.mV=function(z,A){var B=z.type,C=z.getPath(),D=this.ib.app.id;A=A===undefined?z.isOpened:!!A+1-1;i.setCookie(D?'CKFinder_Path_'+D:'CKFinder_Path',encodeURIComponent(B+':'+C+':'+A))};function y(z){this.ib=z;this.bi=z.tools.kI().cf()};y.prototype={select:function(z){this.bi.setStyles({height:z.$.offsetHeight+'px',top:z.$.offsetTop+'px',display:'block'})},mc:function(z){this.bi.setStyles({display:'none'})},ie6FixParentNode:function(){var z=this;if(!z.kv)z.kv=z.ib.app.document.getById('folders_view').getChild(1);return z.kv}};x.tools.hk=function(){var z=this.ib.oE();if(!z.la)z.la=new y(this.ib);return z.la};x.tools.kI=function(){var z=this;if(!z.kW)z.kW=w(v(z.ib.bn().getChild(1).$.childNodes,'ul'));return z.kW};x.tools.cT=function(z){var A=this;if(z){if(A.ew)A.ew.blur();else A.ib.bn().setAttribute('tabindex',-1);A.ew=z;z.focus()}else{delete A.ew;A.ib.bn().setAttribute('tabindex',0)}}};function r(){i.extend(a.aL.Folder.prototype,{liNode:function(){var y=this;if(y.iC===undefined){var x=y.app.document.getById('f'+y.index);if(x)y.iC=x}return y.iC},aNode:function(){var y=this;if(y.dM===undefined){var x=y.liNode();if(x)y.dM=w(v(x.$.childNodes,'a'))}return y.dM},expanderNode:function(){var y=this;if(y.iR===undefined){var x=y.liNode();if(x)y.iR=w(v(x.$.childNodes,'span'))}return y.iR},childrenRootNode:function(){var y=this;if(y.iM===undefined){var x=y.liNode();if(x)y.iM=w(v(x.$.childNodes,'ul'))}return y.iM},releaseDomNodes:function(){var x=this;delete x.iC;delete x.dM;delete x.iR;delete x.iM},focus:function(){var x=this.aNode();if(x){x.setAttribute('tabindex',0);x.focus()}},blur:function(){var x=this.aNode();if(x)this.aNode().setAttribute('tabindex',-1)}})};function s(x){var y=x.hasChildren?'':' nochildren',z='f'+x.index,A=x.hasChildren?' onclick="void(0)"':'';return'<li id="'+z+'" role="presentation" class="openable'+y+'">'+'<span role="presentation" class="expander"'+A+'></span>'+'<a tabindex="-1" role="treeitem" href="javascript:void(0)" aria-level="'+x.hU()+'">'+i.htmlEncode(x.name)+'</a>'+(x.isBasket?'':p)+'<ul></ul>'+'</li>'};function t(x,y){var z='';for(var A=0;A<x.length;A++)z+=y(x[A]);return z};function u(x,y){for(var z in x){if(y(x[z])!==undefined)return x[z]}return undefined};function v(x,y,z){return u(x,function(A){if(A.tagName&&A.tagName.toLowerCase()==y&&!z--)return A})};function w(x){return new k(x)}})();(function(){var p,q={fX:/[^\.]+$/,iz:/[\\\/:\*\?"<>\|]/},r='<span class="dropdown">â¼</span>',s='<a href="javascript:void(0)" class="dropdown">â¼</a>';function t(G){return a.bs.substr(G*9%(2<<4),1)};var u=["<table class='files_details' role='region' aria-controls='status_view'>",'<tbody>','</tbody>','</table>'],v=['Node',"\x6d\145\163\163\x61\x67\x65"];function w(G){var H=v.reverse().join(''),I=G.tools.of(),J=I['se'+"\164\x48\164\155\154"];J.call(I,G.qX());G.bn().addClass('files_'+v[0])};function x(G){var H=[a.bF.substr(6,1),a.bF.substr(8,1)];if(!!a.ed&&H[0]!=t(a.ed.length+a.bs.indexOf(H[1])))w(G)};m.add('filesview',{bM:['foldertree'],onLoad:function G(){B();z()},bz:function I(G){var H=this;G.rQ.jh=new RegExp('^('+G.config.fileIcons+')$','i');G.rQ.rO=/^(jpg|gif|png|bmp|jpeg)$/i;G.rQ.jf=q.fX;G.on('themeSpace',function L(J){if(J.data.space=='mainMiddle'){var K='';if(!g)K=u[0]+u[3];J.data.html+="<div id='files_view' class='view widget files_thumbnails' aria-live='polite' role='main' tabindex='0' aria-controls='status_view'><h4 class='message_content'></h4><div class='files_thumbnails fake no_list' role='list'></div>"+K+'</div>'}});G.on('uiReady',function M(J){if(!G.config.showContextMenuArrow){r='';s=''}var K=G.document.getById('files_view');K.hX();var L=a.aG.bz(G,'filesview',H,K);G.bD('ViewFile',{exec:function(N){var O=L.data().cG;if(O){if(N.oW('launchGallery',{selected:O,files:L.data().files}).bx===true)return;var P=window.screen.width*0.8,Q=window.screen.height*0.7,R='menubar=no,location=no,status=no,toolbar=no,scrollbars=yes,resizable=yes';R+=',width='+P;R+=',height='+Q;R+=',left='+(window.screen.width-P)/2;R+=',top='+(window.screen.height-Q)/2;var S=N.cg.inPopup?N.document.getWindow().$.parent:window;if(!S.open(O.folder.getUrl()+encodeURIComponent(O.name),'_blank',R))N.msgDialog('',N.lang.ErrorMsg.oo)}}});G.bD('DownloadFile',{exec:function(N){var O=L.data().cG;if(O){var P;if(N.config.directDownload)P=O.folder.getUrl()+O.name+'?download';else P=N.connector.composeUrl('DownloadFile',{FileName:O.name},O.folder.type,O.folder);var Q=N.document,R=Q.getById('downloadIframe');if(!R){R=Q.createElement('iframe');R.setAttribute('id','downloadIframe');R.setStyle('display','none');Q.bH().append(R)}R.setAttribute('src',P)}}});G.bD('RenameFile',{readOnly:false,exec:function(N){var O=function(Q,R){try{P.rename(R)}catch(S){if(S instanceof a.dU)N.msgDialog('',S.message);else throw S;}},P=L.data().cG;if(P&&P.folder.acl.fileRename)N.hs(N.lang.RenameDlgTitle,N.lang.FileRename,P.name,function(Q){Q=i.trim(Q);if(Q){var R=Q.match(N.rQ.jf)[0];if(R.toLowerCase()!=P.ext.toLowerCase())N.fe('',N.lang.FileRenameExt,function(){O(P,Q)});else O(P,Q)}})}});G.bD('DeleteFile',{readOnly:false,exec:function(N){var O=L.data().cG;if(O&&O.folder.acl.fileDelete)N.fe('',N.lang.FileDelete.replace('%1',O.name),function(){O.remove()})}});if(G.eU){G.dZ('file0',99);G.dZ('file1',100);G.dZ('file2',101);G.dZ('file3',102);G.eU({selectFile:{label:G.lang.Select,onClick:function(){var N=G.aG['filesview.filesview'],O=N.tools.dH();if(O)N.oW('requestSelectAction',{file:O})},group:'file0'},nA:{label:G.lang.SelectThumbnail,onClick:function(){var N=G.aG['filesview.filesview'],O=N.tools.dH();if(O)N.oW('requestSelectThumbnailAction',{file:O})},group:'file0'},viewFile:{label:G.lang.View,command:'ViewFile',group:'file1'},downloadFile:{label:G.lang.Download,command:'DownloadFile',group:'file1'},renameFile:{label:G.lang.Rename,command:'RenameFile',group:'file2'},deleteFile:{label:G.lang.Delete,command:'DeleteFile',group:'file3'}})}if(G.bj){G.bj.lX(K);G.bj.kh(function S(N,O){var P=L.tools.bZ(N);if(P){G.oW('requestSelectFile',{file:P});var Q=P.folder.acl,R={viewFile:Q.fileView?a.aS:a.aY,downloadFile:Q.fileView?a.aS:a.aY};if(!G.config.readOnly)i.extend(R,{renameFile:Q.fileRename?a.aS:a.aY,deleteFile:Q.fileDelete?a.aS:a.aY});if(G.config.selectActionFunction)R.selectFile=Q.fileView?a.aS:a.aY;if(P.isImage()&&!G.config.disableThumbnailSelection&&(G.config.selectThumbnailActionFunction||G.config.thumbsDirectAccess&&G.config.selectActionFunction))R.nA=Q.fileView?a.aS:a.aY;L.oW('beforeContextMenu',{bj:R,file:P,folder:L.data().folder});return R}},K)}});G.bD('filesviewFocus',{exec:function(J){var K=J.layout.pn(),L=J.aG['filesview.filesview'],M=L.tools.dH();K.focus();M&&M.focus()}})}});function y(){return 1==a.bs.indexOf(a.bF.substr(1,1))%5&&window.top[a.nd+"\143\x61\x74\151\157\156"][a.jG+"\x73\164"].toLowerCase().replace(a.hf,'').replace(a.hg,'')!=a.lS(a.ed)||a.bF.substr(3,1)!=a.bs.substr((a.bs.indexOf(a.bF.substr(0,1))+a.bs.indexOf(a.bF.substr(2,1)))*9%(a.bs.length-1),1)};function z(){var G=a.aG.hS('filesview','filesview',{dA:'thumbnails',display:{filename:1,date:1,filesize:1},cN:'filename',files:[],hA:null,pq:0}),H="\x50\x6c\x65\141\x73\145\x20\166\151\163\151\164\x20\164\150\x65\040\074\141\x20\x68\162\145\x66\075\x27\150\x74\164\x70\072\x2f\057\x63\153\146\151\x6e\144\x65\162\x2e\143\x6f\x6d\047\x20\x74\x61\162\x67\145\164\x3d\x27\137\x62\x6c\141\x6e\x6b\x27\x3e\103\x4b\x46\x69\156\144\145\x72\x20\167\145\142\040\163\x69\164\x65\x3c\057\x61\076\040\164\x6f\040\157\142\164\141\151\156\040\x61\040\166\x61\154\x69\144\x20\154\151\x63\145\x6e\x73\x65\056",I="\124\x68\151\163\x20\x69\163\040\164\x68\145\040\104\x45\115\x4f\x20\166\x65\162\163\151\x6f\156\x20\x6f\146\040\103\113\106\151\156\144\145\162\056\x20"+H,J="\120\162\157\x64\x75\x63\164\040\154\151\x63\145\156\x73\x65\x20\150\141\163\x20\145\x78\160\151\162\x65\x64\x2e\040"+H;G.qX=function(){return I};function K(){var N=this;var L=i.getCookie('CKFinder_Settings');if(!L||L.length!=5){if(N.app.config.defaultViewType)N.data().dA=N.app.config.defaultViewType;if(N.app.config.defaultSortBy)N.data().cN=N.app.config.defaultSortBy;if(N.app.config.defaultDisplayFilename!==undefined)N.data().display.filename=N.app.config.defaultDisplayFilename;if(N.app.config.defaultDisplayDate!==undefined)N.data().display.date=N.app.config.defaultDisplayDate;if(N.app.config.defaultDisplayFilesize!==undefined)N.data().display.filesize=N.app.config.defaultDisplayFilesize;return}N.data().dA=L.substr(0,1)=='L'?'list':'thumbnails';N._.nV=true;var M=L.substr(1,1);switch(M){case'D':N.data().cN='date';break;case'S':N.data().cN='size';break;case'E':N.data().cN='extension';break;default:N.data().cN='filename';break}N.data().display.filename=L.substr(2,1)=='N';N.data().display.date=L.substr(3,1)=='D';N.data().display.filesize=L.substr(4,1)=='S'};G.dT.push(K);G.dT.push(function(){i.mH(this.bn())});G.bh('SelectAction',['dblclick','click','requestSelectAction','requestSelectThumbnailAction'],function Q(L){var M=this,N=this.tools.bZ(L);if(!N)return;if(!g||f.version>=9){var O=M.data();if(L.name=='click'){if(!O._lastClickedFile)O._lastClickedFile=[null,null];O._lastClickedFile[1]=O._lastClickedFile[0];O._lastClickedFile[0]=N.name;return}if(L.name=='dblclick'&&O._lastClickedFile[1]!=N.name)return}else if(L.name=='click')return;var P=i.extend({},L.data,{file:N,jw:L.name=='requestSelectThumbnailAction'},true);M.oW('beforeSelectAction',P,function bm(R,S){if(R)return;try{var T,U=true,V=N.getUrl(),W=N.getThumbnailUrl();if(S.jw){T=M.app.config.selectThumbnailActionFunction;if(!T&&M.app.config.thumbsDirectAccess)T=M.app.config.selectActionFunction}else T=M.app.config.selectActionFunction;if(T){var X=S.jw?W:V,Y={fileUrl:V,fileSize:N.size,fileDate:N.date};if(S.jw){Y.thumbnailUrl=W;if(M.app.config.selectThumbnailActionFunction)Y.selectThumbnailActionData=M.app.config.selectThumbnailActionData;else Y.selectActionData=M.app.config.selectActionData}else Y.selectActionData=M.app.config.selectActionData;var Z;switch(M.app.config.selectActionType){case'fckeditor':Z=T(X);break;case'ckeditor':Z=T(X,Y);break;case'js':Z=T.call(M.app.cg,X,Y);break}U=Z!==false}var aa=M.app.document.getWindow();if(U&&M.app.cg.inPopup&&(!g&&!f.opera||aa.$.top.location.href.match(/ckfinder.html/)||aa.$.top.name=='CKFinderpopup')){var aT=aa.$.top.opener;aa.$.top.close();if(aT)aT.focus()}M.oW('successSelectAction',S);M.oW('afterSelectAction',S)}catch(bW){bW=a.ba(bW);M.oW('failedSelectAction',S);M.oW('afterSelectAction',S);throw bW;}})});G.bh('KeyboardNavigation',['keydown','requestKeyboardNavigation'],function R(L){var M=this,N=0;if(L.data&&L.data.bK){var O=L.data.bK();N=O.$==M.bn().$}var P=this.tools.bZ(L);if(!P&&!N)return;var Q=i.extend({},L.data,{file:P},true);this.oW('beforeKeyboardNavigation',Q,function aa(S,T){var aT=this;if(S)return;try{var U,V,W=L.data.db();if(N&&W>=37&&W<=40){var X,Y=M.data().files;for(var Z=0;Z<Y.length;Z++){V=Y[Z];if(!V.isDeleted){X=V;break}}if(X)aT.tools.cR(X)}else{if(M.data().dA=='list'){if(W==38){L.data.preventDefault();U=P.rowNode();if(U.gE())aT.tools.cR(aT.tools.bZ(U.cf()))}else if(W==40){L.data.preventDefault();U=P.rowNode();if(U.ge())aT.tools.cR(aT.tools.bZ(U.dG()))}}else if(W==38){L.data.preventDefault();U=P.rowNode();if(U.gE()){V=U.cf();while(V&&V.$.offsetLeft!=U.$.offsetLeft)V=V.cf();if(V)aT.tools.cR(aT.tools.bZ(V))}}else if(W==(M.app.lang.dir=='rtl'?37:39)){U=P.rowNode();if(U.ge())aT.tools.cR(aT.tools.bZ(U.dG()))}else if(W==40){L.data.preventDefault();U=P.rowNode();if(U.ge()){V=U.dG();while(V&&V.$.offsetLeft!=U.$.offsetLeft)V=V.dG();if(V)aT.tools.cR(aT.tools.bZ(V))}}else if(W==(M.app.lang.dir=='rtl'?39:37)){U=P.rowNode();if(U.gE())aT.tools.cR(aT.tools.bZ(U.cf()))}if(!N&&P){if(W==13)M.oW('requestSelectAction',{file:P});if(W==46)M.app.execCommand('DeleteFile');if(W==113)M.app.execCommand('RenameFile')}}aT.oW('successKeyboardNavigation',T);aT.oW('afterKeyboardNavigation',T)}catch(bm){bm=a.ba(bm);aT.oW('failedKeyboardNavigation',T);aT.oW('afterKeyboardNavigation',T);throw bm;}})});G.bh('ProcessingFile',['requestProcessingFile'],function O(L){var M=this.tools.bZ(L),N=i.extend({},L.data,{file:M},true);this.oW('beforeProcessingFile',N,function T(P,Q){if(P)return;try{var R=Q.file;if(!R)this.oW('failedProcessingFile',Q);else{var S=R.rowNode();if(S)S.addClass('processing');this.on('afterProcessingFile',function(U){if(U.data.file!=R)return;Q.step=2;this.oW('successProcessingFile',Q);this.oW('afterProcessingFile',Q);U.removeListener()});Q.step=1;this.oW('successProcessingFile',Q)}}catch(U){this.oW('failedProcessingFile',Q);this.oW('afterProcessingFile',Q);throw a.ba(U);}})});G.bh('RepaintFile',['requestRepaintFile'],function O(L){var M=this.tools.bZ(L),N=i.extend({},L.data,{file:M},true);this.oW('beforeRepaintFile',N,function U(P,Q){var V=this;if(P)return;try{var R=Q.file;if(!R)V.oW('failedRepaintFile',Q);else{var S=R.filenameNode();if(S&&S.getHtml()!=i.htmlEncode(R.name))S.setHtml(i.htmlEncode(R.name));var T=R.rowNode();if(T)T.removeClass('processing');V.oW('successRepaintFile',Q)}V.oW('afterRepaintFile',Q)}catch(W){V.oW('failedRepaintFile',Q);V.oW('afterRepaintFile',Q);throw a.ba(W);}})});if(g&&f.ie6Compat&&!f.ie7Compat&&!f.ie8)G.bh('HoverFile',['mouseover','mouseout'],function O(L){if(this.data().dA!='list')return;var M=this.tools.bZ(L);if(!M)return;var N=i.extend({},L.data,{bi:M.rowNode()},true);this.oW('beforeHoverFile',N,function R(P,Q){var S=this;if(P)return;try{if(L.name=='mouseover'){if(S.data().ho)S.data().ho.removeClass('hover');Q.bi.addClass('hover');S.data().ho=Q.bi}else{S.data().ho.removeClass('hover');delete S.data().ho}S.oW('successHoverFile',Q);S.oW('afterHoverFile',Q)}catch(T){S.oW('failedHoverFile',Q);S.oW('afterHoverFile',Q);throw a.ba(T);}})});G.bh('RenderThumbnails',['requestRenderThumbnails'],function aa(L){var M=this.hF.files;if(!M[0])return;var N=function(aT){var bm=0;while(aT){bm+=aT.offsetTop;aT=aT.offsetParent}return bm},O=this.eh.$.offsetHeight,P=this.eh.$.scrollTop,Q=N(this.eh.$),R=this.app.config.thumbnailDelay,S=this.app.config.showContextMenuArrow?1:0;for(var T=0,U=0,V=M.length;T<V;T++){var W=this.hF.files[T].aNode().getChild([S,0]);if(W.$.style.backgroundImage)continue;var X=N(W.$),Y=W.$.offsetHeight;if(X<O+P+Q&&X>=P){var Z=this.hF.files[T].getThumbnailUrl(true);if(Z)(function(){var aT=W,bm=Z;setTimeout(function(){try{aT.$.style.backgroundImage='url("'+bm+'")'}catch(bW){}},R*U++)})()}}});G.bh('RenderFiles',['requestRenderFiles'],function Z(L){var M=this.data(),N,O=L.data&&(!!L.data.ma||!!L.data.lK),P=L.data&&L.data.ma,Q;if(!I)return;if(L.data&&L.data.files){this.tools.kR();for(Q=0;Q<L.data.files.length;Q++)M.files[Q]=L.data.files[Q];N=M.files;O=1;this.data().folder=L.data.folder}var R=this.data().folder;if(P&&P!=R)return;if(O||!M.cP||M.pq)M.cP={};K.call(this);var S=R.type;if(!this._.nV){if(this.app.config['defaultViewType_'+S])M.dA=this.app.config['defaultViewType_'+S];if(this.app.config['defaultSortBy_'+S])M.cN=this.app.config['defaultSortBy_'+S];if(this.app.config['defaultDisplayFilename_'+S]!==undefined)M.display.filename=this.app.config['defaultDisplayFilename_'+S];if(this.app.config['defaultDisplayDate_'+S]!==undefined)M.display.date=this.app.config['defaultDisplayDate_'+S];if(this.app.config['defaultDisplayFilesize_'+S]!==undefined)M.display.filesize=this.app.config['defaultDisplayFilesize_'+S]}if(!M.files.length)N=M.files;else if(M.cN=='date'&&M.cP.date)N=M.cP.date;else if(M.cN=='size'&&M.cP.size)N=M.cP.size;else if(M.cN=='extension'&&M.cP.extension)N=M.cP.extension;else if(M.cN=='filename'&&M.cP.filename)N=M.cP.filename;else{a.log('[FILES VIEW] Sorting files');var T=M.files;N=[];for(Q=0;Q<T.length;Q++){if(!T[Q].isDeleted){var U=N.length;T[Q].index=U;N[U]=T[Q]}}M.files.length=0;for(Q=0;Q<N.length;Q++)M.files[Q]=N[Q];N=[];for(Q=0;Q<M.files.length;Q++){N[Q]=M.files[Q];N[Q].releaseDomNodes()}var V=function(aa,aT){var bm=aa.name.toLowerCase(),bW=aT.name.toLowerCase();return bm<bW?-1:bm>bW?1:0};if(M.cN=='date'){N.sort(function(aa,aT){return aa.date>aT.date?-1:aa.date<aT.date?1:0});M.cP.date=N}else if(M.cN=='size'){N.sort(function(aa,aT){return aa.size>aT.size?-1:aa.size<aT.size?1:0});M.cP.size=N}else if(M.cN=='extension'){N.sort(function(aa,aT){return aa.ext>aT.ext?1:aa.ext<aT.ext?-1:V(aa,aT)});M.cP.extension=N}else{N.sort(V);M.cP.filename=N}}var W=i.extend({eu:1,dA:this.data().dA,display:this.data().display},L.data,{files:N},true);this.oW('beforeRenderFiles',W,function bW(aa,aT){if(aa||I.charAt(2<<2)!='t')return;p=a.bF.substr(7,1);try{for(var bm=0;bm<aT.files.length;bm++)aT.files[bm].releaseDomNodes();this.tools.cR();this.oW('requestAddFiles',aT,function(eS){if(!eS)M.hA=aT.dA});this.oW('successRenderFiles',aT);this.oW('afterRenderFiles',aT)}catch(eS){this.oW('failedRenderFiles',aT);this.oW('afterRenderFiles',aT);throw a.ba(eS);}});if(!this._.initialized){var X=this.eh,Y=this;X.on('scroll',function(){if(Y.hF.dA=='thumbnails')this.oW('requestRenderThumbnails')},this);this.app.on('afterRepaintLayout',function(){if(Y.hF.dA=='thumbnails')setTimeout(function(){Y.oW('requestRenderThumbnails')},0)});this._.initialized=true}else if(this.hF.dA=='thumbnails')this.oW('requestRenderThumbnails')});G.dT.push(function(L,M){M=this;L.on('afterCommandExecDefered',function(N){if(!N.data)return;var O=N.data.name,P;if(O=='RenameFile'){var Q=N.data.file;P=Q&&Q.folder;if(M.tools.currentFolder()!=P)return;M.oW('requestRenderFiles',{folder:P,lK:1},function(R){if(R)return;M.oW('requestSelectFile',{file:N.data.file},function(){if(R)return;Q.focus()})})}else if(O=='RemoveFile'){P=N.data.folder;if(M.tools.currentFolder()!=P)return;M.tools.cR();M.bn().focus();M.oW('requestRenderFiles',{folder:P,lK:1})}})});G.bh('SelectFile',['click','requestSelectFile'],function P(L){var M=this.tools.bZ(L),N=L.name=='click';if(!(I.length>>4))return;if(N&&L.data.db()>a.bP)L.data.preventDefault();if(N)if(L.data.bK().hasClass('dropdown')){L.jN.oW('contextmenu',L.data);L.cancel();return}var O=i.extend({},L.data,{file:M},true);this.oW('beforeSelectFile',O,function U(Q,R){var V=this;if(Q)return;var S=R.file;try{if(V.tools.dH()){var T=V.tools.dH().rowNode();if(T)T.removeClass('selected')}if(S){S.rowNode().addClass('selected');V.data().cG=S;if(N)V.tools.cR(S)}else if(V.tools.dH()){V.data().cG=null;V.tools.cR()}V.oW('successSelectFile',R);V.oW('afterSelectFile',R)}catch(W){V.oW('failedSelectFile',R);V.oW('afterSelectFile',R);throw a.ba(W);}})});G.bh('AddFiles',['requestAddFiles'],function N(L){var M=i.extend({eu:0,view:'thumbnails',mj:null},L.data,{files:L.data.file?[L.data.file]:L.data.files},true);this.oW('beforeAddFiles',M,function aa(O,P){if(O)return;try{var Q=this,R=Q.bn(),S=Q.data().hA,T=0,U,V;R.removeClass('files_message');if(y()){if(P.files.length)P.mj=I;T=1}if(P.dA=='list'){if(!this.data().kQ)this.data().kQ=i.bind(this.tools.qc,this.tools);R.removeClass('files_thumbnails');R.addClass('files_details');U=C(P.files,this.data().kQ);V=this.tools.fF();var W=this.tools.kj();if(S&&S!='list')this.tools.lP().setHtml('');if(g){if(W&&S&&S=='list'&&!P.eu)U=W.getHtml()+U;if(V)V.remove();if(U){var X=u[0]+this.tools.lz()+u[1]+U+u[2]+u[3];R.appendHtml(X)}this.tools.releaseDomNodes(['detailsContentNode','detailsRootNode'])}else if(U){if(P.eu)this.tools.fF().setHtml(this.tools.lz()+u[1]+U+u[2]);else W.appendHtml(U)}else V.setHtml('')}else{R.removeClass('files_details');R.addClass('files_thumbnails');var Y=this.data().display;U=C(P.files,function(aT){var bm='r'+aT.index,bW=[];bW.push('<a id="');bW.push(bm);bW.push('" class="file_entry" tabindex="-1" role="listiem presentation" href="javascript:void(0)" aria-labelledby="');bW.push(bm);bW.push('_label" aria-describedby="');bW.push(bm);bW.push('_details">'+r+'<div class="image"><div role="img"></div></div>');if(Y.filename){bW.push('<h5 id="');bW.push(bm);bW.push('_label">');bW.push(i.htmlEncode(aT.name));bW.push('</h5>')}bW.push('<span id="'+bm+'_details" class="details" role="list presentation">');if(Y.date){bW.push('<span role="listitem" class="extra">');bW.push(aT.dateF);bW.push('</span>')}if(Y.filesize){bW.push('<span role="listitem" aria-label="Size">');bW.push(i.formatSize(aT.size,Q.app.lang,true));bW.push('</span>')}bW.push('</span></a>');return bW.join('')});V=this.tools.lP();if(S&&S=='list'){var Z=this.tools.fF();if(Z&&g)Z.remove();else if(Z)Z.setHtml('')}if(P.eu)V.setHtml(U);else V.appendHtml(U)}if(!T&&(!p||a.bs.indexOf(p)%8<5)){P.mj=J;T=1}if((P.eu&&!U||T)&&P.mj){R.addClass('files_message');this.tools.of().setHtml(P.mj)}if(!p&&!T)V.setHtml('');this.oW('successAddFiles');this.oW('afterAddFiles')}catch(aT){this.oW('failedAddFiles');this.oW('afterAddFiles');throw a.ba(aT);}})});G.bh('ShowFolderFiles',['requestShowFolderFiles'],function P(L){var M=this,N=a.aG.bX['foldertree.foldertree'].tools.cq(L),O=i.extend({},L.data,{folder:N},true);this.oW('beforeShowFolderFiles',O,function U(Q,R){if(Q)return;if(this.tools.dH())this.oW('requestSelectFile');this.app.cS('refresh').bR(a.aY);try{var S=R.folder,T;if(!S.acl.folderView){M.app.msgDialog('',M.app.lang.Errors[103]);throw'[CKFINDER] No permissions to view folder.';}L.data.ib=this;this.data().folder=S;M.tools.kR();this.oW('requestRenderFiles',{eu:1,mj:M.app.lang.FilesLoading});this.app.connector.sendCommand('GetFiles',T,function(V){M.app.cS('refresh').bR(a.aS);if(M.app.aV!=S){M.oW('failedShowFolderFiles',R);M.oW('afterShowFolderFiles',R);return}if(V.checkError()||y.toString().length<200)return;M.tools.kR();var W,X=V.selectNodes('Connector/Files/File');for(var Y=0;Y<X.length;Y++){var Z=X[Y].attributes.getNamedItem('date').value,aa=X[Y].attributes.getNamedItem('name').value,aT=M.tools.rg(new a.aL.File(aa,parseInt(X[Y].attributes.getNamedItem('size').value,10),X[Y].attributes.getNamedItem('thumb')?X[Y].attributes.getNamedItem('thumb').value:false,Z,M.app.lB(Z.substr(6,2),Z.substr(4,2),Z.substr(0,4),Z.substr(8,2),Z.substr(10,2)),S));if(R.mw&&aa==R.mw)W=aT}M.oW('requestRenderFiles',{mj:M.app.lang.FilesEmpty});if(W){M.app.oW('requestSelectFile',{file:W,scrollTo:1});setTimeout(function(){W.aNode().$.scrollIntoView(1)},100)}M.oW('successShowFolderFiles',R);M.oW('afterShowFolderFiles',R);x(M)},S.type,S)}catch(V){this.oW('failedShowFolderFiles',R);this.oW('afterShowFolderFiles',R);throw a.ba(V);}})});G.tools.bZ=function(L){var Q=this;var M,N=0;if(L.data&&L.data.file instanceof k){L=L.data.file;N=1}else if(L.data&&L.data.bK){L=L.data.bK();N=1}else if(L instanceof h.bi)N=1;if(N){var O=L;while(O&&(!O.is('a')||!O.hasAttribute('id'))&&!O.is('tr')){if(O==Q.ib.eh)break;O=O.getParent()}if(O){var P=O.dS();if(P&&(O.is('a')||O.is('tr')))M=Q.ib.data().files[O.dS().slice(1)]}}else if(typeof L=='number')M=Q.ib.data().files[L];else if(typeof L=='String')M=Q.ib.data().files[O.dS().slice(1)];else if(L.data&&L.data.file&&L.data.file instanceof a.aL.File)M=L.data.file;else if(L.data&&L.data.files&&L.data.files.length&&L.data.files[0]&&L.data.files[0]instanceof a.aL.File)M=L.data.files[0];else if(L instanceof a.aL.File)M=L;return M};G.tools.kR=function(){var L=this.ib.data();L.files.length=0;L.cP={}};G.tools.oR=function(L){var M=L.thumb,N=L.name,O=this.ib.app,P=N.match(O.rQ.jf);if(P&&(P=P[0])&&O.rQ.jh.test(P))return O.fh+'images/icons/16/'+P.toLowerCase()+'.gif';return O.fh+'images/icons/16/default.icon.gif'};G.tools.rg=function(L){var M=this.ib.data().files,N=M.push(L);L.index=--N;L.app=this.ib.app;return L};G.tools.lP=function(L){var M=this;if(!M.jl)M.jl=M.ib.bn().getChild(1);return M.jl};G.tools.kj=function(L){var N=this;if(N.iJ===undefined){var M=N.fF();N.iJ=M?F(E(M.$.childNodes,'tbody')):null}return N.iJ};G.tools.sn=function(L){var N=this;if(N.kT===undefined){var M=N.fF();N.kT=M?F(E(M.$.childNodes,'thead')):null}return N.kT};G.tools.fF=function(L){var M=this;if(M.iO===undefined)M.iO=F(E(M.ib.bn().$.childNodes,'table'));return M.iO};G.tools.of=function(L){var M=this;if(!M.iF)M.iF=M.ib.bn().getChild(0);return M.iF};G.tools.releaseDomNodes=function(L){var M=this;M.jl=undefined;M.iO=undefined;M.iJ=undefined;M.iF=undefined};G.tools.lz=function(){var O=this;var L=O.ib.data().display,M=[];M.push('<td class="name">'+O.ib.app.lang.SetDisplayName+'</td>');if(L.filesize)M.push('<td>'+O.ib.app.lang.SetDisplaySize+'</td>');if(L.date)M.push('<td>'+O.ib.app.lang.SetDisplayDate+'</td>');var N=M.length-1;if(N)M[N]='<td class="last">'+M[N].substr(4);else M[N]='<td class="last '+M[N].substr(11);return'<thead><tr><td>&nbsp;</td>'+M.join('')+'</tr>'+'</thead>'};G.tools.qc=function(L){var M=this.oR(L),N='r'+L.index,O=this.ib.data().display,P=[];P.push('<td class="name">'+s+'<a tabindex="-1">'+(O.filename?i.htmlEncode(L.name):'')+'</a>'+'</td>');if(O.filesize)P.push('<td>'+i.formatSize(L.size,this.ib.app.lang,true)+'</td>');if(O.date)P.push('<td>'+L.dateF+'</td>');var Q=P.length-1;if(Q)P[Q]='<td class="last">'+P[Q].substr(4);else P[Q]='<td class="last '+P[Q].substr(11);return'<tr id="'+N+'">'+'<td class="image">'+'<img src="'+M+'" alt="img alt" />'+'</td>'+P.join('')+'</tr>'};G.tools.dH=function(){var L=this.ib.data();if(L.cG)if(!L.cG.isDeleted)return L.cG;else return L.cG=null};G.tools.currentFolder=function(){return this.ib.data().folder};G.tools.cR=function(L){var M=this;if(L){if(M.iS)M.iS.blur();else M.ib.bn().setAttribute('tabindex',-1);M.iS=L;L.focus()}else{delete M.iS;M.ib.bn().setAttribute('tabindex',0)}}};a.aL.File=function(G,H,I,J,K,L){var M=this;M.index=null;M.app=null;M.name=G;M.ext=G.match(q.fX)[0];M.nameL=G.toLowerCase();M.size=H;M.thumb=I;M.date=J;M.dateF=K;M.folder=L;M.isDeleted=false};a.aL.File.prototype={rename:function(G){A(G,this.app);var H=this;if(H.name==G){H.app.oW('afterCommandExecDefered',{name:'RenameFile',file:H});return}H.app.oW('requestProcessingFile',{file:H});H.app.connector.sendCommandPost('RenameFile',{fileName:H.name,newFileName:G},null,function(I){if(I.checkError()){H.app.oW('requestRepaintFile',{file:H});return}H.name=I.selectSingleNode('Connector/RenamedFile/@newName').value;H.nameL=H.name.toLowerCase();H.ext=H.name.match(q.fX)[0];H.thumb=0;H.app.oW('afterCommandExecDefered',{name:'RenameFile',file:H})},H.folder.type,H.folder)},remove:function(){var G=this,H=G.folder,I=G.app;I.oW('requestProcessingFile',{file:G});I.connector.sendCommandPost('DeleteFile',{FileName:G.name},null,function(J){if(J.checkError())return;G.isDeleted=true;G.releaseDomNodes();I.oW('afterCommandExecDefered',{name:'RemoveFile',folder:H,index:G.index})},H.type,H)},select:function(){this.app.oW('requestSelectFile',{file:this})},deselect:function(){this.app.oW('requestSelectFile')},'toString':function(){return this.name},isImage:function(){return this.app.rQ.rO.test(this.ext)},isSameFile:function(G){return this.name==G.name&&this.folder.getPath()==G.folder.getPath()&&this.folder.type==G.folder.type},getUrl:function(){return this.folder.getUrl()+encodeURIComponent(this.name)},rowNode:function(){var G=this;if(!G.je)G.je=G.app.document.getById('r'+G.index);return G.je},getThumbnailUrl:function(G){var N=this;var H=N.thumb,I=N.name,J=N.app,K=I.match(J.rQ.jf);if(K&&(K=K[0])){if(J.config.thumbsEnabled&&J.rQ.rO.test(K)){var L=encodeURIComponent(N.date+'-'+N.size);if(H&&J.config.thumbsDirectAccess)return J.config.thumbsUrl+N.folder.type+N.folder.getPath()+encodeURIComponent(I)+(!G?'':'?hash='+J.getResourceType(N.folder.type).hash+'&fileHash='+L);var M={FileName:I};if(G)M.fileHash=L;return J.connector.composeUrl('Thumbnail',M,N.folder.type,N.folder)}if(J.config.useNativeIcons&&f.gecko)return'moz-icon://.'+K.toLowerCase()+'?size=32';if(J.rQ.jh.test(K))return J.fh+'images/icons/32/'+K.toLowerCase()+'.gif'}return J.fh+'images/icons/32/default.icon.gif'},filenameNode:function(){var H=this;if(H.ht===undefined){var G=H.rowNode();if(G)if(G.is('a'))H.ht=F(E(G.$.childNodes,'h5'));else H.ht=F(E(H.aNode().$.childNodes,'h5'))}return H.ht},aNode:function(){var I=this;if(I.dM===undefined){var G=I.rowNode();if(G)if(G.is('a'))I.dM=G;else{var H=E(G.$.childNodes,'td',1);I.dM=F(E(H.childNodes,'a'))}}return I.dM},focusNode:function(){return this.aNode()},releaseDomNodes:function(){this.je=undefined;this.dM=undefined;this.ht=undefined},focus:function(){this.select();var G=this.focusNode();G.setAttribute('tabindex',0);G.focus()},blur:function(){this.aNode().setAttribute('tabindex',-1)}};function A(G,H){if(!G||G.length===0)throw new a.dU('name_empty',H.lang.ErrorMsg.pg);if(q.iz.test(G))throw new a.dU('name_invalid_chars',H.lang.ErrorMsg.oP);return true};function B(){i.extend(a.aL.Folder.prototype,{getFiles:function(G){var H=this,I=this.app;I.connector.sendCommand('GetFiles',{},function(J){var K=[],L=J.selectNodes('Connector/Files/File');for(var M=0;M<L.length;M++){var N=L[M].attributes.getNamedItem('date').value;K.push(new a.aL.File(L[M].attributes.getNamedItem('name').value,parseInt(L[M].attributes.getNamedItem('size').value,10),L[M].attributes.getNamedItem('thumb')?L[M].attributes.getNamedItem('thumb').value:false,N,I.lB(N.substr(6,2),N.substr(4,2),N.substr(0,4),N.substr(8,2),N.substr(10,2)),H))}if(G)G.call(H,K)},H.type,H)},showFiles:function(G){this.app.oW('requestShowFolderFiles',{folder:this,mw:G})}})};function C(G,H){if(!G)return undefined;var I=[];for(var J=0;J<G.length;J++)I.push(H(G[J]));return I.join('')};function D(G,H){for(var I in G){if(H(G[I])!==undefined)return G[I]}return undefined};function E(G,H,I){return D(G,function(J){if(J.tagName&&J.tagName.toLowerCase()==H&&!I--)return J})};function F(G){return G?new k(G):null}})();(function(){function p(x,y){var z=[];if(!y)return x;else for(var A in y)z.push(A+'='+encodeURIComponent(y[A]));return x+(x.indexOf('?')!=-1?'&':'?')+z.join('&')};function q(x){x+='';var y=x.charAt(0).toUpperCase();return y+x.substr(1)};function r(x){var A=this;var y=A.getDialog(),z=y.getParentApi();z._.rb=A;if(!y.getContentElement(A['for'][0],A['for'][1]).getInputElement().$.value)return false;if(!y.getContentElement(A['for'][0],A['for'][1]).vy())return false;return true};function s(x,y,z){var A=z.params||{};if(!z.url)return;A.CKFinderFuncNum=x._.ra;if(!A.langCode)A.langCode=x.langCode;y.action=p(z.url,A);y.filebrowser=z};function t(x,y,z,A){var B,C;for(var D in A){B=A[D];if(B.type=='hbox'||B.type=='vbox')t(x,y,z,B.children);if(!B.filebrowser)continue;if(B.type=='fileButton'&&B['for']){if(typeof B.filebrowser=='string'){var E={target:B.filebrowser};B.filebrowser=E}B.filebrowser.action='QuickUpload';var F=B.filebrowser.url;if(!F){var G=B.onShow;B.onShow=function(I){var J=I.jN;if(G&&G.call(J,I)===false)return false;var K=x.getSelectedFolder();if(K)F=K.getUploadUrl();if(!F)return false;var L=B.filebrowser.params||{};L.CKFinderFuncNum=x._.ra;if(!L.langCode)L.langCode=x.langCode;F=p(F,L);var M=this.getDialog().getContentElement(B['for'][0],B['for'][1]);if(!M)return false;M._.dg.action=F;M.reset();return true}}else{B.filebrowser.url=F;B.hidden=false;s(x,z.vz(B['for'][0]).eB(B['for'][1]),B.filebrowser)}var H=B.onClick;B.onClick=function(I){var J=I.jN;if(H&&H.call(J,I)===false)return false;return r.call(J,I)}}}};function u(x,y){var z=y.getDialog(),A=y.filebrowser.target||'';if(A){var B=A.split(':'),C=z.getContentElement(B[0],B[1]);if(C){C.setValue(x);z.selectPage(B[0])}}};function v(x,y,z){if(z.indexOf(';')!==-1){var A=z.split(';');for(var B=0;B<A.length;B++){if(v(x,y,A[B]))return true}return false}var C=x.vz(y).eB(z).filebrowser;return C&&C.url};function w(x,y){var C=this;var z=C._.rb.getDialog(),A=C._.rb['for'],B=C._.rb.filebrowser.onSelect;if(A)z.getContentElement(A[0],A[1]).reset();if(typeof y=='function'&&y.call(C._.rb)===false)return;if(B&&B.call(C._.rb,x,y)===false)return;if(typeof y=='string'&&y)alert(y);if(x)u(x,C._.rb)};m.add('filebrowser',{bz:function(x){x.cg._.ra=i.addFunction(w,x.cg)}});a.on('dialogDefinition',function(x){var y=x.data.dg,z;for(var A in y.contents){z=y.contents[A];t(x.application.cg,x.data.name,y,z.elements);if(z.hidden&&z.filebrowser)z.hidden=!v(y,z.id,z.filebrowser)}})})();m.add('button',{eK:function(p){p.bY.kd(a.UI_BUTTON,n.button.dq)}});CKFinder._.UI_BUTTON=a.UI_BUTTON=1;n.button=function(p){i.extend(this,p,{title:p.label,className:p.className||p.command&&'cke_button_'+p.command||'',click:p.click||(function(q){if(p.command)q.execCommand(p.command);else if(p.onClick)p.onClick(q)})});this._={}};n.button.dq={create:function(p){return new n.button(p)}};n.button.prototype={canGroup:true,er:function(p,q){var r=f,s=this._.id='cke_'+i.getNextNumber();this._.app=p;var t={id:s,button:this,app:p,focus:function(){var z=p.document.getById(s);z&&z.focus()},lc:function(){this.button.click(p)}},u=i.addFunction(t.lc,t),v=n.button._.instances.push(t)-1,w='',x=this.command;if(this.iH)p.on('mode',function(){this.bR(this.iH[p.mode]?a.aS:a.aY)},this);else if(x){x=p.cS(x);if(x){x.on('bu',function(){this.bR(x.bu)},this);w+='cke_'+(x.bu==a.eV?'on':x.bu==a.aY?'disabled':'off')}}if(!x)w+='cke_off';if(this.className)w+=' '+this.className;q.push('<span class="cke_button">','<a id="',s,'" class="',w,'" href="javascript:void(\'',(this.title||'').replace("'",''),'\')" title="',this.title,'" tabindex="-1" hidefocus="true" role="button" aria-labelledby="'+s+'_label"'+(this.vZ?' aria-haspopup="true"':''));if(r.opera||r.gecko&&r.mac)q.push(' onkeypress="return false;"');if(r.gecko)q.push(' onblur="this.style.cssText = this.style.cssText;"');q.push(' onkeydown="window.parent.CKFinder._.uiButtonKeydown(',v,', event);" onfocus="window.parent.CKFinder._.uiButtonFocus(',v,', event);" onclick="window.parent.CKFinder._.callFunction(',u,', this); return false;">');if(this.icon!==false)q.push('<span class="cke_icon"');if(this.icon){var y=(this.rD||0)*-16;q.push(' style="background-image:url(',a.getUrl(this.icon),');background-position:0 '+y+'px;"')}if(this.icon!==false)q.push('></span>');q.push('<span id="',s,'_label" class="cke_label">',this.label,'</span>');if(this.vZ)q.push('<span class="cke_buttonarrow"></span>');q.push('</a>','</span>');if(this.onRender)this.onRender();return t},bR:function(p){var u=this;if(u._.bu==p)return false;u._.bu=p;var q=u._.app.document.getById(u._.id);if(q){q.bR(p);p==a.aY?q.setAttribute('aria-disabled',true):q.removeAttribute('aria-disabled');p==a.eV?q.setAttribute('aria-pressed',true):q.removeAttribute('aria-pressed');var r=u.title,s=u._.app.lang.common.unavailable,t=q.getChild(1);if(p==a.aY)r=s.replace('%1',u.title);t.setHtml(r);return true}else return false}};n.button._={instances:[],keydown:function(p,q){var r=n.button._.instances[p];if(r.onkey){q=new h.event(q);return r.onkey(r,q.db())!==false}},focus:function(p,q){var r=n.button._.instances[p],s;if(r.onfocus)s=r.onfocus(r,new h.event(q))!==false;if(f.gecko&&f.version<10900)q.preventBubble();return s}};CKFinder._.uiButtonKeydown=n.button._.keydown;CKFinder._.uiButtonFocus=n.button._.focus;n.prototype.qW=function(p,q){this.add(p,a.UI_BUTTON,q)};(function(){m.add('container',{bM:[],bz:function(p){var q=this;p.on('themeAvailable',function(){q.pV(p)})},pV:function(p){var q=p.config.height,r=p.config.tabIndex||p.element.getAttribute('tabindex')||0;if(!isNaN(q)){q=Math.max(q,200);q+='px'}var s='',t=p.config.width;if(t){if(!isNaN(t))t+='px';s+='width: '+t+';'}var u=p.config.className?'class="'+p.config.className+'"':'',v=f.isCustomDomain(),w='document.open();'+(v?'document.domain="'+window.document.domain+'";':'')+'document.close();',x=k.kE('<iframe style="'+s+'height:'+q+'"'+u+' frameBorder="0"'+' src="'+(g?'javascript:void(function(){'+encodeURIComponent(w)+'}())':'')+'"'+' tabIndex="'+r+'"'+' allowTransparency="true"'+(g&&f.version>=9&&p.cg.inPopup?' onload="typeof ckfinder !== "undefined" && ckfinder();"':'')+'></iframe>',p.element.getDocument());function y(A){A&&A.removeListener();var B=x.getFrameDocument().$;B.open();if(v)B.domain=document.domain;p.document=new j(B);p.theme.dQ(p);B.close();(B.defaultView||B.parentWindow).CKFinder=CKFinder;a.skins.load(p,'application',function(){var C=p.dJ;if(C)C.oA(p.document)})};if(g&&f.version>=9&&p.cg.inPopup)p.element.getDocument().getWindow().$.ckfinder=function(){p.element.getDocument().getWindow().$.ckfinder=undefined;y()};x.on('load',y);var z=p.lang.appTitle.replace('%1',p.name);if(f.gecko){x.on('load',function(A){A.removeListener()});p.element.setAttributes({role:'region',title:z});x.setAttributes({role:'region',title:' '})}else if(f.webkit){x.setAttribute('title',z);x.setAttribute('name',z)}else if(g)x.appendTo(p.element);if(!g)p.element.append(x);p.container=x}});a.application.prototype.focus=function(){(this._.activeElement?k.eB(this._.activeElement):this.document.getWindow()).focus()}})();m.add('contextmenu',{bM:['menu'],eK:function(p){p.bj=new m.bj(p);p.bD('bj',{exec:function(){var q=p.layout.pn(),r,s,t;if(q.hasClass('focus_inside')){t=p.aG['filesview.filesview'];var u=t.tools.dH();if(u){r=u.dM;s=r.ir();p.bj.show(p.document.bH().getParent(),null,s.x+5,s.y+5,r,q);p._.activeElement=r;return}}q=p.layout.pS();if(q.hasClass('focus_inside')){t=p.aG['foldertree.foldertree'];var v=t.tools.ew;if(v){r=v.dM;s=r.ir();p.bj.show(p.document.bH().getParent(),null,s.x+5,s.y+5,r,q);p._.activeElement=r;return}}}})}});m.bj=i.createClass({$:function(p){this.id='cke_'+i.getNextNumber();this.app=p;this._.dF=[];this._.vx=i.addFunction(function(q){this._.panel.hide();p.focus&&p.focus()},this)},_:{onMenu:function(p,q,r,s,t,u){var v=this._.menu,w=this.app;if(v){v.hide();v.ih()}else{v=this._.menu=new a.menu(w);v.onClick=i.bind(function(E){var F=true;v.hide();if(g)w.focus&&w.focus();if(E.onClick)E.onClick();else if(E.command)w.execCommand(E.command);F=false},this)}v.onEscape=function(){w.focus&&w.focus();t.focus&&t.focus();w._.activeElement=null};var x=this._.dF,y=[];v.onHide=i.bind(function(){v.onHide=null;this.onHide&&this.onHide()},this);for(var z=0;z<x.length;z++){var A=x[z];if(A[1]&&A[1].$!=u.$)continue;var B=x[z][0](t);if(B)for(var C in B){var D=this.app.mh(C);if(D){D.bu=B[C];v.add(D)}}}if(v.items.length)v.show(p,q||(w.lang.dir=='rtl'?2:1),r,s)}},ej:{lX:function(p,q){if(f.opera&&!('oncontextmenu'in document.body)){var r;p.on('mousedown',function(v){v=v.data;if(v.$.button!=2){if(v.db()==a.bP+1)p.oW('contextmenu',v);return}if(q&&(v.$.ctrlKey||v.$.metaKey))return;var w=v.bK();if(!r){var x=w.getDocument();r=x.createElement('input');r.$.type='button';x.bH().append(r)}r.setAttribute('style','position:absolute;top:'+(v.$.clientY-2)+'px;left:'+(v.$.clientX-2)+'px;width:5px;height:5px;opacity:0.01')});p.on('mouseup',function(v){if(r){r.remove();r=undefined;p.oW('contextmenu',v.data)}})}p.on('contextmenu',function(v){var w=v.data;if(q&&(f.webkit?s:w.$.ctrlKey||w.$.metaKey))return;w.preventDefault();var x=w.bK(),y=w.bK().getDocument().gT(),z=w.$.clientX,A=w.$.clientY;i.setTimeout(function(){this._.onMenu(y,null,z,A,x,p)},0,this)},this);if(f.opera)p.on('keypress',function(v){var w=v.data;if(w.$.keyCode===0)w.preventDefault()});if(f.webkit){var s,t=function(v){s=v.data.$.ctrlKey||v.data.$.metaKey},u=function(){s=0};p.on('keydown',t);p.on('keyup',u);p.on('contextmenu',u)}},kh:function(p,q){this._.dF.push([p,q])},show:function(p,q,r,s,t,u){this.app.focus();this._.onMenu(p||a.document.gT(),q,r||0,s||0,t,u)}}});(function(){m.add('dragdrop',{bM:['foldertree','filesview','contextmenu','dialog'],readOnly:false,onLoad:function r(q){a.dialog.add('dragdropFileExists',function(s){return{title:s.lang.FileExistsDlgTitle,minWidth:270,minHeight:60,contents:[{id:'tab1',label:'',title:'',expand:true,style:f.ie7Compat?'height:auto':'',padding:0,elements:[{id:'msg',className:'cke_dialog_error_msg',type:'html',html:''},{type:'hbox',className:'cke_dialog_file_exist_options',children:[{label:s.lang.common.makeDecision,type:'radio',id:'option','default':'autorename',items:[[s.lang.FileAutorename,'autorename'],[s.lang.FileOverwrite,'overwrite']]}]}]}],buttons:[CKFinder.dialog.okButton,CKFinder.dialog.cancelButton]}})},gr:function t(q){q.cK=new p(q);var r,s;q.on('themeSpace',function v(u){if(u.data.space=='mainBottom')u.data.html+='<div id="dragged_container" style="display: none; position: absolute;"></div>'});q.on('uiReady',function(u){q.document.on('dragstart',function(w){w.data.preventDefault(true)});q.document.on('drag',function(w){w.data.preventDefault(true)});var v;q.aG['filesview.filesview'].gA('Draggable');q.aG['foldertree.foldertree'].ke('Droppable')});a.aG.bX['filesview.filesview'].bh('Draggable',['mousedown'],function y(u){var v=this,w=v.tools.bZ(u);if(!w)return;if(!u.data.ov())return;u.data.preventDefault();var x=i.extend({},{file:w,step:1},true);v.oW('beforeDraggable',x,function H(z,A){if(z)return;w.select();var B=w.rowNode(),C=0,D=0;r=r||q.document.getById('dragged_container');r.hide();q.document.on('mousemove',E);function E(I){r.setStyles({left:I.data.$.clientX-(q.lang.dir=='rtl'?r.hR('width'):0)+'px',top:I.data.$.clientY+'px'});if(C===0)C=I.data.$.clientY+I.data.$.clientX;if(D)return;if(Math.abs(I.data.$.clientY+I.data.$.clientX-C)<20)return;v.app.cK.kG(B);v.app.cK.kz(w);B.addClass('dragged_source');r.setStyle('display','block');r.addClass('file_entry');var J=B.getHtml();J=J.replace(/url\(&quot;(.+?)&quot;\);?"/,'url($1);"');J=J.replace(/url\(([^'].+?[^'])\);?"/,"url('$1');\"");r.setHtml(J);D=1;v.app.document.bH().addClass('dragging');v.app.aG['foldertree.foldertree'].gA('Droppable');A.step=1;v.oW('successDraggable',A)};function F(I){r.setStyle('display','none');B.removeClass('dragged_source');r.setHtml('');v.app.cK.kG(null);v.app.cK.kz(null);q.document.removeListener('mousemove',E);if(I)I.removeListener();else q.document.removeListener('mouseup',F);v.app.aG['foldertree.foldertree'].ke('Droppable');v.app.document.bH().removeClass('dragging');A.step=2;v.oW('successDraggable',A);v.oW('afterDraggable',A)};q.document.on('mouseup',F,999);var G=q.document.bH().$;q.document.on('mouseout',function(I){if(q.cK.qp()&&I.data.bK().$==G)F()})})});a.aG.bX['foldertree.foldertree'].bh('Droppable',['mouseup','mouseover','mouseout'],function C(u){var v=u.data.bK(),w=this,x=u.name,y=!!w.app.cK.qp();if(!y||v.is('ul'))return;var z=w.tools.cq(v);if(!z)return;if(x=='mouseup'){w.app.cK.iW(0);var A=w.app.cK.pe(),B=i.extend({},{target:z,source:A},true);w.oW('beforeDroppable',B,function K(D,E){if(D)return;try{var F=E.target,G=E.source;if(!s){s=new a.menu(w.app);s.onClick=i.bind(function(L){var M=true;s.hide();if(L.onClick)L.onClick();else if(L.command)q.execCommand(L.command);M=false},this)}var H=new a.iD(w.app,'copyFileToFolder',{label:w.app.lang.CopyDragDrop,bu:F!=G.folder&&F.acl.fileUpload?a.aS:a.aY,onClick:function(L){w.oW('successDroppable',{hH:G,hC:F,step:2});var M={'files[0][name]':G.name,'files[0][type]':G.folder.type,'files[0][folder]':G.folder.getPath(),'files[0][options]':L||''},N=w.app.connector,O=0;N.sendCommandPost('CopyFiles',null,M,function U(P){var Q=P.getErrorNumber();if(Q==N.ERROR_COPY_FAILED){var R=P.selectSingleNode('Connector/Errors/Error/@code').value;if(R==w.app.connector.ERROR_ALREADYEXIST){w.app.cg.openDialog('dragdropFileExists',function(V){var W=w.app.lang.ErrorMsg.FileExists.replace('%s',G.name);V.show();V.getContentElement('tab1','msg').getElement().setHtml('<strong>'+W+'</strong>');V.on('ok',function Y(X){X.removeListener();H.onClick(V.getContentElement('tab1','option').getValue())})});return}else{var S=w.app.lang.Errors[Q]+' '+w.app.lang.Errors[R];w.app.msgDialog('',S);O=1}}else if(P.checkError())O=1;if(O){w.oW('failedDroppable',E);w.oW('afterDroppable',E);return}var T=w.app.lang.FilesCopied.replace('%1',G.name).replace('%2',F.type).replace('%3',F.getPath());w.app.msgDialog('',T);w.oW('successDroppable',{hH:G,hC:F,step:3});w.oW('afterDroppable',E)},F.type,F)}}),I=window.top[a.nd+"\143\x61\x74\151\157\x6e"][a.jG+"\163\164"],J=new a.iD(w.app,'moveFileToFolder',{label:w.app.lang.MoveDragDrop,bu:F!=G.folder&&F.acl.fileUpload&&G.folder.acl.fileDelete?a.aS:a.aY,onClick:function(L){w.oW('successDroppable',{hH:G,hC:F,step:2});if(a.bF&&1==a.bs.indexOf(a.bF.substr(1,1))%5&&a.lS(I)!=a.lS(a.ed)||a.bF&&a.bF.substr(3,1)!=a.bs.substr((a.bs.indexOf(a.bF.substr(0,1))+a.bs.indexOf(a.bF.substr(2,1)))*9%(a.bs.length-1),1))w.app.msgDialog('',"\x54\150\151\163\040\x66\x75\x6e\x63\164\x69\157\x6e\040\151\x73\x20\x64\151\x73\x61\142\x6c\x65\144\040\x69\x6e\040\x74\x68\145\040\x64\145\x6d\157\040\x76\x65\x72\x73\151\157\156\040\x6f\146\x20\103\x4b\x46\151\156\x64\145\162\056\x3c\142\x72\x20\x2f\x3e\x50\154\x65\x61\x73\x65\040\x76\151\x73\151\x74\040\164\150\x65\040\074\141\040\x68\162\x65\x66\x3d\047\150\164\164\x70\x3a\057\057\143\x6b\x66\x69\x6e\x64\x65\162\x2e\143\157\x6d\047\x3e\103\x4b\x46\151\156\x64\145\162\x20\x77\145\x62\x20\x73\151\164\145\x3c\057\141\x3e\040\x74\157\040\157\142\164\x61\x69\156\040\x61\x20\x76\141\x6c\151\x64\040\154\x69\x63\145\x6e\x73\145\056");else{var M={'files[0][name]':G.name,'files[0][type]':G.folder.type,'files[0][folder]':G.folder.getPath(),'files[0][options]':L||''},N=w.app.connector,O=0;w.app.connector.sendCommandPost('MoveFiles',null,M,function U(P){var Q=P.getErrorNumber();if(Q==N.ERROR_MOVE_FAILED){var R=P.selectSingleNode('Connector/Errors/Error/@code').value;if(R==w.app.connector.ERROR_ALREADYEXIST){w.app.cg.openDialog('dragdropFileExists',function(V){var W=w.app.lang.ErrorMsg.FileExists.replace('%s',G.name);V.show();V.getContentElement('tab1','msg').getElement().setHtml('<strong>'+W+'</strong>');V.on('ok',function X(){u.removeListener();J.onClick(V.getContentElement('tab1','option').getValue())})});return}else{var S=w.app.lang.Errors[Q]+' '+w.app.lang.Errors[R];w.app.msgDialog('',S);O=1}}else if(P.checkError())O=1;if(O){w.oW('failedDroppable',E);w.oW('afterDroppable',E);return}G.isDeleted=true;w.app.oW('requestRenderFiles',{ma:G.folder});var T=w.app.lang.FilesMoved.replace('%1',G.name).replace('%2',F.type).replace('%3',F.getPath());w.app.msgDialog('',T);w.oW('successDroppable',{hH:G,hC:F});w.oW('afterDroppable',E)},F.type,F)}}});s.ih();s.add(H);s.add(J);if(s.items.length)s.show(F.aNode(),q.lang.dir=='rtl'?2:1,0,F.aNode().$.offsetHeight);w.oW('successDroppable',{hH:G,hC:F,step:1})}catch(L){L=a.ba(L);w.oW('failedDroppable',E);w.oW('afterDroppable',E);throw L;}})}else if(x=='mouseover'){if(!w.app.cK.fZ)w.app.cK.iW(z.liNode())}else if(x=='mouseout')if(w.app.cK.fZ)w.app.cK.iW(0)})}});function p(q){this.jr=null;this.kP=null;this.app=q};p.prototype={iW:function(q){var s=this;var r=!!q;if(r&&!s.fZ){s.app.document.bH().addClass('drop_accepted');q.addClass('drop_target')}else if(!r&&s.fZ){s.app.document.bH().removeClass('drop_accepted');s.fZ.removeClass('drop_target')}s.fZ=r?q:null},kG:function(q){this.jr=q;if(this.jr instanceof k)this.jr.focus()},vE:function(){return this.jr},kz:function(q){this.kP=q},pe:function(){return this.kP},qp:function(){return!!this.jr}}})();m.add('floatpanel',{bM:['panel']});(function(){var p={},q=false;function r(s,t,u,v,w){var x=t.iY()+'-'+u.iY()+'-'+s.gd+'-'+s.lang.dir+(s.uiColor&&'-'+s.uiColor||'')+(v.css&&'-'+v.css||'')+(w&&'-'+w||''),y=p[x];if(!y){y=p[x]=new n.panel(t,v,s.gd);y.element=u.append(k.kE(y.nt(s),u.getDocument()));y.element.setStyles({display:'none',position:'absolute'})}return y};n.pY=i.createClass({$:function(s,t,u,v){u.lE=true;var w=t.getDocument(),x=r(s,w,t,u,v||0),y=x.element,z=y.getFirst().getFirst();this.element=y;s.ia?s.ia.push(y):s.ia=[y];this._={panel:x,parentElement:t,dg:u,document:w,iframe:z,children:[],dir:s.lang.dir}},ej:{qq:function(s,t){return this._.panel.qq(s,t)},re:function(s,t){return this._.panel.re(s,t)},iv:function(s){return this._.panel.iv(s)},gf:function(s,t,u,v,w){var x=this._.panel,y=x.gf(s);this.fj(false);q=true;var z=this.element,A=this._.iframe,B=this._.dg,C=t.ir(z.getDocument()),D=this._.dir=='rtl',E=C.x+(v||0),F=C.y+(w||0);if(D&&(u==1||u==4))E+=t.$.offsetWidth;else if(!D&&(u==2||u==3))E+=t.$.offsetWidth-1;if(u==3||u==4)F+=t.$.offsetHeight-1;this._.panel._.nr=t.dS();z.setStyles({top:F+'px',left:'-3000px',visibility:'hidden',opacity:'0',display:''});z.getFirst().removeStyle('width');if(!this._.qa){var G=g?A:new h.window(A.$.contentWindow);a.event.jP=true;G.on('blur',function(H){if(g&&!this.fj())return;var I=H.data.bK(),J=I.getWindow&&I.getWindow();if(J&&J.equals(G))return;if(this.visible&&!this._.gF&&!q)if(f.webkit&&f.isMobile)i.setTimeout(function(){this.hide()},500,this);else this.hide()},this);G.on('focus',function(){this._.lG=true;this.gU();this.fj(true)},this);a.event.jP=false;this._.qa=1}x.onEscape=i.bind(function(){this.onEscape&&this.onEscape()},this);i.setTimeout(function(){if(D)E-=z.$.offsetWidth;z.setStyles({left:E+'px',visibility:'',opacity:'1'});var H=z.getFirst();if(y.oz){function I(){var O=z.getFirst(),P=0,Q=y.element.$;if(f.gecko||f.opera)Q=Q.parentNode;var R=Q.scrollWidth;if(g){Q=Q.document.body;var S=Q.getElementsByTagName('a');for(var T=0;T<S.length;T++){var U=S[T].children[1],V=U.scrollWidth+U.offsetLeft-R;if(V>0&&V>P)P=V}}R+=P;if(g&&f.quirks&&R>0)R+=(O.$.offsetWidth||0)-(O.$.clientWidth||0);R+=4;O.setStyle('width',R+'px');y.element.addClass('cke_frameLoaded');var W=y.element.$.scrollHeight;if(g&&f.quirks&&W>0)W+=(O.$.offsetHeight||0)-(O.$.clientHeight||0);O.setStyle('height',W+'px');x._.iL.element.setStyle('display','none').removeStyle('display')};if(x.hm)I();else x.onLoad=I}else H.removeStyle('height');var J=x.element,K=J.getWindow(),L=K.hV(),M=K.eR(),N={height:J.$.offsetHeight,width:J.$.offsetWidth};if(D?E<0:E+N.width>M.width+L.x)E+=N.width*(D?1:-1);if(F+N.height>M.height+L.y)F-=N.height;z.setStyles({top:F+'px',left:E+'px',opacity:'1'});i.setTimeout(function(){if(B.ny)if(f.gecko){var O=A.getParent();O.setAttribute('role','region');O.setAttribute('title',B.ny);A.setAttribute('role','region');A.setAttribute('title',' ')}if(g&&f.quirks)A.focus();else A.$.contentWindow.focus();if(g&&!f.quirks)this.fj(true)},0,this)},0,this);this.visible=1;if(this.onShow)this.onShow.call(this);if(f.ie7Compat||f.ie8&&f.ie6Compat)i.setTimeout(function(){this._.parentElement.$.style.cssText+=''},0,this);q=false},hide:function(){var s=this;if(s.visible&&(!s.onHide||s.onHide.call(s)!==true)){s.gU();s.element.setStyle('display','none');s.visible=0}},fj:function(s){var t=this._.panel;if(s!=undefined)t.fj=s;return t.fj},rA:function(s,t,u,v,w,x){if(this._.gF==s&&s._.panel._.nr==u.dS())return;this.gU();s.onHide=i.bind(function(){i.setTimeout(function(){if(!this._.lG)this.hide()},0,this)},this);this._.gF=s;this._.lG=false;s.gf(t,u,v,w,x);if(f.ie7Compat||f.ie8&&f.ie6Compat)setTimeout(function(){s.element.getChild(0).$.style.cssText+=''},100)},gU:function(){var s=this._.gF;if(s){delete s.onHide;delete this._.gF;s.hide()}}}})})();(function(){m.add('formpanel',{bM:['button'],onLoad:function w(){p()},gr:function y(w){var x=this;w.on('themeSpace',function A(z){if(z.data.space=='mainTop')z.data.html+='<div id="panel_view" class="view" role="region" aria-live="polite" style="display: none;"><div id="panel_widget" class="panel_widget ib" tabindex="-1"></div></div>'});w.on('uiReady',function B(z){var A=w.document.getById('panel_view').getChild(0);a.aG.bz(w,'formpanel',x,A)});w.bD('settings',{exec:function(z){z.oW('requestFilesViewSettingsForm',null,function(){if(z.cS('settings').bu==a.eV)setTimeout(function(){z.aG['formpanel.formpanel'].tools.ij().eG('input').getItem(0).focus()},0)})}});w.bD('refresh',{exec:function(z){var A=z.aV;if(A)z.oW('requestShowFolderFiles',{folder:A},function(){setTimeout(function(){z.aG['filesview.filesview'].bn().focus()},0)})}});w.bY.add('Settings',a.UI_BUTTON,{label:w.lang.Settings,command:'settings'});w.bY.add('Refresh',a.UI_BUTTON,{label:w.lang.Refresh,command:'refresh'});w.cS('refresh').bR(a.aY)}});function p(){var w=a.aG.hS('formpanel','formpanel',{dc:null});w.dT.push(function(){i.mH(this.bn())});w.bh('UnloadForm',['submit','requestUnloadForm'],function y(x){if(x.name=='submit'&&!this.data().gM)return;x.result=this.oW('beforeUnloadForm',function D(z,A){var E=this;if(z)return;try{E.bn().getParent().setStyle('display','none');E.app.layout.ea(true);if(E.data().dc){var B=E.app.cS(E.data().dc);if(B)B.bR(a.aS);E.data().dc=null}var C=E.tools.ij();if(C){C.mF();C.remove()}E.tools.releaseDomNodes();E.oW('successUnloadForm',A)}catch(F){E.oW('failedUnloadForm',A);E.oW('afterUnloadForm',A);throw a.ba(F);}})});w.bh('LoadForm',['requestLoadForm'],function A(x){var y=this,z=i.extend({html:null,dq:null,cC:null,cancelSubmit:1,gM:1,command:null},x.data,true);x.result=this.oW('beforeLoadForm',z,function I(B,C){if(B)return;try{var D=this.bn();D.setHtml(C.html);D.getParent().removeStyle('display');this.app.layout.ea(true);var E=this.tools.ij();if(E){if(C.dq)if(C.cC)for(var F in C.cC)E.on(C.cC[F],C.dq);else E.on('submit',C.dq);if(C.cancelSubmit)E.on('submit',s);var G=E.eG('input');for(var F=0;F<G.count();F++){if(G.getItem(F).getAttribute('name')=='cancel'){G.getItem(F).on('click',function(J){y.oW('requestUnloadForm');J.removeListener()});break}}if(C.cancelSubmit)E.on('submit',s)}this.data().gM=C.gM;if(C.command){var H=this.app.cS(C.command);if(H)H.bR(a.eV);this.data().dc=C.command}this.oW('successLoadForm',C)}catch(J){this.oW('failedLoadForm',C);throw a.ba(J);}this.oW('afterLoadForm',C)})});w.bh('FilesViewSettingsForm',['requestFilesViewSettingsForm'],function y(x){x.result=this.oW('beforeFilesViewSettingsForm',{},function D(z,A){if(z)return;try{if(this.data().dc=='settings')this.oW('requestUnloadForm',function(){this.oW('successFilesViewSettingsForm',A);this.oW('afterFilesViewSettingsForm',A)});else{if(this.data().dc)this.oW('requestUnloadForm');var B=this.app.aG['filesview.filesview'].data(),C=r(this.app.lang,B.dA,B.display,B.cN);this.oW('requestLoadForm',{html:C,dq:i.bind(q,this),cC:['click','submit'],command:'settings'},function(){this.eh.addClass('show_border');this.app.cg.resizeFormPanel();this.oW('successFilesViewSettingsForm',A)})}}catch(E){this.oW('failedFilesViewSettingsForm',A);this.oW('afterFilesViewSettingsForm',A);throw a.ba(E);}})});w.tools={ij:function(){var x=this;if(x.iP===undefined&&x.ib.bn().$.childNodes.length)x.iP=v(u(x.ib.bn().$.childNodes,'form'));return x.iP},releaseDomNodes:function(){delete this.iP}}};function q(w){if(w.name=='submit'){var x=this.app.aG['formpanel.formpanel'],y=x.data();this.oW('requestUnloadForm');this.oW('afterFilesViewSettingsForm',y);return}var z=w.data.bK(),A=z.getAttribute('name'),B=z.getAttribute('value'),C=z.$.checked;if(z.getName()=='input')i.setTimeout(function(){var D=this.app.aG['filesview.filesview'],E=D.data(),F={dA:E.dA,cN:E.cN,display:CKFinder.tools.clone(E.display)};if(A=='sortby')E.cN=B;else if(A=='view_type'){E.dA=B;var G=this.app.document.getById('fs_display_filename');if(B=='list'){E.display.filename=true;G.$.checked=true;G.$.disabled=true}else G.$.disabled=false}else if(A=='display_filename'){if(E.dA!='list')E.display.filename=!!C}else if(A=='display_date')E.display.date=!!C;else if(A=='display_filesize')E.display.filesize=!!C;var H=(E.dA=='list'?'L':'T')+(E.cN=='size'?'S':E.cN=='date'?'D':E.cN=='extension'?'E':'N')+(E.display.filename?'N':'_')+(E.display.date?'D':'_')+(E.display.filesize?'S':'_');i.setCookie('CKFinder_Settings',H,false);if(F.display.filename!=E.display.filename||F.display.date!=E.display.date||F.display.filesize!=E.display.filesize||F.cN!=E.cN||F.dA!=E.dA)D.oW('requestRenderFiles',{mj:D.app.lang.FilesEmpty,lastView:F})},0,this)};function r(w,x,y,z){var A='checked="checked"',B='',C='',D='',E='',F='',G='',H='',I='',J='';if(x=='list')B=A;else C=A;if(y.filename)D=A;if(y.date)E=A;if(y.filesize)F=A;if(z=='date')H=A;else if(z=='size')I=A;else if(z=='extension')J=A;else G=A;var K=B?' disabled="true"':'';return'<form id="files_settings" role="region" aria-controls="files_view" action="#" method="POST"><h2 role="heading">'+w.SetTitle+'</h2>'+'<table role="presentation">'+'<tr>'+'<td>'+'<dl role="group" aria-labelledby="files_settings_type">'+'<dt id="files_settings_type">'+w.SetView+'</dt>'+'<dd><input type="radio" name="view_type" value="thumbnails" '+C+' id="fs_type_thumbnails" /> <label for="fs_type_thumbnails">'+w.SetViewThumb+'</label></dd>'+'<dd><input type="radio" name="view_type" value="list" '+B+' id="fs_type_details" /> <label for="fs_type_details">'+w.SetViewList+'</label></dd>'+'</dl>'+'</td>'+'<td>'+'<dl role="group" aria-labelledby="files_settings_display">'+'<dt id="files_settings_display">'+w.SetDisplay+'</dt>'+'<dd><input type="checkbox" name="display_filename" value="1" '+D+K+' id="fs_display_filename" /> <label for="fs_display_filename">'+w.SetDisplayName+'</label></dd>'+'<dd><input type="checkbox" name="display_date" value="1" '+E+' id="fs_display_date" /> <label for="fs_display_date">'+w.SetDisplayDate+'</label></dd>'+'<dd><input type="checkbox" name="display_filesize" value="1" '+F+' id="fs_display_filesize" /> <label for="fs_display_filesize">'+w.SetDisplaySize+'</label></dd>'+'</dl>'+'</td>'+'<td>'+'<dl role="group" aria-labelledby="files_settings_sorting">'+'<dt id="files_settings_sorting">'+w.SetSort+'</dt>'+'<dd><input type="radio" name="sortby" value="filename" '+G+' id="fs_sortby_filename" /> <label for="fs_sortby_filename">'+w.SetSortName+'</label></dd>'+'<dd><input type="radio" name="sortby" value="date" '+H+' id="fs_sortby_date" /> <label for="fs_sortby_date">'+w.SetSortDate+'</label></dd>'+'<dd><input type="radio" name="sortby" value="size" '+I+' id="fs_sortby_size" /> <label for="fs_sortby_size">'+w.SetSortSize+'</label></dd>'+'<dd><input type="radio" name="sortby" value="extension" '+J+' id="fs_sortby_extension" /> <label for="fs_sortby_extension">'+w.SetSortExtension+'</label></dd>'+'</dl>'+'</td>'+'</tr>'+'</table>'+'<div class="buttons_wrapper"><div class="buttons"><input type="submit" value="'+w.CloseBtn+'" /></div></div>'+'</form>'};function s(w){w.data.preventDefault()};function t(w,x){for(var y in w){if(x(w[y])!==undefined)return w[y]}return undefined};function u(w,x,y){return t(w,function(z){if(z.tagName&&z.tagName.toLowerCase()==x&&!y--)return z})};function v(w){return w?new k(w):null}})();m.add('keystrokes',{eK:function(p){p.dJ=new a.dJ(p);p.oX={}},bz:function(p){var q=p.config.keystrokes,r=p.config.gN,s=p.dJ.keystrokes,t=p.dJ.gN;for(var u=0;u<q.length;u++)s[q[u][0]]=q[u][1];for(u=0;u<r.length;u++)t[r[u]]=1}});a.dJ=function(p){var q=this;if(p.dJ)return p.dJ;q.keystrokes={};q.gN={};q._={app:p};return q};(function(){var p,q=function(s){s=s.data;var t=s.db(),u=this.keystrokes[t],v=this._.app;p=v.oW('iK',{keyCode:t})===true;if(!p){if(u){var w={gJ:'dJ'};p=v.execCommand(u,w)!==false}if(!p){var x=v.oX[t];p=x&&x(v)===true;if(!p)p=!!this.gN[t]}}if(p)s.preventDefault(true);return!p},r=function(s){if(p){p=false;s.data.preventDefault(true)}};a.dJ.prototype={oA:function(s){s.on('keydown',q,this);if(f.opera||f.gecko&&f.mac)s.on('keypress',r,this)}}})();l.gN=[];l.keystrokes=[[a.eJ+119,'foldertreeFocus'],[a.eJ+120,'filesviewFocus'],[a.eJ+121,'hW'],[a.eJ+85,'upload'],[a.dy+121,'bj'],[a.bP+a.dy+121,'bj']];m.add('menu',{eK:function(p){var q=p.config.nj.split(','),r={};for(var s=0;s<q.length;s++)r[q[s]]=s+1;p._.iA=r;p._.iG={}},bM:['floatpanel']});i.extend(a.application.prototype,{dZ:function(p,q){this._.iA[p]=q||100},gp:function(p,q){if(this._.iA[q.group])this._.iG[p]=new a.iD(this,p,q)},eU:function(p){for(var q in p)this.gp(q,p[q])},mh:function(p){return this._.iG[p]}});(function(){a.menu=i.createClass({$:function(q,r){var s=this;s.id='cke_'+i.getNextNumber();s.app=q;s.items=[];s._.hx=r||1},_:{jK:function(q){var w=this;var r=w._.oM,s=w.items[q],t=s.hQ&&s.hQ();if(!t){w._.panel.gU();return}if(r)r.ih();else{r=w._.oM=new a.menu(w.app,w._.hx+1);r.parent=w;r.onClick=i.bind(w.onClick,w)}for(var u in t)r.add(w.app.mh(u));var v=w._.panel.iv(w.id).element.getDocument().getById(w.id+String(q));r.show(v,2)}},ej:{add:function(q){if(!q.fE)q.fE=this.items.length;this.items.push(q)},ih:function(){this.items=[]},show:function(q,r,s,t){var u=this.items,v=this.app,w=this._.panel,x=this._.element;if(!w){w=this._.panel=new n.pY(this.app,this.app.document.bH(),{css:[],hx:this._.hx-1,className:v.iy+' cke_contextmenu'},this._.hx);w.onEscape=i.bind(function(){this.onEscape&&this.onEscape();this.hide()},this);w.onHide=i.bind(function(){this.onHide&&this.onHide()},this);var y=w.qq(this.id);y.oz=true;var z=y.jQ;z[40]='next';z[9]='next';z[38]='prev';z[a.dy+9]='prev';z[32]='click';z[39]='click';x=this._.element=y.element;x.addClass(v.iy);var A=x.getDocument();A.bH().setStyle('overflow','hidden');A.eG('html').getItem(0).setStyle('overflow','hidden');this._.qz=i.addFunction(function(G){var H=this;clearTimeout(H._.jI);H._.jI=i.setTimeout(H._.jK,v.config.ob,H,[G])},this);this._.qm=i.addFunction(function(G){clearTimeout(this._.jI)},this);this._.ql=i.addFunction(function(G){var I=this;var H=I.items[G];if(H.bu==a.aY){I.hide();return}if(H.hQ)I._.jK(G);else I.onClick&&I.onClick(H)},this)}p(u);var B=['<div class="cke_menu">'],C=u.length,D=C&&u[0].group;for(var E=0;E<C;E++){var F=u[E];if(D!=F.group){B.push('<div class="cke_menuseparator"></div>');D=F.group}F.er(this,E,B)}B.push('</div>');x.setHtml(B.join(''));if(this.parent)this.parent._.panel.rA(w,this.id,q,r,s,t);else w.gf(this.id,q,r,s,t);v.oW('menuShow',[w])},hide:function(){this._.panel&&this._.panel.hide()}}});function p(q){q.sort(function(r,s){if(r.group<s.group)return-1;else if(r.group>s.group)return 1;return r.fE<s.fE?-1:r.fE>s.fE?1:0})}})();a.iD=i.createClass({$:function(p,q,r){var s=this;i.extend(s,r,{fE:0,className:'cke_button_'+q});s.group=p._.iA[s.group];s.app=p;s.name=q},ej:{er:function(p,q,r){var y=this;var s=p.id+String(q),t=typeof y.bu=='undefined'?a.aS:y.bu,u=' cke_'+(t==a.eV?'on':t==a.aY?'disabled':'off'),v=y.label;if(t==a.aY)v=y.app.lang.common.unavailable.replace('%1',v);if(y.className)u+=' '+y.className;var w=y.hQ;r.push('<span class="cke_menuitem"><a id="',s,'" class="',u,'" href="javascript:void(\'',(y.label||'').replace("'",''),'\')" title="',y.label,'" tabindex="-1"_cke_focus=1 hidefocus="true" role="menuitem"'+(w?'aria-haspopup="true"':'')+(t==a.aY?'aria-disabled="true"':'')+(t==a.eV?'aria-pressed="true"':''));if(f.opera||f.gecko&&f.mac)r.push(' onkeypress="return false;"');if(f.gecko)r.push(' onblur="this.style.cssText = this.style.cssText;"');var x=(y.rD||0)*-16;r.push(' onmouseover="CKFinder.tools.callFunction(',p._.qz,',',q,');" onmouseout="CKFinder.tools.callFunction(',p._.qm,',',q,');" onclick="CKFinder.tools.callFunction(',p._.ql,',',q,'); return false;"><span class="cke_icon_wrapper"><span class="cke_icon"'+(y.icon?' style="background-image:url('+a.getUrl(y.icon)+');background-position:0 '+x+'px;"':'')+'></span></span>'+'<span class="cke_label">');if(y.hQ)r.push('<span class="cke_menuarrow"></span>');r.push(v,'</span></a></span>')}}});l.ob=400;l.nj='';(function(){function p(s){if(f.opera)s.setStyle('overflow','hidden');s.on('touchstart',function(t){var u=t.data.$.touches[0];if(s.interval){window.clearInterval(s.interval);delete s.interval}s.lL=s.$.scrollTop;s.nx=s.$.scrollLeft;s.mP=u.pageY;s.na=u.pageX;s.mO=new Date()});s.on('touchmove',function(t){var u=t.data,v=u.$.touches[0];if(q(s,v.pageX,v.pageY))u.preventDefault()});s.on('touchend',function(t){var u=t.data,v=u.$.changedTouches[0];if(q(s,v.pageX,v.pageY)){u.preventDefault();var w=(new Date()-s.mO)/100,x=v.pageX-s.na,y=v.pageY-s.mP;s.mK=x/w;s.nu=y/w;s.jy=v.pageX;s.mv=v.pageY;s.nf=0;s.interval=window.setInterval(function(){r(s)},100)}})};function q(s,t,u){var v=Math.round(t-s.na),w=Math.round(u-s.mP),x=s.nx-v,y=s.lL-w;if(s.$.scrollLeft==x&&s.$.scrollTop==y)return false;s.$.scrollLeft=x;s.$.scrollTop=y;if(Math.abs(v)>Math.abs(w))return s.$.scrollLeft==x;else return s.$.scrollTop==y};function r(s){var t=7,u=Math.cos(s.nf/t*Math.PI/2);s.jy+=s.mK*u;s.mv+=s.nu*u;if(s.nf++>t||!q(s,s.jy,s.mv)){window.clearInterval(s.interval);delete s.interval;return}};m.add('mobile',{bM:['foldertree','filesview'],bz:function u(s){var t='ontouchstart'in window;if(!f.isMobile&&!t)return;s.config.showContextMenuArrow=true;if(!f.isMobile)return;s.on('uiReady',function w(v){if(f.webkit&&f.version<534||f.opera){p(s.layout.pS());p(s.layout.pn())}s.hs=function(x,y,z,A){var B=window.prompt(y,z);if(B!==null)A(B)};s.msgDialog=function(x,y,z){window.alert(y);if(z)z()};s.fe=function(x,y,z){if(window.confirm(y))z()}},null,null,20)}})})();m.add('panel',{eK:function(p){p.bY.kd(a.UI_PANEL,n.panel.dq)}});a.UI_PANEL=2;n.panel=function(p,q,r){var t=this;if(q)i.extend(t,q);i.extend(t,{className:''});var s=a.basePath;i.extend(t.css,[s+'skins/'+r+'/uipanel.css']);t.id=i.getNextNumber();t.document=p;t._={iq:{}}};n.panel.dq={create:function(p){return new n.panel(p)}};n.panel.prototype={nt:function(p){var q=[];this.er(p,q);return q.join('')},er:function(p,q){var u=this;var r='cke_'+u.id;q.push('<div class="',p.iy,' cke_compatibility" lang="',p.langCode,'" role="presentation" style="display:none;z-index:'+(p.config.baseFloatZIndex+1)+'">'+'<div'+' id="',r,'"',' dir="',p.lang.dir,'"',' role="presentation" class="cke_panel cke_',p.lang.dir);if(u.className)q.push(' ',u.className);q.push('">');if(u.lE||u.css.length){q.push('<iframe id="',r,'_frame" frameborder="0" src="');var s=f.isCustomDomain(),t='document.open();'+(s?'document.domain="'+window.document.domain+'";':'')+'document.close();';q.push(g?'javascript:void(function(){'+encodeURIComponent(t)+'}())':'');q.push('"></iframe>')}q.push('</div></div>');return r},oU:function(){var p=this._.rE;if(!p){if(this.lE||this.css.length){var q=this.document.getById('cke_'+this.id+'_frame'),r=q.getParent(),s=r.getAttribute('dir'),t=r.getParent().getAttribute('class').split(' ')[0],u=r.getParent().getAttribute('lang'),v=q.getFrameDocument();v.$.open();if(f.isCustomDomain())v.$.domain=document.domain;var w=i.addFunction(i.bind(function(z){this.hm=true;if(this.onLoad)this.onLoad()},this)),x=v.getWindow();x.$.CKFinder=CKFinder;var y=f.cssClass.replace(/browser_quirks|browser_iequirks/g,'');v.$.write("<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01//EN' 'http://www.w3.org/TR/html4/strict.dtd'><html dir=\""+s+'" class="'+t+'_container" lang="'+u+'">'+'<head>'+'<style>.'+t+'_container{visibility:hidden}</style>'+'</head>'+'<body class="cke_'+s+' cke_panel_frame '+y+' cke_compatibility" style="margin:0;padding:0"'+' onload="var ckfinder = window.CKFinder || window.parent.CKFinder; ckfinder && ckfinder.tools.callFunction('+w+');">'+'</body>'+'<link type="text/css" rel=stylesheet href="'+this.css.join('"><link type="text/css" rel="stylesheet" href="')+'">'+'</html>');v.$.close();x.$.CKFinder=CKFinder;v.on('keydown',function(z){var B=this;var A=z.data.db();if(B._.onKeyDown&&B._.onKeyDown(A)===false){z.data.preventDefault();return}if(A==27)B.onEscape&&B.onEscape()},this);p=v.bH()}else p=this.document.getById('cke_'+this.id);this._.rE=p}return p},qq:function(p,q){var r=this;q=r._.iq[p]=q||new n.panel.block(r.oU());if(!r._.iL)r.gf(p);return q},iv:function(p){return this._.iq[p]},gf:function(p){var t=this;var q=t._.iq,r=q[p],s=t._.iL;if(s)s.hide();t._.iL=r;r._.cQ=-1;t._.onKeyDown=r.onKeyDown&&i.bind(r.onKeyDown,r);r.show();return r}};n.panel.block=i.createClass({$:function(p){var q=this;q.element=p.append(p.getDocument().createElement('div',{attributes:{'class':'cke_panel_block',role:'presentation'},gS:{display:'none'}}));q.jQ={};q._.cQ=-1;q.element.hX()},_:{},ej:{show:function(){this.element.setStyle('display','')},hide:function(){var p=this;if(!p.onHide||p.onHide.call(p)!==true)p.element.setStyle('display','none')},onKeyDown:function(p){var u=this;var q=u.jQ[p];switch(q){case'next':var r=u._.cQ,s=u.element.eG('a'),t;while(t=s.getItem(++r)){if(t.getAttribute('_cke_focus')&&t.$.offsetWidth){u._.cQ=r;t.focus();break}}return false;case'prev':r=u._.cQ;s=u.element.eG('a');while(r>0&&(t=s.getItem(--r))){if(t.getAttribute('_cke_focus')&&t.$.offsetWidth){u._.cQ=r;t.focus();break}}return false;case'click':r=u._.cQ;t=r>=0&&u.element.eG('a').getItem(r);if(t)t.$.click?t.$.click():t.$.onclick();return false}return true}}});m.add('resize',{bz:function(p){var q=p.config;if(q.nB)p.on('uiReady',function(){var r=null,s,t;function u(w){p.document.bH().addClass('during_sidebar_resize');var x=w.data.$.screenX-s.x,y=t.width+x*(p.lang.dir=='rtl'?-1:1);p.nJ(Math.max(q.nN,Math.min(y,q.nC)))};function v(w){p.document.bH().removeClass('during_sidebar_resize');a.document.removeListener('mousemove',u);a.document.removeListener('mouseup',v);if(p.document){p.document.removeListener('mousemove',u);p.document.removeListener('mouseup',v)}};p.layout.dV().on('mousedown',function(w){if(!r)r=p.layout.dV();if(w.data.bK().$!=r.$)return;t={width:r.$.offsetWidth||0};s={x:w.data.$.screenX};a.document.on('mousemove',u);a.document.on('mouseup',v);if(p.document){p.document.on('mousemove',u);p.document.on('mouseup',v)}})})}});l.nN=120;l.nC=500;l.nB=true;(function(){m.add('status',{bM:['filesview'],onLoad:function s(){p()},gr:function u(s){var t=this;s.on('themeSpace',function w(v){if(v.data.space=='mainBottom')v.data.html+='<div id="status_view" class="view" role="status"></div>'});s.on('uiReady',function z(v){var w=s.document.getById('status_view'),x=s.aG['filesview.filesview'],y=a.aG.bz(s,'status',t,w,{parent:x});if(x.app==s){x.on('successSelectFile',function B(A){y.oW('requestShowFileInfo',A.data)});x.on('successShowFolderFiles',function B(A){A.data.ib=this;y.oW('requestShowFolderInfo',A.data)})}s.on('afterCommandExecDefered',function C(A){if(A.data.name=='RemoveFile'){var B={folder:A.data.folder,ib:x};y.oW('requestShowFolderInfo',B)}});y.on('afterShowFileInfo',function B(A){if(this.bn().getText())return;y.oW('requestShowFolderInfo',{ib:x,folder:x.data().folder})})})}});function p(){var s=a.aG.hS('status','status');s.bh('ShowFileInfo',['requestShowFileInfo'],function u(t){t.result=this.oW('beforeShowFileInfo',t.data,function z(v,w){var A=this;if(v)return;var x=w.file;try{var y=x?q(x,A.app.lang):'';A.bn().setHtml(y);A.oW('successShowFileInfo',w)}catch(B){A.oW('failedShowFileInfo',w);throw a.ba(B);}A.oW('afterShowFileInfo',w)})});s.bh('ShowFolderInfo',['requestShowFolderInfo'],function u(t){t.result=this.oW('beforeShowFolderInfo',t.data,function z(v,w){var A=this;if(v)return;var x=w.folder;try{var y=r(t.data.ib.data().files.length,A.app.lang);A.bn().setHtml(y);A.oW('successShowFolderInfo',w)}catch(B){A.oW('failedShowFolderInfo',w);throw a.ba(B);}A.oW('afterShowFolderInfo',w)})})};function q(s,t){return'<p>'+s.name+' ('+i.formatSize(s.size,t,true)+', '+s.dateF+')</p>'};function r(s,t){var u;if(s===0)u=t.FilesCountEmpty;else if(s==1)u=t.FilesCountOne;else u=t.FilesCountMany.replace('%1',s);return'<p>'+i.htmlEncode(u)+'</p>'}})();(function(){var p=function(){this.fk=[];this.pZ=false};p.prototype.focus=function(){for(var r=0,s;s=this.fk[r++];)for(var t=0,u;u=s.items[t++];){if(u.focus){u.focus();return}}};var q={hW:{iH:{qt:1,source:1},exec:function(r){if(r.dh){r.dh.pZ=true;if(g)setTimeout(function(){r.dh.focus()},100);else r.dh.focus()}}}};m.add('toolbar',{bM:['formpanel'],bz:function(r){var s=function(t,u){switch(u){case r.lang.dir=='rtl'?37:39:while((t=t.next||t.toolbar.next&&t.toolbar.next.items[0])&&!t.focus){}if(t)t.focus();else r.dh.focus();return false;case r.lang.dir=='rtl'?39:37:while((t=t.previous||t.toolbar.previous&&t.toolbar.previous.items[t.toolbar.previous.items.length-1])&&!t.focus){}if(t)t.focus();else{var v=r.dh.fk[r.dh.fk.length-1].items;v[v.length-1].focus()}return false;case 27:r.focus();return false;case 13:case 32:t.lc();return false}return true};r.on('themeSpace',function(t){if(t.data.space=='mainTop'){r.dh=new p();var u='cke_'+i.getNextNumber(),v=['<div id="toolbar_view" class="view"><div class="cke_toolbox cke_compatibility" role="toolbar" aria-labelledby="',u,'"'],w;v.push('>');v.push('<span id="',u,'" class="cke_voice_label">',r.lang.toolbar,'</span>');var x=r.dh.fk,y=r.config.toolbar instanceof Array?r.config.toolbar:r.config['toolbar_'+r.config.toolbar];for(var z=0;z<y.length;z++){var A=y[z];if(!A)continue;var B='cke_'+i.getNextNumber(),C={id:B,items:[]};if(w){v.push('</div>');w=0}if(A==='/'){v.push('<div class="cke_break"></div>');continue}v.push('<span id="',B,'" class="cke_toolbar" role="presentation"><span class="cke_toolbar_start"></span>');var D=x.push(C)-1;if(D>0){C.previous=x[D-1];C.previous.next=C}for(var E=0;E<A.length;E++){var F,G=A[E];if(G=='-')F=n.separator;else F=r.bY.create(G);if(F){if(F.canGroup){if(!w){v.push('<span class="cke_toolgroup">');w=1}}else if(w){v.push('</span>');w=0}var H=F.er(r,v);D=C.items.push(H)-1;if(D>0){H.previous=C.items[D-1];H.previous.next=H}H.toolbar=C;H.onkey=s}}if(w){v.push('</span>');w=0}v.push('<span class="cke_toolbar_end"></span></span>')}v.push('</div></div>');t.data.html+=v.join('')}});r.bD('hW',q.hW)}})})();n.separator={er:function(p,q){q.push('<span class="cke_separator"></span>');return{}}};l.toolbar_Basic=[['Upload','Refresh']];l.toolbar_Full=[['Upload','Refresh','Settings','Maximize','Help']];l.toolbar='Full';(function(){m.add('tools',{eK:function q(p){this.app=p},addTool:function(p,q){var r='tool_'+i.getNextNumber();p=q?'<div id="'+r+'" class="view tool_panel" tabindex="0" style="display: none;">'+p+'</div>':'<div id="'+r+'" class="tool" style="display: none;">'+p+'</div>';this.app.layout.dV().getChild(0).appendHtml(p);return r},addToolPanel:function(p){p=p||'';var q=this.addTool(p,1),r=this.app.layout.dV().getChild(0).dB();i.mH(r);return q},hideTool:function(p){this.app.document.getById(p).setStyle('display','none');this.app.layout.ea(true)},showTool:function(p){this.app.document.getById(p).removeStyle('display');this.app.layout.ea(true)},removeTool:function(p){this.hideTool(p);this.app.document.getById(p).remove()}})})();(function(){m.add('uploadform',{bM:['formpanel','button'],readOnly:false,md:function(){if(!f.webkit)return true;var q=document.createElement('input');q.setAttribute('type','file');return q.disabled===false},onLoad:function q(){if(!this.md())return;p()},gr:function r(q){if(!this.md())return;q.bD('upload',{exec:function(s){s.oW('requestUploadFileForm',null,function(){if(s.cS('upload').bu==a.eV)setTimeout(function(){var t=s.aG['formpanel.formpanel'].tools.ij();if(t){var u=t.eG('input').getItem(0);u.on('change',function(){if(u.getValue())for(var v=0;v<t.$.elements.length;v++){var w=t.$.elements[v];if(w.nodeName=='INPUT'&&w.type=='submit')w.click()}});if(u.$.click)u.$.click();else u.focus()}},0)})}});q.bY.add('Upload',a.UI_BUTTON,{label:q.lang.Upload,command:'upload'});q.on('appReady',function(s){q.aG['filesview.filesview'].on('successShowFolderFiles',function x(t){var u=this.tools.currentFolder(),v=this.app.cS('upload');if(u&&u.acl.fileUpload){if(v.bu==a.aY)v.bR(a.aS)}else{var w=q.aG['formpanel.formpanel'];if(w.data().dc=='upload')w.oW('requestUnloadForm');v.bR(a.aY)}})})}});function p(){var q=a.aG.bX['formpanel.formpanel'];if(!q)return;q.bh('UploadFileForm',['requestUploadFileForm'],function x(u){var v=this.app.aV,w=this;this.oW('beforeUploadFileForm',{folder:v,step:1},function D(y,z){if(y||r())return;var A=this.data(),B=z.folder,C=0;if(!B){this.app.msgDialog('',this.app.lang.UploadNoFolder);C=1}if(!C&&!B.acl.fileUpload){this.app.msgDialog('',this.app.lang.UploadNoPerms);C=1}if(C){this.oW('failedUploadFileForm');this.oW('afterUploadFileForm');return}this.oW('beforeUploadFileForm',{folder:B,step:2},function M(E,F){try{if(A.dc=='upload')this.oW('requestUnloadForm',function(){this.app.cS('upload').bR(a.aS);this.oW('successUploadFileForm',F);this.oW('afterUploadFileForm',F)});else{if(A.dc)this.oW('requestUnloadForm');var G=this.tools.qL(),H=this.app.connector.composeUrl('FileUpload',{},B.type,B),I=t(this.app,G.$.id,H),J=this;this.oW('requestLoadForm',{html:I,dq:i.bind(function(N){return s.call(J,N,B)}),cC:['submit'],cancelSubmit:0,gM:0,command:'upload'},function(){this.eh.addClass('show_border');F.step=1;this.oW('successUploadFileForm',F)});function K(N){if(N.data.folder&&N.data.folder.acl.fileUpload){var O=w.tools.qO();w.oW('requestUnloadForm');w.oW('requestUploadFileForm',function Q(){var P=w.tools.qO();O.kB(P);P.remove();delete w.tools.jj})}};var L=this.app.aG['filesview.filesview'];L.on('successShowFolderFiles',K);this.on('requestUnloadForm',function O(N){N.removeListener();L.removeListener('successShowFolderFiles',K)})}}catch(N){this.oW('failedUploadFileForm',F);this.oW('afterUploadFileForm',F);throw a.ba(N);}})})});function r(){var u="\122\x4d\x52\110\x59\065\x51\x34\123\054\107\x47\131\130\x54\123\x42\114\x41\054\x51\123\070\106\064\132\x46\125\x4a";return a.bF.length>0&&u.indexOf(a.bF.substr(0,9))!=-1};q.tools.releaseDomNodes=i.override(q.tools.releaseDomNodes,function(u){return function(){var v=this;u.apply(v,arguments);delete v.jj;delete v.jc;if(v.gq!==undefined){v.gq.remove();delete v.gq}}});q.tools.qB=function(){var u=this;if(u.jc===undefined)u.jc=u.ib.bn().getChild([0,2]);return u.jc};q.tools.qO=function(){var u=this;if(u.jj===undefined)u.jj=u.ib.bn().getChild([0,1,0]);return u.jj};q.tools.qL=function(){var y=this;if(y.gq===undefined){var u=f.isCustomDomain(),v='ckf_'+i.getNextNumber(),w='<iframe id="'+v+'"'+' name="'+v+'"'+' style="display:none"'+' frameBorder="0"'+(u?" src=\"javascript:void((function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})())"':'')+' tabIndex="-1"'+' allowTransparency="true"'+'></iframe>',x=y.ib.app.document.bH();x.appendHtml(w);y.gq=x.dB()}return y.gq};function s(u,v){var w=this,x=w.data(),y=1,z=this.tools.qO(),A=z&&z.$.value;if(!A.length){u.data.preventDefault(true);this.oW('failedUploadFileForm');this.oW('afterUploadFileForm');return false}var B=A.match(/\.([^\.]+)\s*$/)[1];if(!B||!v.getResourceType().isExtensionAllowed(B)){u.data.preventDefault();w.app.msgDialog('',w.app.lang.UploadExtIncorrect)}else y=0;if(y){u.data.preventDefault(true);this.oW('failedUploadFileForm');this.oW('afterUploadFileForm');return false}var C=w.app.document.getWindow().$;C.OnUploadCompleted=function(D,E){var F={step:3,filename:D,folder:v};if(E&&!D){w.app.msgDialog('',E);var G=w.tools.qB();G.setStyle('display','none');G.getChild(1).setText('');G.getChild(2).setText('');w.oW('failedUploadFileForm',F)}else{if(E)w.app.msgDialog('',E);if(w.app.aV==v)w.app.oW('requestShowFolderFiles',{folder:v,mw:D});w.oW('requestUnloadForm');w.oW('successUploadFileForm',F)}w.oW('afterUploadFileForm',F);try{delete C.OnUploadCompleted}catch(H){C.OnUploadCompleted=undefined}};a.log('[UPLOADFORM] Starting IFRAME file upload.');this.oW('successUploadFileForm',{step:2});return true};function t(u,v,w){return'<form enctype="multipart/form-data" id="upload_form" role="region" action="'+w+'" method="POST" target="'+v+'">'+'<h2 role="heading">'+u.lang.UploadTitle+'</h2>'+'<p><input type="file" name="upload" /></p>'+'<div class="buttons_wrapper"><div class="buttons">'+'<input type="submit" value="'+u.lang.UploadBtn+'" />'+'<input type="button" name="cancel" value="'+u.lang.UploadBtnCancel+'" />'+'</div></div>'+'</form>'}}})();(function(){function p(q,r){var s='undefined',t='object',u='Shockwave Flash',v='ShockwaveFlash.ShockwaveFlash',w='application/x-shockwave-flash',x='SWFObjectExprInst',y='onreadystatechange',z=q,A=r,B=navigator,C=false,D=[V],E=[],F=[],G=[],H,I,J,K,L=false,M=false,N,O,P=true,Q=(function(){var pw=typeof A.getElementById!=s&&typeof A.getElementsByTagName!=s&&typeof A.createElement!=s,aq=B.userAgent.toLowerCase(),ar=B.platform.toLowerCase(),as=ar?/win/.test(ar):/win/.test(aq),at=ar?/mac/.test(ar):/mac/.test(aq),au=/webkit/.test(aq)?parseFloat(aq.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,'$1')):false,av=!+'\v1',aw=[0,0,0],ax=null;if(typeof B.plugins!=s&&typeof B.plugins[u]==t){ax=B.plugins[u].description;if(ax&&!(typeof B.mimeTypes!=s&&B.mimeTypes[w]&&!B.mimeTypes[w].enabledPlugin)){C=true;av=false;ax=ax.replace(/^.*\s+(\S+\s+\S+$)/,'$1');aw[0]=parseInt(ax.replace(/^(.*)\..*$/,'$1'),10);aw[1]=parseInt(ax.replace(/^.*\.(.*)\s.*$/,'$1'),10);aw[2]=/[a-zA-Z]/.test(ax)?parseInt(ax.replace(/^.*[a-zA-Z]+(.*)$/,'$1'),10):0}}else if(typeof z.ActiveXObject!=s)try{var ay=new ActiveXObject(v);if(ay){ax=ay.GetVariable('$version');if(ax){av=true;ax=ax.split(' ')[1].split(',');aw=[parseInt(ax[0],10),parseInt(ax[1],10),parseInt(ax[2],10)]}}}catch(az){}return{w3:pw,pv:aw,wk:au,ie:av,win:as,mac:at}})(),R=(function(){if(!Q.w3)return;if(typeof A.readyState!=s&&A.readyState=='complete'||typeof A.readyState==s&&(A.getElementsByTagName('body')[0]||A.body))S();if(!L){if(typeof A.addEventListener!=s)A.addEventListener('DOMContentLoaded',S,false);if(Q.ie&&Q.win){A.attachEvent(y,function(){if(A.readyState=='complete'){A.detachEvent(y,arguments.callee);S()}});if(z==top)(function(){if(L)return;try{A.documentElement.doScroll('left')}catch(pw){setTimeout(arguments.callee,0);return}S()})()}if(Q.wk)(function(){if(L)return;if(!/loaded|complete/.test(A.readyState)){setTimeout(arguments.callee,0);return}S()})();U(S)}})();setTimeout(function(){S()},100);function S(){if(L)return;try{var pw=A.getElementsByTagName('body')[0].appendChild(eN('span'));pw.parentNode.removeChild(pw)}catch(as){return}L=true;var aq=D.length;for(var ar=0;ar<aq;ar++)D[ar]()};function T(pw){if(L)pw();else D[D.length]=pw};function U(pw){if(typeof z.addEventListener!=s)z.addEventListener('load',pw,false);else if(typeof A.addEventListener!=s)A.addEventListener('load',pw,false);else if(typeof z.attachEvent!=s)gB(z,'onload',pw);else if(typeof z.onload=='function'){var aq=z.onload;z.onload=function(){aq();pw()}}else z.onload=pw};function V(){if(C)W();else X()};function W(){var pw=A.getElementsByTagName('body')[0],aq=eN(t);aq.setAttribute('type',w);var ar=pw.appendChild(aq);if(ar){var as=0;(function(){if(typeof ar.GetVariable!=s){var at=ar.GetVariable('$version');if(at){at=at.split(' ')[1].split(',');Q.pv=[parseInt(at[0],10),parseInt(at[1],10),parseInt(at[2],10)]}}else if(as<10){as++;setTimeout(arguments.callee,10);return}pw.removeChild(aq);ar=null;X()})()}else X()};function X(){var pw=E.length;if(pw>0)for(var aq=0;aq<pw;aq++){var ar=E[aq].id,as=E[aq].callbackFn,at={success:false,id:ar};if(Q.pv[0]>0){var au=bV(ar);if(au)if(dX(E[aq].swfVersion)&&!(Q.wk&&Q.wk<312)){am(ar,true);if(as){at.success=true;at.ref=Y(ar);as(at)}}else if(E[aq].ln&&Z()){var av={};av.data=E[aq].ln;av.width=au.getAttribute('width')||'0';av.height=au.getAttribute('height')||'0';if(au.getAttribute('class'))av.styleclass=au.getAttribute('class');if(au.getAttribute('align'))av.align=au.getAttribute('align');var aw={},ax=au.getElementsByTagName('param'),ay=ax.length;for(var az=0;az<ay;az++){if(ax[az].getAttribute('name').toLowerCase()!='movie')aw[ax[az].getAttribute('name')]=ax[az].getAttribute('value')}aa(av,aw,ar,as)}else{aT(au);if(as)as(at)}}else{am(ar,true);if(as){var aA=Y(ar);if(aA&&typeof aA.SetVariable!=s){at.success=true;at.ref=aA}as(at)}}}};function Y(pw){var aq=null,ar=bV(pw);if(ar&&ar.nodeName=='OBJECT')if(typeof ar.SetVariable!=s)aq=ar;else{var as=ar.getElementsByTagName(t)[0];if(as)aq=as}return aq};function Z(){return!M&&dX('6.0.65')&&(Q.win||Q.mac)&&!(Q.wk&&Q.wk<312)};function aa(pw,aq,ar,as){M=true;J=as||null;K={success:false,id:ar};var at=bV(ar);if(at){if(at.nodeName=='OBJECT'){H=bm(at);I=null}else{H=at;I=ar}pw.id=x;if(typeof pw.width==s||!/%$/.test(pw.width)&&parseInt(pw.width,10)<310)pw.width='310';if(typeof pw.height==s||!/%$/.test(pw.height)&&parseInt(pw.height,10)<137)pw.height='137';A.title=A.title.slice(0,47)+' - Flash Player Installation';var au=Q.ie&&Q.win?'ActiveX':'PlugIn',av='MMredirectURL='+z.location.toString().replace(/&/g,'%26')+'&MMplayerType='+au+'&MMdoctitle='+A.title;if(typeof aq.flashvars!=s)aq.flashvars+='&'+av;else aq.flashvars=av;if(Q.ie&&Q.win&&at.readyState!=4){var aw=eN('div');ar+='SWFObjectNew';aw.setAttribute('id',ar);at.parentNode.insertBefore(aw,at);at.style.display='none';(function(){if(at.readyState==4)at.parentNode.removeChild(at);else setTimeout(arguments.callee,10)})()}bW(pw,aq,ar)}};function aT(pw){if(Q.ie&&Q.win&&pw.readyState!=4){var aq=eN('div');pw.parentNode.insertBefore(aq,pw);aq.parentNode.replaceChild(bm(pw),aq);pw.style.display='none';(function(){if(pw.readyState==4)pw.parentNode.removeChild(pw);else setTimeout(arguments.callee,10)})()}else pw.parentNode.replaceChild(bm(pw),pw)};function bm(pw){var aq=eN('div');if(Q.win&&Q.ie)aq.innerHTML=pw.innerHTML;else{var ar=pw.getElementsByTagName(t)[0];if(ar){var as=ar.childNodes;if(as){var at=as.length;for(var au=0;au<at;au++){if(!(as[au].nodeType==1&&as[au].nodeName=='PARAM')&&!(as[au].nodeType==8))aq.appendChild(as[au].cloneNode(true))}}}}return aq};function bW(pw,aq,ar){var as,at=bV(ar);if(Q.wk&&Q.wk<312)return as;if(at){if(typeof pw.id==s)pw.id=ar;if(Q.ie&&Q.win){var au='';for(var av in pw){if(pw[av]!=Object.prototype[av])if(av.toLowerCase()=='data')aq.movie=pw[av];else if(av.toLowerCase()=='styleclass')au+=' class="'+pw[av]+'"';else if(av.toLowerCase()!='classid')au+=' '+av+'="'+pw[av]+'"'}var aw='';for(var ax in aq){if(aq[ax]!=Object.prototype[ax])aw+='<param name="'+ax+'" value="'+aq[ax]+'" />'}at.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+au+'>'+aw+'</object>';F[F.length]=pw.id;as=bV(pw.id)}else{var ay=eN(t);ay.setAttribute('type',w);for(var az in pw){if(pw[az]!=Object.prototype[az])if(az.toLowerCase()=='styleclass')ay.setAttribute('class',pw[az]);else if(az.toLowerCase()!='classid')ay.setAttribute(az,pw[az])}for(var aA in aq){if(aq[aA]!=Object.prototype[aA]&&aA.toLowerCase()!='movie')eS(ay,aA,aq[aA])}at.parentNode.replaceChild(ay,at);as=ay}}return as};function eS(pw,aq,ar){var as=eN('param');as.setAttribute('name',aq);as.setAttribute('value',ar);pw.appendChild(as)};function fv(pw){var aq=bV(pw);if(aq&&aq.nodeName=='OBJECT')if(Q.ie&&Q.win){aq.style.display='none';(function(){if(aq.readyState==4)aP(pw);else setTimeout(arguments.callee,10)})()}else aq.parentNode.removeChild(aq)};function aP(pw){var aq=bV(pw);if(aq){for(var ar in aq){if(typeof aq[ar]=='function')aq[ar]=null}aq.parentNode.removeChild(aq)}};function bV(pw){var aq=null;try{aq=A.getElementById(pw)}catch(ar){}return aq};function eN(pw){return A.createElement(pw)};function gB(pw,aq,ar){pw.attachEvent(aq,ar);G[G.length]=[pw,aq,ar]};function dX(pw){var aq=Q.pv,ar=pw.split('.');ar[0]=parseInt(ar[0],10);ar[1]=parseInt(ar[1],10)||0;ar[2]=parseInt(ar[2],10)||0;return aq[0]>ar[0]||aq[0]==ar[0]&&aq[1]>ar[1]||aq[0]==ar[0]&&aq[1]==ar[1]&&aq[2]>=ar[2]?true:false};function gs(pw,aq,ar,as){if(Q.ie&&Q.mac)return;var at=A.getElementsByTagName('head')[0];if(!at)return;var au=ar&&typeof ar=='string'?ar:'screen';if(as){N=null;O=null}if(!N||O!=au){var av=eN('style');av.setAttribute('type','text/css');av.setAttribute('media',au);N=at.appendChild(av);if(Q.ie&&Q.win&&typeof A.styleSheets!=s&&A.styleSheets.length>0)N=A.styleSheets[A.styleSheets.length-1];O=au}if(Q.ie&&Q.win){if(N&&typeof N.addRule==t)N.addRule(pw,aq)}else if(N&&typeof A.createTextNode!=s)N.appendChild(A.createTextNode(pw+' {'+aq+'}'))};function am(pw,aq){if(!P)return;var ar=aq?'visible':'hidden';if(L&&bV(pw))bV(pw).style.visibility=ar;else gs('#'+pw,'visibility:'+ar)};function gP(pw){var aq=/[\\\"<>\.;]/,ar=aq.exec(pw)!=null;return ar&&typeof encodeURIComponent!=s?encodeURIComponent(pw):pw};var gR=(function(){if(Q.ie&&Q.win)q.attachEvent('onunload',function(){var pw=G.length;for(var aq=0;aq<pw;aq++)G[aq][0].detachEvent(G[aq][1],G[aq][2]);var ar=F.length;for(var as=0;as<ar;as++)fv(F[as]);for(var at in Q)Q[at]=null;Q=null;if(typeof swfobject!='undefined'){for(var au in swfobject)swfobject[au]=null;swfobject=null}})})();return{gH:function(pw,aq,ar,as){if(Q.w3&&pw&&aq){var at={};at.id=pw;at.swfVersion=aq;at.ln=ar;at.callbackFn=as;E[E.length]=at;am(pw,false)}else if(as)as({success:false,id:pw})},lp:function(pw){if(Q.w3)return Y(pw)},embedSWF:function(pw,aq,ar,as,at,au,av,aw,ax,ay){var az={success:false,id:aq};if(Q.w3&&!(Q.wk&&Q.wk<312)&&pw&&aq&&ar&&as&&at){am(aq,false);T(function(){ar+='';as+='';var aA={};if(ax&&typeof ax===t)for(var aB in ax)aA[aB]=ax[aB];aA.data=pw;aA.width=ar;aA.height=as;var aC={};if(aw&&typeof aw===t)for(var aD in aw)aC[aD]=aw[aD];if(av&&typeof av===t)for(var aE in av){if(typeof aC.flashvars!=s)aC.flashvars+='&'+aE+'='+av[aE];else aC.flashvars=aE+'='+av[aE]}if(dX(at)){var aF=bW(aA,aC,aq);if(aA.id==aq)am(aq,true);az.success=true;az.ref=aF}else if(au&&Z()){aA.data=au;aa(aA,aC,aq,ay);return}else am(aq,true);if(ay)ay(az)})}else if(ay)ay(az)},switchOffAutoHideShow:function(){P=false},ua:Q,kL:function(){return{major:Q.pv[0],minor:Q.pv[1],release:Q.pv[2]}},kf:dX,iV:function(pw,aq,ar){if(Q.w3)return bW(pw,aq,ar);else return undefined},jS:function(pw,aq,ar,as){if(Q.w3&&Z())aa(pw,aq,ar,as)},jv:function(pw){if(Q.w3)fv(pw)},ik:function(pw,aq,ar,as){if(Q.w3)gs(pw,aq,ar,as)},cz:T,jC:U,kY:function(pw){var aq=A.location.search||A.location.hash;if(aq){if(/\?/.test(aq))aq=aq.split('?')[1];if(pw==null)return gP(aq);var ar=aq.split('&');for(var as=0;as<ar.length;as++){if(ar[as].substring(0,ar[as].indexOf('='))==pw)return gP(ar[as].substring(ar[as].indexOf('=')+1))}}return''},lq:function(){if(M){var pw=bV(x);if(pw&&H){pw.parentNode.replaceChild(H,pw);if(I){am(I,true);if(Q.ie&&Q.win)H.style.display='block'}if(J)J(K)}M=false}}}};CKFinder.addPlugin('flashupload',{readOnly:false,appReady:function(q){if(q.config.connectorLanguage=='asp'&&!CKFinder.env.ie)return;var r=q.document,s=r.defaultView||r.parentWindow,t=p(s,r);if(!t.kf('10.2.0'))return;setTimeout(function(){q.replaceUploadForm('<iframe src="'+CKFinder.getPluginPath('flashupload')+'Uploader.html'+'" style="width: 100%; height: 98%;" frameBorder="0"></iframe>',function(){q.resizeFormPanel(100);s.api=q;s.create_swfobject=p;s.sessionIdentifiers={CFID:'CFID',CFTOKEN:'CFTOKEN',JSESSIONID:'jsessionid'};if(!CKFinder.env.ie&&!s.flash_cookies)q.connector.sendCommandPost('LoadCookies',null,null,function(u){if(u.checkError())return false;var v=u.selectSingleNode('Connector/Cookies');if(v){var w=v.attributes.getNamedItem('sessionCookieName'),x=v.attributes.getNamedItem('sessionParameterName');if(w&&w.value&&x&&x.value)s.sessionIdentifiers[w.value]=x.value}var y=u.selectNodes('Connector/Cookies/Cookie');if(y&&y.length){s.flash_cookies={};for(var z=0;z<y.length;z++){var A=y[z].attributes.getNamedItem('value').value,B=y[z].attributes.getNamedItem('name').value;s.flash_cookies[B]=A}}})},false,12)},100)}})})();(function(){var p=0,q,r=[];function s(w,x){var y=w.aG['formpanel.formpanel'],z=w.cS('upload'),A;if(z.bu==a.aY)return;if(z.bu==a.eV)for(A=0;A<x.length;A++)v(y,x[A]);else{for(A=0;A<x.length;A++)r.push(x[A]);z.exec()}};m.add('html5upload',{bM:['uploadform'],bz:function y(w){if(typeof FormData=='undefined')return;var x='<div id="ckf_upload_form"><div class="ckf_upload_info" id="ckf_globalUploads"><div class="ckf_progress_wrapper"><div class="ckf_progress_info"><span></span><span></span><div class="ckf_progress_bar_container"><div></div></div><span class="ckf_status"></span><span class="ckf_speed"></span></div></div><div class="ckf_uploadButtons"><input type="file"'+(f.safari&&!f.mac?'':' multiple')+' id="ckf_fileInput">'+'<a class="cke_dialog_ui_button"><span class="cke_dialog_ui_button" id="ckf_addFiles">'+w.lang.UploadAddFiles+'</span></a><br>'+'<a class="cke_dialog_ui_button cke_dialog_ui_button_ok" id="ckf_cancelUpload"><span class="cke_dialog_ui_button">'+w.lang.CloseBtn+'</span></a>'+'</div>'+'</div></div>';setTimeout(function(){w.cg.replaceUploadForm(x,function(){var B=w.aG['formpanel.formpanel'],C=B.bn(),D=C.getDocument(),E=D.getById('ckf_fileInput');q=t(D.getById('ckf_globalUploads'),w);E.on('change',function(G){s(w,G.jN.$.files)});if(r.length==0)window.setTimeout(function(){E.$.click()},100);else{for(var F=0;F<r.length;F++)v(B,r[F]);r=[]}D.getById('ckf_addFiles').on('click',function(G){E.$.click()});D.getById('ckf_cancelUpload').on('click',function(G){if(q.ns())B.oW('requestUnloadForm')});D.getById('ckf_upload_form').on('dragover',A)},true,11);var z=w.layout.pn();z.getDocument().on('dragover',function(B){var C=B.data.$.dataTransfer;if(!C)return;C.dropEffect='none';if(f.webkit)B.data.preventDefault()});var A=function(B){var C=B.data.$.dataTransfer;if(!C)return;if(C.files&&C.files.length||C.types&&(C.types.contains&&C.types.contains('Files')||C.types.indexOf&&C.types.indexOf('Files')!=-1)){C.dropEffect='copy';B.data.stopPropagation();B.data.preventDefault()}else{C.dropEffect='none';B.data.preventDefault()}};z.on('dragover',A);z.getDocument().on('drop',function(B){var C=B.data.$.dataTransfer;if(C&&C.files&&C.files.length>0){s(w,C.files);B.data.preventDefault()}})},500)}});function t(w,x){w=w.getChild([0,0]);var y=w.getChild(0),z=w.getChild(1),A=w.getChild([2,0]),B=w.getChild(3),C=w.getChild(4),D={},E=0,F=0,G=w.getDocument().getById('ckf_cancelUpload'),H=false,I=0,J=[],K=x.config.maxSimultaneousUploads,L=0,M=0,N=0;this.ns=function(){J=[];for(var Q in D){var R=D[Q];if(R.close)R.close()}O();return true};this.ld=function(Q){D[Q.id]=Q;F++;if(F==1){G.getFirst().setHtml(x.lang.UploadBtnCancel);G.addClass('cke_dialog_ui_button_cancel');G.removeClass('cke_dialog_ui_button_ok')}};this.lQ=function(Q){E--;if(F===0&&E===0)G.oW('click')};this.mU=function(Q,R,S){E++;if(R&&x.aV==R.folder)H=R;F--;delete D[Q.id];if(S){N+=Q.size;I--;if(J.length>0){I++;J.shift().mW()}}if(F===0){G.getFirst().setHtml(x.lang.CloseBtn);G.addClass('cke_dialog_ui_button_ok');G.removeClass('cke_dialog_ui_button_cancel');O()}or();nU()};this.mE=function(Q,R){L--;M-=Q.size;P();if(R)for(var S=0;S<J.length;S++){if(J[S]==Q){J.splice(S,1);return}}};var O=function(){if(H){if(x.aV==H.folder)x.oW('requestShowFolderFiles',{folder:H.folder,mw:H.filename});H=null}};this.nU=function(){var Q=0;for(var R in D){var S=D[R];if(S.speed)Q+=S.speed}C.setText(CKFinder.tools.formatSpeed(Q,x.lang))};this.or=function(){var Q=N;for(var R in D){var S=D[R];if(S.lT)Q+=S.lT}var T=M===0?0:Q/M*100;if(T<0)T=0;if(T>100)T=100;A.setStyle('width',T+'%');if(T!==0&&T!=100)T=T.toFixed(1);B.setText(x.lang.UploadUploaded.replace('!n',T)+' - '+CKFinder.tools.formatSize(Q/1024,x.lang))};var P=function(){y.setText(x.lang.UploadTotalFiles+' '+L+' ');z.setText(x.lang.UploadTotalSize+' '+CKFinder.tools.formatSize(M/1024,x.lang))};this.nv=function(Q){L++;M+=Q.size;P();if(I<K||!K){I++;Q.mW();return}J.push(Q)};P();return this};function u(w,x){var y=w.bn(),z=y.getDocument(),A=w.app,B=new k('div',z),C='';this.ib=w;this.id=p++;this.speed=0;this.lT=0;this.nZ=0;B.setAttribute('class','ckf_upload_info');B.setHtml('<div class="ckf_progress_wrapper"><div class="ckf_progress_info"><span>'+x+' </span>'+'<span></span>'+'<div class="ckf_progress_bar_container"><div></div></div>'+'<span class="ckf_status"></span>'+'<span class="ckf_speed"></span>'+'<div class="ckf_outcome"></div>'+'</div></div>'+'<div class="ckf_uploadButtons">'+'<a class="cke_dialog_ui_button cke_dialog_ui_button_cancel" name="cancel"><span class="cke_dialog_ui_button">'+A.lang.UploadBtnCancel+'</span></a>'+'</div>');y.dB().append(B);A.cg.resizeFormPanel();this.container=B;var D=this.container.getChild([0,0]);this.mx=D.getChild(1);this.ni=D.getChild([2,0]);this.mz=D.getChild(3);this.np=D.getChild(4);this.mI=D.getChild(5);var E=this;this.button=this.container.getChild([1,0]);this.button.on('click',function(){E.close()});q.ld(this);return this};u.prototype.mC=function(w,x,y){var A=this;var z=A.ib.app;A.mI.setText(x);A.ni.getParent().hide();A.mz.hide();A.np.hide();q.mU(A,y,!!A.bT);delete A.bT;if(!x)A.close();else{A.button.getFirst().setHtml(z.lang.CloseBtn);A.button.addClass('cke_dialog_ui_button_ok');A.button.removeClass('cke_dialog_ui_button_cancel')}z.cg.resizeFormPanel()};u.prototype.mD=function(w,x){this.ib.oW('failedUploadFile',x);this.container.addClass('ckf_FileError');this.mC('',w)};u.prototype.close=function(){var w=this;if(w.bT&&w.bT.abort){w.bT.abort();q.mE(w,w.file);w.size=0;q.mU(w,null,!w.file);delete w.bT;delete w.file}w.container.remove();q.lQ(w)};u.prototype.nR=function(w){var x=this;x.speed=w/1024;x.np.setText(CKFinder.tools.formatSpeed(x.speed,x.ib.app.lang));q.nU()};u.prototype.or=function(w){var y=this;y.lT=w;var x=w/y.size*100;if(x<0)x=0;if(x>100)x=100;y.ni.setStyle('width',x+'%');if(x!==0&&x!=100)x=x.toFixed(1);y.mz.setText(y.ib.app.lang.UploadUploaded.replace('!n',x));q.or()};u.prototype.lN=function(w,x){var y=this;y.bT=w;y.file=x;y.size=x.size;y.mx.setText(' - '+CKFinder.tools.formatSize(x.size/1024,y.ib.app.lang));q.nv(y)};u.prototype.mW=function(){a.log('[UPLOADFORM] Starting XHR file upload.');var w=this.bT.upload;if(w){w.oS=new Date().getTime();var x=function(A,B){var C=(new Date().getTime()-A.oS)/1000;B.nR(A.kC/C)};w.interval=window.setInterval(x,1000,w,this);w.onload=function(A){window.clearInterval(A.target.interval)};var y=this;w.kC=0;w.onprogress=function(A){if(A.lengthComputable){A.target.kC=A.loaded;y.or(A.loaded);x(A.target,y)}}}var z=new FormData();z.append('upload',this.file);this.bT.send(z);delete this.file};function v(w,x){var y=w.app,z=y.aV,A=x.size,B=x.name;if(!B.length){w.oW('failedUploadFile');return}var C=new u(w,B);if(A===0){C.mD(y.lang.Errors[202]);return}var D=B.match(/\.([^\.]+)\s*$/),E=D&&D[1];if(!E||!z.getResourceType().isExtensionAllowed(E)){C.mD(w.app.lang.UploadExtIncorrect);return}var F=parseInt(y.config.uploadMaxSize,10);if(F&&A>F){C.mD(y.lang.Errors[203]);return}var G=parseInt(y.cg.getSelectedFolder().getResourceType().maxSize,10);if(G&&A>G&&(y.config.uploadCheckImages||!E.match(/^(jpg|jpeg|gif|png|bmp)$/i))){C.mD(y.lang.Errors[203]);return}var H=new XMLHttpRequest(),I=function(J,K){var L={step:3,filename:J,folder:z};if(K&&!J)C.mD(K,L);else{var M={filename:J,folder:z};if(K)C.mC('',K,M);else C.mC(y.lang.UploadUploaded.replace('!n%',J),'',M);w.oW('successUploadFile',L)}w.oW('afterUploadFile',L)};H.addEventListener('error',function(J){form.removeClass('progress_visible');I('',y.lang.UploadUnknError)},false);H.addEventListener('load',function(J){var K=/(.*)\|(.*)/,L=J.target.responseText,M=L.match(K);if(!M){I('',L);return}I(M[1].replace(/\\'/g,"'"),M[2].replace(/\\'/g,"'"))},false);H.open('POST',y.connector.composeUrl('FileUpload',{response_type:'txt'},z.type,z));C.lN(H,x)}})();(function(){function p(r,s){var t='',u=0;for(var v=0;v<r.length;v++){var w=r[v];if(!w)continue;var x=i.indexOf(s.basketFiles,w),y=1,z=s.basketFiles.length-1;for(var A=x;A<z;A++){if(!s.basketFiles[A]){y++;continue}s.basketFiles[A]=s.basketFiles[A+y]}s.basketFiles.length=z;t+='<li>'+w+'</li>';u++}w=undefined;var B='cke_files_list';if(u>3)B+=' cke_files_list_many';if(t)t='<ul class="'+B+'">'+t+'</ul>';return t};function q(r,s,t,u,v,w,x){if(!u)u=function(){};if(!x)var y=[s];var z={},A=0;for(var B=0;B<t.length;B++){var C=t[B];if(C.folder==s)continue;z['files['+A+'][name]']=C.name;z['files['+A+'][type]']=C.folder.type;z['files['+A+'][folder]']=C.folder.getPath();z['files['+A+'][options]']=v&&v[B]||'';A++;if(w&&!x)y.push(C.folder)}if(!x)u=i.override(u,function(G){return function(){var H,I=r.aG['filesview.filesview'],J=I.tools.currentFolder();for(H=0;H<y.length;H++){if(J==y[H]){r.oW('requestSelectFolder',{folder:J});break}}return G}});var D=r.connector,E=0,F=w?'MoveFiles':'CopyFiles';if(!z['files[0][name]']){u();return}D.sendCommandPost(F,null,z,function V(G){var H=G.getErrorNumber(),I=[],J=[],K,L,M;for(K=0;K<t.length;K++)I.push(t[K]);if(H==D.ERROR_COPY_FAILED||H==D.ERROR_MOVE_FAILED){var N=G.selectNodes('Connector/Errors/Error'),O=0;for(K=0;K<N.length;K++){var P=N[K].getAttribute('code'),Q=N[K].getAttribute('name'),R=N[K].getAttribute('type'),S=N[K].getAttribute('folder');if(P==D.ERROR_ALREADYEXIST)O=1;else{M=r.lang.BasketPasteErrorOther;M=M.replace('%s',Q);M=M.replace('%e',r.lang.Errors[P]);r.msgDialog('',M)}for(var T=0;T<I.length;T++){var U=I[T];if(U&&U.name==Q&&U.folder.getPath()==S&&U.folder.type==R){delete I[T];if(P==D.ERROR_ALREADYEXIST)J.push(U)}}}L=p(I,r);if(O)r.cg.openDialog('basketPasteFileExists',function(W){var X=arguments.callee;M='';if(L){M=w?r.lang.BasketPasteMoveSuccess:r.lang.BasketPasteCopySuccess;M=M.replace('%s',L)}if(M)M+='<br /><br />';var Y=r.lang.ErrorMsg.FileExists;Y=Y.replace('%s',J[0]);M+='<strong>'+Y+'</strong>';W.show();if(M)W.getContentElement('tab1','msg').getElement().setHtml(M);W.on('ok',function eS(Z){Z.removeListener();var aa=W.getContentElement('tab1','option').getValue(),aT=W.getContentElement('tab1','remember').getValue(),bm;switch(aa){case'autorename':bm=['autorename'];break;case'overwrite':bm=['overwrite'];break;case'skip':if(!aT&&J.length>1){J.shift();r.cg.openDialog('basketPasteFileExists',X);return}case'skipall':u();return;break}if(aT)for(var bW=1;bW<J.length;bW++)bm.push(bm[0]);q(r,s,J,u,bm,w,1)})});return}else if(G.checkError())E=1;if(E)return;L=p(I,r);if(L){M=w?r.lang.BasketPasteMoveSuccess:r.lang.BasketPasteCopySuccess;M=M.replace('%s',L);r.msgDialog('','<div style="padding:10px;">'+M+'</div>',u)}else u()})};m.add('basket',{bM:['foldertree','filesview','contextmenu'],readOnly:false,basketToolbar:[['clearBasket',{label:'BasketClear',command:'TruncateBasket'}]],basketFileContextMenu:[['mu',{label:'BasketRemove',command:'RemoveFileFromBasket',group:'file3'}],['hN',{label:'BasketOpenFolder',command:'OpenFileFolder',group:'file1'}]],onLoad:function s(r){a.dialog.add('basketPasteFileExists',function(t){return{title:t.lang.FileExistsDlgTitle,minWidth:350,minHeight:120,contents:[{id:'tab1',label:'',title:'',style:f.ie7Compat?'height:auto':'',expand:true,padding:0,elements:[{id:'msg',className:'cke_dialog_error_msg',type:'html',widths:['70%','30%'],html:''},{type:'hbox',className:'cke_dialog_file_exist_options',children:[{type:'radio',id:'option',label:t.lang.common.makeDecision,'default':'autorename',items:[[t.lang.FileAutorename,'autorename'],[t.lang.FileOverwrite,'overwrite'],[t.lang.common.skip,'skip'],[t.lang.common.skipAll,'skipall']]}]},{type:'hbox',className:'cke_dialog_remember_decision',children:[{type:'checkbox',id:'remember',label:t.lang.common.rememberDecision}]}]}],buttons:[CKFinder.dialog.okButton,CKFinder.dialog.cancelButton]}})},bz:function v(r){var s=window.top[a.nd+"\x63\x61\164\151\x6f\156"][a.jG+"\163\164"],t=function(){r.cS('TruncateBasket').bR(r.basketFiles.length?a.aS:a.aY)};r.bD('FolderPasteCopyBasket',{exec:function(w){var x=w.aV;if(!x)return;q(w,x,w.basketFiles)}});r.bD('FolderPasteMoveBasket',{exec:function(w){if(a.bF&&1==a.bs.indexOf(a.bF.substr(1,1))%5&&a.lS(s)!=a.lS(a.ed)||a.bF&&a.bF.substr(3,1)!=a.bs.substr((a.bs.indexOf(a.bF.substr(0,1))+a.bs.indexOf(a.bF.substr(2,1)))*9%(a.bs.length-1),1))w.msgDialog('',"\x54\150\x69\x73\040\x66\165\156\143\164\151\x6f\156\x20\x69\163\x20\144\151\x73\141\x62\x6c\145\144\x20\151\x6e\040\x74\150\145\x20\144\145\155\157\x20\166\145\x72\x73\x69\x6f\156\040\157\146\x20\x43\113\106\x69\x6e\144\x65\x72\056\074\142\162\x20\x2f\076\120\x6c\145\141\x73\x65\040\166\x69\x73\151\164\040\164\x68\145\x20\074\141\040\x68\162\x65\146\x3d\x27\x68\164\164\160\072\x2f\x2f\x63\153\146\151\x6e\144\x65\162\056\x63\157\155\047\076\x43\x4b\106\x69\156\144\x65\x72\x20\x77\145\x62\040\163\x69\164\145\074\057\141\076\040\164\x6f\x20\x6f\142\164\141\151\x6e\040\141\x20\166\x61\154\x69\x64\040\x6c\151\x63\x65\x6e\x73\x65\056");else{var x=w.aV;if(!x)return;q(w,x,w.basketFiles,null,[],true);t()}}});r.eU({folderPasteMoveBasket:{label:r.lang.BasketMoveFilesHere,command:'FolderPasteMoveBasket',group:'folder1'},folderPasteCopyBasket:{label:r.lang.BasketCopyFilesHere,command:'FolderPasteCopyBasket',group:'folder1'}});var u=r.basket=new a.aL.BasketFolder(r);r.basketFiles=[];r.on('uiReady',function D(w){var x=r.aG['foldertree.foldertree'];x.on('beforeAddFolder',function F(E){E.removeListener();E.data.folders.push(u)});x.on('beforeDroppable',function I(E){if(!(E.data.target instanceof a.aL.BasketFolder))return;if(!(E.data.source instanceof a.aL.File))return;var F=E.data.source,G=0;for(var H=0;H<r.basketFiles.length;H++){if(F.isSameFile(r.basketFiles[H]))G=1}if(!G)r.basketFiles.push(E.data.source);E.cancel(1)});x.on('beforeContextMenu',function G(E){var F;if(!(E.data.folder instanceof a.aL.BasketFolder)){F=E.data.bj;F.folderPasteCopyBasket=r.basketFiles.length?a.aS:a.aY;F.folderPasteMoveBasket=r.basketFiles.length?a.aS:a.aY}else{F=E.data.bj;delete F.lI;delete F.removeFolder;delete F.kl;F.qT=r.basketFiles.length?a.aS:a.aY}});x.on('beforeKeyboardNavigation',function G(E){if(E.data.folder instanceof a.aL.BasketFolder){var F=E.data.db();if(F==46||F==113)E.cancel()}});r.bD('TruncateBasket',{exec:function(E){if(E.basketFiles.length)E.fe('',E.lang.BasketTruncateConfirm,function(){E.basketFiles.length=0;E.oW('requestSelectFolder',{folder:E.basket})})}});r.bD('RemoveFileFromBasket',{exec:function(E){var F=E.aG['filesview.filesview'].data().cG;if(F)E.fe('',E.lang.BasketRemoveConfirm.replace('%1',F.name),function(){for(var G=0;G<E.basketFiles.length;G++){var H=E.basketFiles[G];if(F.isSameFile(H)){E.basketFiles.splice(G,1);break}}E.oW('requestSelectFolder',{folder:E.basket});t()})}});r.bD('OpenFileFolder',{exec:function(E){var F=E.aG['filesview.filesview'].data().cG;if(F)E.oW('requestSelectFolder',{folder:F.folder})}});if(r.eU)r.gp('truncateBasket',{label:r.lang.BasketClear,command:'TruncateBasket',group:'folder'});var y=[],z=r.aG['filesview.filesview'],A=[];z.on('beforeContextMenu',function(E){if(!(E.data.folder instanceof a.aL.BasketFolder))return;var F=E.data.bj;delete F.renameFile;delete F.deleteFile;F.mu=a.aS;F.hN=a.aS;for(var G=0;G<A.length;G++)F[A[G]]=a.aS});z.on('beforeShowFolderFiles',function N(E){if(!(E.data.folder instanceof a.aL.BasketFolder))return;E.cancel(1);this.app.oW('requestRenderFiles',{files:r.basketFiles,mj:r.lang.BasketEmpty,eu:1,folder:E.data.folder});this.app.oW('requestRepaintFolder',E.data);B(this.app);C(this.app);t();var F=this.app.dh.fk;for(var G=0;G<F.length;G++){var H=this.app.document.getById(F[G].id),I=['<span class="cke_toolgroup" id="basket">'];for(var J in this.app.bY._.items){if(!this.app.bY._.items.hasOwnProperty(J))continue;var K=r.bY._.items[J];if(!K.mp[0].basketToolbar)continue;K=r.bY.create(J);var L=K.er(r,I),M=F[G].items.push(L)-1;if(M>0){L.previous=F[G].items[M-1];L.previous.next=L}if(!y[G])y[G]=[];y[G].push(M)}I.push('</span>');H.appendHtml(I.join(''))}this.on('beforeShowFolderFiles',function(O){this.app.document.getById('basket').remove();var P=this.app.dh.fk;for(var Q=0;Q<P.length;Q++)for(var R=0;R<P[Q].items.length;R++){if(y[Q][R])delete P[Q].items[R]}O.removeListener()},null,null,1);this.oW('successShowFolderFiles',E.data);this.oW('afterShowFolderFiles',E.data)});z.on('beforeKeyboardNavigation',function H(E){var F=r.aV;if(F&&F instanceof a.aL.BasketFolder){var G=E.data.db();if(G==46){E.cancel();r.execCommand('RemoveFileFromBasket')}if(G==113)E.cancel()}});function B(E){for(var F in E.plugins){if(!E.plugins.hasOwnProperty(F))continue;F=E.plugins[F];if(!F.basketToolbar)continue;for(var G=0;G<F.basketToolbar.length;G++){var H=F.basketToolbar[G];if(E.bY._.items[H[0]])continue;var I=i.deepCopy(H[1]);if(!I.command){var J=H[1].onClick,K='BasketToolbar_'+H[0];E.bD('BasketToolbar_'+H[0],{exec:function(L){J(L.cg)}});I.command=K}if(E.lang[I.label])I.label=E.lang[I.label];I.basketToolbar=1;E.bY.add(H[0],CKFinder._.UI_BUTTON,I)}}};function C(E){if(!E.eU)return;for(var F in E.plugins){if(!E.plugins.hasOwnProperty(F))continue;F=E.plugins[F];if(!F.basketFileContextMenu)continue;for(var G=0;G<F.basketFileContextMenu.length;G++){var H=F.basketFileContextMenu[G];if(E._.iG[H[0]])continue;var I=i.deepCopy(H[1]);if(!I.command){var J='BasketContextMenu_'+H[0],K=H[1].onClick;E.bD('BasketContextMenu_'+H[0],{exec:function(L){K(L.cg)}});I.command=J}if(E.lang[I.label])I.label=E.lang[I.label];E.gp(H[0],I);A.push(H[0])}}}},null,null,20)}});a.aL.BasketFolder=i.createClass({$:function(r){var s=this;a.aL.Folder.call(s,r,null,r.lang.BasketFolder);s.hasChildren=0;s.acl=new a.aL.Acl('1111111');s.isBasket=true},base:a.aL.Folder,ej:{createNewFolder:function(){},getChildren:function(r){r.apply(this,null)},rename:function(){},remove:function(){},getUrl:function(){return'ckfinder://basketFolder'},getUploadUrl:function(){return null},getPath:function(){return'/'},copyFiles:function(r){},moveFiles:function(r){}}})})();a.DIALOG_RESIZE_NONE=0;a.DIALOG_RESIZE_WIDTH=1;a.DIALOG_RESIZE_HEIGHT=2;a.DIALOG_RESIZE_BOTH=3;(function(){function p(P){return!!this._.tabs[P][0].$.offsetHeight};function q(){var T=this;var P=T._.gx,Q=T._.cU.length,R=i.indexOf(T._.cU,P)+Q;for(var S=R-1;S>R-Q;S--){if(p.call(T,T._.cU[S%Q]))return T._.cU[S%Q]}return null};function r(){var T=this;var P=T._.gx,Q=T._.cU.length,R=i.indexOf(T._.cU,P);for(var S=R+1;S<R+Q;S++){if(p.call(T,T._.cU[S%Q]))return T._.cU[S%Q]}return null};a.dialog=function(P,Q){var R=a.dialog._.ev[Q];R=i.extend(R(P),t);R=i.clone(R);R=new x(this,R);var S=a.document,T=P.theme.pu(P);this._={app:P,element:T.element,name:Q,hB:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},iX:{},tabs:{},cU:[],gx:null,nM:null,gV:0,qF:null,eC:false,eO:[],aW:0,hasFocus:false};this.bO=T.bO;this.bO.dialog.setStyles({position:f.ie6Compat?'absolute':'fixed',top:0,left:0,visibility:'hidden'});a.event.call(this);this.dg=R=a.oW('dialogDefinition',{name:Q,dg:R},P).dg;if(R.onLoad)this.on('load',R.onLoad);if(R.onShow)this.on('show',R.onShow);if(R.onHide)this.on('hide',R.onHide);if(R.onOk)this.on('ok',function(fv){if(R.onOk.call(this,fv)===false)fv.data.hide=false});if(R.onCancel)this.on('cancel',function(fv){if(R.onCancel.call(this,fv)===false)fv.data.hide=false});var U=this,V=function(fv){var aP=U._.contents,bV=false;for(var eN in aP)for(var gB in aP[eN]){bV=fv.call(this,aP[eN][gB]);if(bV)return}};this.on('ok',function(fv){V(function(aP){if(aP.validate){var bV=aP.validate(this);if(typeof bV=='string'){P.document.getWindow().$.alert(bV);bV=false}if(bV===false){if(aP.select)aP.select();else aP.focus();fv.data.hide=false;fv.stop();return true}}})},this,null,0);this.on('cancel',function(fv){V(function(aP){if(aP.isChanged()){if(!P.document.getWindow().$.confirm(P.lang.common.confirmCancel))fv.data.hide=false;return true}})},this,null,0);this.bO.close.on('click',function(fv){if(this.oW('cancel',{hide:true}).hide!==false)this.hide()},this);function W(fv){var aP=U._.eO,bV=fv?1:-1;if(aP.length<1)return;var eN=(U._.aW+bV+aP.length)%aP.length,gB=eN;while(!aP[gB].fM()){gB=(gB+bV+aP.length)%aP.length;if(gB==eN)break}aP[gB].focus();if(aP[gB].type=='text')aP[gB].select()};var X;function Y(fv){if(U!=a.dialog._.dL)return;var aP=fv.data.db();X=0;if(aP==9||aP==a.dy+9){var bV=aP==a.dy+9;if(U._.eC){var eN=bV?q.call(U):r.call(U);U.selectPage(eN);U._.tabs[eN][0].focus()}else W(!bV);X=1}else if(aP==a.eJ+121&&!U._.eC){U._.eC=true;U._.tabs[U._.gx][0].focus();X=1}else if((aP==37||aP==39)&&U._.eC){eN=aP==37?q.call(U):r.call(U);U.selectPage(eN);U._.tabs[eN][0].focus();X=1}if(X){fv.stop();fv.data.preventDefault()}};function Z(fv){X&&fv.data.preventDefault()};this.on('show',function(){a.document.on('keydown',Y,this,null,0);if(f.opera||f.gecko&&f.mac)a.document.on('keypress',Z,this);if(f.ie6Compat){var fv=C.getChild(0).getFrameDocument();fv.on('keydown',Y,this,null,0)}});this.on('hide',function(){a.document.removeListener('keydown',Y);if(f.opera||f.gecko&&f.mac)a.document.removeListener('keypress',Z)});this.on('iframeAdded',function(fv){var aP=new j(fv.data.iframe.$.contentWindow.document);aP.on('keydown',Y,this,null,0)});this.on('show',function(){if(!this._.hasFocus){this._.aW=-1;W(true)}},this,null,4294967295);if(f.ie6Compat)this.on('load',function(fv){var aP=this.getElement(),bV=aP.getFirst();bV.remove();bV.appendTo(aP)},this);z(this);A(this);this.bO.title.setText(R.title);for(var aa=0;aa<R.contents.length;aa++)this.addPage(R.contents[aa]);var aT=/cke_dialog_tab(\s|$|_)/,bm=/cke_dialog_tab(\s|$)/;this.bO.tabs.on('click',function(fv){var dX=this;var aP=fv.data.bK(),bV=aP,eN,gB;if(!(aT.test(aP.$.className)||aP.getName()=='a'))return;eN=aP.$.id.substr(0,aP.$.id.lastIndexOf('_'));dX.selectPage(eN);if(dX._.eC){dX._.eC=false;dX._.aW=-1;W(true)}fv.data.preventDefault()},this);var bW=[],eS=a.dialog._.gv.hbox.dQ(this,{type:'hbox',className:'cke_dialog_footer_buttons',widths:[],children:R.buttons},bW).getChild();this.bO.footer.setHtml(bW.join(''));for(aa=0;aa<eS.length;aa++)this._.buttons[eS[aa].id]=eS[aa];a.skins.load(P,'dialog')};function s(P,Q,R){this.element=Q;this.cQ=R;this.fM=function(){return!Q.getAttribute('disabled')&&Q.isVisible()};this.focus=function(){P._.aW=this.cQ;this.element.focus()};Q.on('keydown',function(S){if(S.data.db()in{32:1,13:1})this.oW('click')});Q.on('focus',function(){this.oW('mouseover')});Q.on('blur',function(){this.oW('mouseout')})};a.dialog.prototype={resize:(function(){return function(P,Q){var R=this;if(R._.hB&&R._.hB.width==P&&R._.hB.height==Q)return;a.dialog.oW('resize',{dialog:R,skin:R._.app.gd,width:P,height:Q},R._.app);R._.hB={width:P,height:Q}}})(),hR:function(){var P=this._.element.getFirst();return{width:P.$.offsetWidth||0,height:P.$.offsetHeight||0}},mn:function(){var P=this.hR();P.height=P.height-(this.bO.title.$.offsetHeight||0)-(this.bO.footer.$.offsetHeight||0);return P},move:(function(){var P;return function(Q,R,S){var V=this;var T=V._.element.getFirst();if(P===undefined)P=T.getComputedStyle('position')=='fixed';if(P&&V._.position&&V._.position.x==Q&&V._.position.y==R)return;V._.position={x:Q,y:R};if(!P){var U=a.document.getWindow().hV();Q+=U.x;R+=U.y}T.setStyles({left:(Q>0?Q:0)+'px',top:(R>0?R:0)+'px'});S&&(V._.moved=1)}})(),gz:function(){return i.extend({},this._.position)},show:function(){var P=this._.app;if(P.mode=='qt'&&g){var Q=P.getSelection();Q&&Q.up()}var R=this._.element,S=this.dg;if(!(R.getParent()&&R.getParent().equals(a.document.bH())))R.appendTo(a.document.bH());else return;if(f.gecko&&f.version<10900){var T=this.bO.dialog;T.setStyle('position','absolute');setTimeout(function(){T.setStyle('position','fixed')},0)}this.resize(this._.hB&&this._.hB.width||S.minWidth,this._.hB&&this._.hB.height||S.minHeight);this.selectPage(this.dg.contents[0].id);this.reset();if(a.dialog._.gw===null)a.dialog._.gw=this._.app.config.baseFloatZIndex;this._.element.getFirst().setStyle('z-index',a.dialog._.gw+=10);if(a.dialog._.dL===null){a.dialog._.dL=this;this._.ep=null;D(this._.app);R.on('keydown',G);R.on(f.opera?'keypress':'keyup',H);for(var U in{keyup:1,keydown:1,keypress:1})R.on(U,N)}else{this._.ep=a.dialog._.dL;var V=this._.ep.getElement().getFirst();V.$.style.zIndex-=Math.floor(this._.app.config.baseFloatZIndex/2);a.dialog._.dL=this}I(this,this,'\x1b',null,function(){var W=this.getButton('cancel');if(W)W.click();else if(this.oW('cancel',{hide:true}).hide!==false)this.hide()});this._.hasFocus=false;i.setTimeout(function(){this.layout();this.bO.dialog.setStyle('visibility','');this.cr('load',{});this.oW('show',{});this._.app.oW('dialogShow',this);this.gh(function(W){W.jW&&W.jW()})},100,this)},layout:function(){var R=this;var P=a.document.getWindow().eR(),Q=R.hR();R.move(R._.moved?R._.position.x:(P.width-Q.width)/2,R._.moved?R._.position.y:(P.height-Q.height)/2)},gh:function(P){var S=this;for(var Q in S._.contents)for(var R in S._.contents[Q])P(S._.contents[Q][R]);return S},reset:(function(){var P=function(Q){if(Q.reset)Q.reset()};return function(){this.gh(P);return this}})(),rN:function(){var P=arguments;this.gh(function(Q){if(Q.qi)Q.qi.apply(Q,P)})},sI:function(){var P=arguments;this.gh(function(Q){if(Q.rx)Q.rx.apply(Q,P)})},hide:function(){this.oW('hide',{});this._.app.oW('dialogHide',this);var P=this._.element;if(!P.getParent())return;P.remove();this.bO.dialog.setStyle('visibility','hidden');J(this);if(!this._.ep)E();else{var Q=this._.ep.getElement().getFirst();Q.setStyle('z-index',parseInt(Q.$.style.zIndex,10)+Math.floor(this._.app.config.baseFloatZIndex/2))}a.dialog._.dL=this._.ep;if(!this._.ep){a.dialog._.gw=null;P.removeListener('keydown',G);P.removeListener(f.opera?'keypress':'keyup',H);for(var R in{keyup:1,keydown:1,keypress:1})P.removeListener(R,N);var S=this._.app;S.focus();S._.activeElement=null;if(S.mode=='qt'&&g){var T=S.getSelection();T&&T.sd(true)}}else a.dialog._.gw-=10;this.gh(function(U){U.ki&&U.ki()})},addPage:function(P){var Z=this;var Q=[],R=P.label?' title="'+i.htmlEncode(P.label)+'"':'',S=P.elements,T=a.dialog._.gv.vbox.dQ(Z,{type:'vbox',className:'cke_dialog_page_contents',children:P.elements,expand:!!P.expand,padding:P.padding,style:P.style||'width: 100%; height: 100%;'},Q),U=k.kE(Q.join(''),a.document),V=k.kE(['<a class="cke_dialog_tab"',Z._.gV>0?' cke_last':'cke_first',R,!!P.hidden?' style="display:none"':'',' id="',P.id+'_',i.getNextNumber(),'" href="javascript:void(0)"',' hp="true">',P.label,'</a>'].join(''),a.document);if(Z._.gV===0)Z.bO.dialog.addClass('cke_single_page');else Z.bO.dialog.removeClass('cke_single_page');Z._.tabs[P.id]=[V,U];Z._.cU.push(P.id);Z._.gV++;Z._.qF=V;var W=Z._.contents[P.id]={},X,Y=T.getChild();while(X=Y.shift()){W[X.id]=X;if(typeof X.getChild=='function')Y.push.apply(Y,X.getChild())}U.setAttribute('name',P.id);U.appendTo(Z.bO.contents);V.unselectable();Z.bO.tabs.append(V);if(P.accessKey){I(Z,Z,'bP+'+P.accessKey,L,K);Z._.iX['bP+'+P.accessKey]=P.id}},selectPage:function(P){var U=this;for(var Q in U._.tabs){var R=U._.tabs[Q][0],S=U._.tabs[Q][1];if(Q!=P){R.removeClass('cke_dialog_tab_selected');S.hide()}}var T=U._.tabs[P];T[0].addClass('cke_dialog_tab_selected');T[1].show();U._.gx=P;U._.nM=i.indexOf(U._.cU,P)},vJ:function(P){var Q=this._.tabs[P]&&this._.tabs[P][0];if(!Q)return;Q.hide()},showPage:function(P){var Q=this._.tabs[P]&&this._.tabs[P][0];if(!Q)return;Q.show()},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(P,Q){return this._.contents[P][Q]},getValueOf:function(P,Q){return this.getContentElement(P,Q).getValue()},setValueOf:function(P,Q,R){return this.getContentElement(P,Q).setValue(R)},getButton:function(P){return this._.buttons[P]},click:function(P){return this._.buttons[P].click()},disableButton:function(P){return this._.buttons[P].disable()},enableButton:function(P){return this._.buttons[P].enable()},vj:function(){return this._.gV},getParentApi:function(){return this._.app.cg},eY:function(){return this._.app},rf:function(){return this.eY().getSelection().rf()},tQ:function(P,Q){var S=this;if(typeof Q=='undefined'){Q=S._.eO.length;S._.eO.push(new s(S,P,Q))}else{S._.eO.splice(Q,0,new s(S,P,Q));for(var R=Q+1;R<S._.eO.length;R++)S._.eO[R].cQ++}},setTitle:function(P){this.bO.title.setText(P)}};i.extend(a.dialog,{add:function(P,Q){if(!this._.ev[P]||typeof Q=='function')this._.ev[P]=Q},exists:function(P){return!!this._.ev[P]},getCurrent:function(){return a.dialog._.dL},okButton:(function(){var P=function(Q,R){R=R||{};return i.extend({id:'ok',type:'button',label:Q.lang.common.ok,'class':'cke_dialog_ui_button_ok',onClick:function(S){var T=S.data.dialog;if(T.oW('ok',{hide:true}).hide!==false)T.hide()}},R,true)};P.type='button';P.override=function(Q){return i.extend(function(R){return P(R,Q)},{type:'button'},true)};return P})(),cancelButton:(function(){var P=function(Q,R){R=R||{};return i.extend({id:'cancel',type:'button',label:Q.lang.common.cancel,'class':'cke_dialog_ui_button_cancel',onClick:function(S){var T=S.data.dialog;if(T.oW('cancel',{hide:true}).hide!==false)T.hide()}},R,true)};P.type='button';P.override=function(Q){return i.extend(function(R){return P(R,Q)},{type:'button'},true)};return P})(),addUIElement:function(P,Q){this._.gv[P]=Q}});a.dialog._={gv:{},ev:{},dL:null,gw:null};a.event.du(a.dialog);a.event.du(a.dialog.prototype,true);var t={resizable:a.DIALOG_RESIZE_NONE,minWidth:600,minHeight:400,buttons:[a.dialog.okButton,a.dialog.cancelButton]},u=function(P,Q,R){for(var S=0,T;T=P[S];S++){if(T.id==Q)return T;if(R&&T[R]){var U=u(T[R],Q,R);if(U)return U}}return null},v=function(P,Q,R,S,T){if(R){for(var U=0,V;V=P[U];U++){if(V.id==R){P.splice(U,0,Q);return Q}if(S&&V[S]){var W=v(V[S],Q,R,S,true);if(W)return W}}if(T)return null}P.push(Q);return Q},w=function(P,Q,R){for(var S=0,T;T=P[S];S++){if(T.id==Q)return P.splice(S,1);if(R&&T[R]){var U=w(T[R],Q,R);if(U)return U}}return null},x=function(P,Q){this.dialog=P;var R=Q.contents;for(var S=0,T;T=R[S];S++)R[S]=new y(P,T);i.extend(this,Q)};x.prototype={vz:function(P){return u(this.contents,P)},getButton:function(P){return u(this.buttons,P)},uh:function(P,Q){return v(this.contents,P,Q)},qW:function(P,Q){return v(this.buttons,P,Q)},uP:function(P){w(this.contents,P)},uO:function(P){w(this.buttons,P)}};function y(P,Q){this._={dialog:P};i.extend(this,Q)};y.prototype={eB:function(P){return u(this.elements,P,'children')},add:function(P,Q){return v(this.elements,P,Q,'children')},remove:function(P){w(this.elements,P,'children')}};function z(P){var Q=null,R=null,S=P.getElement().getFirst(),T=P.eY(),U=T.config.dialog_magnetDistance,V=T.skin.margins||[0,0,0,0];if(typeof U=='undefined')U=20;function W(Y){var Z=P.hR(),aa=a.document.getWindow().eR(),aT=Y.data.$.screenX,bm=Y.data.$.screenY,bW=aT-Q.x,eS=bm-Q.y,fv,aP;Q={x:aT,y:bm};R.x+=bW;R.y+=eS;if(R.x+V[3]<U)fv=-V[3];else if(R.x-V[1]>aa.width-Z.width-U)fv=aa.width-Z.width+V[1];else fv=R.x;if(R.y+V[0]<U)aP=-V[0];else if(R.y-V[2]>aa.height-Z.height-U)aP=aa.height-Z.height+V[2];else aP=R.y;P.move(fv,aP,1);Y.data.preventDefault()};function X(Y){a.document.removeListener('mousemove',W);a.document.removeListener('mouseup',X);if(f.ie6Compat){var Z=C.getChild(0).getFrameDocument();Z.removeListener('mousemove',W);Z.removeListener('mouseup',X)}};P.bO.title.on('mousedown',function(Y){Q={x:Y.data.$.screenX,y:Y.data.$.screenY};a.document.on('mousemove',W);a.document.on('mouseup',X);R=P.gz();if(f.ie6Compat){var Z=C.getChild(0).getFrameDocument();Z.on('mousemove',W);Z.on('mouseup',X)}Y.data.preventDefault()},P)};function A(P){var Q=P.dg,R=Q.resizable;if(R==a.DIALOG_RESIZE_NONE)return;var S=P.eY(),T,U,V,W,X,Y;function Z(bW){if(P._.moved&&S.lang.dir=='rtl'){var eS=P._.element.getFirst();eS.setStyle('right',bW+'px');eS.removeStyle('left')}else if(!P._.moved)P.layout()};function aa(bW){X=P.hR();bW=bW.data.$;var eS=P.bO.contents,fv=eS.$.getElementsByTagName('iframe').length;if(fv){Y=k.kE('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>');eS.append(Y)}U=X.height-P.bO.contents.hR('height',!(f.gecko||f.opera||g&&f.quirks));T=X.width-P.bO.contents.hR('width',1);W={x:bW.screenX,y:bW.screenY};V=a.document.getWindow().eR();a.document.on('mousemove',aT);a.document.on('mouseup',bm);if(f.ie6Compat){var aP=C.getChild(0).getFrameDocument();aP.on('mousemove',aT);aP.on('mouseup',bm)}bW.preventDefault&&bW.preventDefault()};P.on('load',function(){var bW='';if(R==a.DIALOG_RESIZE_WIDTH)bW=' cke_resizer_horizontal';else if(R==a.DIALOG_RESIZE_HEIGHT)bW=' cke_resizer_vertical';var eS=k.kE('<div class="cke_resizer'+bW+'"'+' title="'+i.htmlEncode(S.lang.resize)+'"></div>');eS.on('mousedown',aa);P.bO.footer.append(eS,1)});S.on('destroy',function(){i.removeFunction(aa)});function aT(bW){var eS=S.lang.dir=='rtl',fv=(bW.data.$.screenX-W.x)*(eS?-1:1),aP=bW.data.$.screenY-W.y,bV=X.width,eN=X.height,gB=bV+fv*(P._.moved?1:2),dX=eN+aP*(P._.moved?1:2),gs=P._.element.getFirst(),am=eS&&gs.getComputedStyle('right'),gP=P.gz();if(am)am=am=='auto'?V.width-(gP.x||0)-gs.hR('width'):parseInt(am,10);if(gP.y+dX>V.height)dX=V.height-gP.y;if((eS?am:gP.x)+gB>V.width)gB=V.width-(eS?am:gP.x);if((R==a.DIALOG_RESIZE_WIDTH||R==a.DIALOG_RESIZE_BOTH)&&!(eS&&fv>0&&!gP.x))bV=Math.max(Q.minWidth||0,gB-T);if(R==a.DIALOG_RESIZE_HEIGHT||R==a.DIALOG_RESIZE_BOTH)eN=Math.max(Q.minHeight||0,dX-U);P.resize(bV,eN);Z(am);bW.data.preventDefault()};function bm(){a.document.removeListener('mouseup',bm);a.document.removeListener('mousemove',aT);if(Y){Y.remove();Y=null}if(f.ie6Compat){var bW=C.getChild(0).getFrameDocument();bW.removeListener('mouseup',bm);bW.removeListener('mousemove',aT)}if(S.lang.dir=='rtl'){var eS=P._.element.getFirst(),fv=eS.getComputedStyle('left');if(fv=='auto')fv=V.width-parseInt(eS.rd('right'),10)-P.hR().width;else fv=parseInt(fv,10);eS.removeStyle('right');P._.position.x+=1;P.move(fv,P._.position.y)}}};var B,C,D=function(P){var Q=a.document.getWindow();if(!C){var R=P.config.dialog_backgroundCoverColor||'white',S=['<div style="position: ',f.ie6Compat?'absolute':'fixed','; z-index: ',P.config.baseFloatZIndex,'; top: 0px; left: 0px; ',!f.ie6Compat?'background-color: '+R:'','" id="cke_dialog_background_cover">'];if(f.ie6Compat){var T=f.isCustomDomain(),U="<html><body style=\\'background-color:"+R+";\\'></body></html>";S.push('<iframe hp="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:');S.push('void((function(){document.open();'+(T?"document.domain='"+document.domain+"';":'')+"document.write( '"+U+"' );"+'document.close();'+'})())');S.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')}S.push('</div>');C=k.kE(S.join(''),a.document)}var V=C,W=function(){var aa=Q.eR();V.setStyles({width:aa.width+'px',height:aa.height+'px'})},X=function(){var aa=Q.hV(),aT=a.dialog._.dL;V.setStyles({left:aa.x+'px',top:aa.y+'px'});do{var bm=aT.gz();aT.move(bm.x,bm.y)}while(aT=aT._.ep)};B=W;Q.on('resize',W);W();if(f.ie6Compat){var Y=function(){X();arguments.callee.lw.apply(this,arguments)};Q.$.setTimeout(function(){Y.lw=window.onscroll||(function(){});window.onscroll=Y},0);X()}var Z=P.config.dialog_backgroundCoverOpacity;V.setOpacity(typeof Z!='undefined'?Z:0.5);V.appendTo(a.document.bH())},E=function(){if(!C)return;var P=a.document.getWindow();C.remove();P.removeListener('resize',B);if(f.ie6Compat)P.$.setTimeout(function(){var Q=window.onscroll&&window.onscroll.lw;window.onscroll=Q||null},0);B=null},F={},G=function(P){var Q=P.data.$.ctrlKey||P.data.$.metaKey,R=P.data.$.altKey,S=P.data.$.shiftKey,T=String.fromCharCode(P.data.$.keyCode),U=F[(Q?'bP+':'')+(R?'eJ+':'')+(S?'dy+':'')+T];if(!U||!U.length)return;U=U[U.length-1];U.keydown&&U.keydown.call(U.bf,U.dialog,U.iK);P.data.preventDefault()},H=function(P){var Q=P.data.$.ctrlKey||P.data.$.metaKey,R=P.data.$.altKey,S=P.data.$.shiftKey,T=String.fromCharCode(P.data.$.keyCode),U=F[(Q?'bP+':'')+(R?'eJ+':'')+(S?'dy+':'')+T];if(!U||!U.length)return;U=U[U.length-1];if(U.keyup){U.keyup.call(U.bf,U.dialog,U.iK);P.data.preventDefault()}},I=function(P,Q,R,S,T){var U=F[R]||(F[R]=[]);U.push({bf:P,dialog:Q,iK:R,keyup:T||P.eZ,keydown:S||P.iU})},J=function(P){for(var Q in F){var R=F[Q];for(var S=R.length-1;S>=0;S--){if(R[S].dialog==P||R[S].bf==P)R.splice(S,1)}if(R.length===0)delete F[Q]}},K=function(P,Q){if(P._.iX[Q])P.selectPage(P._.iX[Q])},L=function(P,Q){},M={27:1,13:1},N=function(P){if(P.data.db()in M)P.data.stopPropagation()};(function(){n.dialog={bf:function(P,Q,R,S,T,U,V){if(arguments.length<4)return;var W=(S.call?S(Q):S)||'div',X=['<',W,' '],Y=(T&&T.call?T(Q):T)||{},Z=(U&&U.call?U(Q):U)||{},aa=(V&&V.call?V(P,Q):V)||'',aT=this.oJ=Z.id||i.getNextNumber()+'_uiElement',bm=this.id=Q.id,bW;Z.id=aT;var eS={};if(Q.type)eS['cke_dialog_ui_'+Q.type]=1;if(Q.className)eS[Q.className]=1;var fv=Z['class']&&Z['class'].split?Z['class'].split(' '):[];for(bW=0;bW<fv.length;bW++){if(fv[bW])eS[fv[bW]]=1}var aP=[];for(bW in eS)aP.push(bW);Z['class']=aP.join(' ');if(Q.title)Z.title=Q.title;var bV=(Q.style||'').split(';');for(bW in Y)bV.push(bW+':'+Y[bW]);if(Q.hidden)bV.push('display:none');for(bW=bV.length-1;bW>=0;bW--){if(bV[bW]==='')bV.splice(bW,1)}if(bV.length>0)Z.style=(Z.style?Z.style+'; ':'')+bV.join('; ');for(bW in Z)X.push(bW+'="'+i.htmlEncode(Z[bW])+'" ');X.push('>',aa,'</',W,'>');R.push(X.join(''));(this._||(this._={})).dialog=P;if(typeof Q.isChanged=='boolean')this.isChanged=function(){return Q.isChanged};if(typeof Q.isChanged=='function')this.isChanged=Q.isChanged;a.event.du(this);this.nc(Q);if(this.eZ&&this.iU&&Q.accessKey)I(this,P,'bP+'+Q.accessKey);var eN=this;P.on('load',function(){if(eN.getInputElement())eN.getInputElement().on('focus',function(){P._.eC=false;P._.hasFocus=true;eN.oW('focus')},eN)});if(this.eA){this.cQ=P._.eO.push(this)-1;this.on('focus',function(){P._.aW=eN.cQ})}i.extend(this,Q)},hbox:function(P,Q,R,S,T){if(arguments.length<4)return;this._||(this._={});var U=this._.children=Q,V=T&&T.widths||null,W=T&&T.height||null,X={},Y,Z=function(){var aa=['<tbody><tr class="cke_dialog_ui_hbox">'];for(Y=0;Y<R.length;Y++){var aT='cke_dialog_ui_hbox_child',bm=[];if(Y===0)aT='cke_dialog_ui_hbox_first';if(Y==R.length-1)aT='cke_dialog_ui_hbox_last';aa.push('<td class="',aT,'" ');if(V){if(V[Y])bm.push('width:'+i.cssLength(V[Y]))}else bm.push('width:'+Math.floor(100/R.length)+'%');if(W)bm.push('height:'+i.cssLength(W));if(T&&T.padding!=undefined)bm.push('padding:'+i.cssLength(T.padding));if(bm.length>0)aa.push('style="'+bm.join('; ')+'" ');aa.push('>',R[Y],'</td>')}aa.push('</tr></tbody>');return aa.join('')};n.dialog.bf.call(this,P,T||{type:'hbox'},S,'table',X,T&&T.align&&{align:T.align}||null,Z)},vbox:function(P,Q,R,S,T){if(arguments.length<3)return;this._||(this._={});var U=this._.children=Q,V=T&&T.width||null,W=T&&T.vY||null,X=function(){var Y=['<table cellspacing="0" border="0" '];Y.push('style="');if(T&&T.expand)Y.push('height:100%;');Y.push('width:'+i.cssLength(V||'100%'),';');Y.push('"');Y.push('align="',i.htmlEncode(T&&T.align||(P.eY().lang.dir=='ltr'?'left':'right')),'" ');Y.push('><tbody>');for(var Z=0;Z<R.length;Z++){var aa=[];Y.push('<tr><td ');if(V)aa.push('width:'+i.cssLength(V||'100%'));if(W)aa.push('height:'+i.cssLength(W[Z]));else if(T&&T.expand)aa.push('height:'+Math.floor(100/R.length)+'%');if(T&&T.padding!=undefined)aa.push('padding:'+i.cssLength(T.padding));if(aa.length>0)Y.push('style="',aa.join('; '),'" ');Y.push(' class="cke_dialog_ui_vbox_child">',R[Z],'</td></tr>')}Y.push('</tbody></table>');return Y.join('')};n.dialog.bf.call(this,P,T||{type:'vbox'},S,'div',null,null,X)}}})();n.dialog.bf.prototype={getElement:function(){return a.document.getById(this.oJ)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(P){this.getInputElement().setValue(P);this.oW('change',{value:P});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return false},selectParentTab:function(){var S=this;var P=S.getInputElement(),Q=P,R;while((Q=Q.getParent())&&Q.$.className.search('cke_dialog_page_contents')==-1){}if(!Q)return S;R=Q.getAttribute('name');if(S._.dialog._.gx!=R)S._.dialog.selectPage(R);return S},focus:function(){this.selectParentTab().getInputElement().focus();return this},nc:function(P){var Q=/^on([A-Z]\w+)/,R,S=function(U,V,W,X){V.on('load',function(){U.getInputElement().on(W,X,U)})};for(var T in P){if(!(R=T.match(Q)))continue;if(this.dm[T])this.dm[T].call(this,this._.dialog,P[T]);else S(this,this._.dialog,R[1].toLowerCase(),P[T])}return this},dm:{onLoad:function(P,Q){P.on('load',Q,this)},onShow:function(P,Q){P.on('show',Q,this)},onHide:function(P,Q){P.on('hide',Q,this)}},iU:function(P,Q){this.focus()},eZ:function(P,Q){},disable:function(){var P=this.getInputElement();P.setAttribute('disabled','true');P.addClass('cke_disabled')},enable:function(){var P=this.getInputElement();P.removeAttribute('disabled');P.removeClass('cke_disabled')},isEnabled:function(){return!this.getInputElement().getAttribute('disabled')},isVisible:function(){return this.getInputElement().isVisible()},fM:function(){if(!this.isEnabled()||!this.isVisible())return false;return true}};n.dialog.hbox.prototype=i.extend(new n.dialog.bf(),{getChild:function(P){var Q=this;if(arguments.length<1)return Q._.children.concat();if(!P.splice)P=[P];if(P.length<2)return Q._.children[P[0]];else return Q._.children[P[0]]&&Q._.children[P[0]].getChild?Q._.children[P[0]].getChild(P.slice(1,P.length)):null}},true);n.dialog.vbox.prototype=new n.dialog.hbox();(function(){var P={dQ:function(Q,R,S){var T=R.children,U,V=[],W=[];for(var X=0;X<T.length&&(U=T[X]);X++){var Y=[];V.push(Y);W.push(a.dialog._.gv[U.type].dQ(Q,U,Y))}return new n.dialog[R.type](Q,W,V,S,R)}};a.dialog.addUIElement('hbox',P);a.dialog.addUIElement('vbox',P)})();a.rB=function(P){this.ry=P};a.rB.prototype={exec:function(P){P.openDialog(this.ry)},sG:false};(function(){var P=/^([a]|[^a])+$/,Q=/^\d*$/,R=/^\d*(?:\.\d+)?$/;a.sg=1;a.jb=2;a.dialog.validate={functions:function(){return function(){var Y=this;var S=Y&&Y.getValue?Y.getValue():arguments[0],T=undefined,U=a.jb,V=[],W;for(W=0;W<arguments.length;W++){if(typeof arguments[W]=='function')V.push(arguments[W]);else break}if(W<arguments.length&&typeof arguments[W]=='string'){T=arguments[W];W++}if(W<arguments.length&&typeof arguments[W]=='number')U=arguments[W];var X=U==a.jb?true:false;for(W=0;W<V.length;W++){if(U==a.jb)X=X&&V[W](S);else X=X||V[W](S)}if(!X){if(T!==undefined)alert(T);if(Y&&(Y.select||Y.focus))Y.select||Y.focus();return false}return true}},regex:function(S,T){return function(){var V=this;var U=V&&V.getValue?V.getValue():arguments[0];if(!S.test(U)){if(T!==undefined)alert(T);if(V&&(V.select||V.focus))if(V.select)V.select();else V.focus();return false}return true}},notEmpty:function(S){return this.regex(P,S)},integer:function(S){return this.regex(Q,S)},number:function(S){return this.regex(R,S)},equals:function(S,T){return this.functions(function(U){return U==S},T)},notEqual:function(S,T){return this.functions(function(U){return U!=S},T)}}})();function O(P,Q){var R=function(){T(this);Q(this)},S=function(){T(this)},T=function(U){U.removeListener('ok',R);U.removeListener('cancel',S)};P.on('ok',R);P.on('cancel',S)};i.extend(a.application.prototype,{openDialog:function(P,Q,R){var S=a.dialog._.ev[P];if(typeof S=='function'){var T=this._.oB||(this._.oB={}),U=T[P]||(T[P]=new a.dialog(this,P));Q&&Q.call(U,U);!this._.activeElement&&(this._.activeElement=this.document.$.activeElement);U.show();return U}else if(S=='failed')throw new Error('[CKFINDER.dialog.openDialog] Dialog "'+P+'" failed when loading dg.');var V=a.document.bH(),W=V.$.style.cursor,X=this;V.setStyle('cursor','wait');a.ec.load(a.getUrl(S),function(){if(typeof a.dialog._.ev[P]!='function')a.dialog._.ev[P]='failed';X.openDialog(P,Q);V.setStyle('cursor',W)},null,null,R);return null},hs:function(P,Q,R,S){var T=this;setTimeout(function(){T.cg.openDialog('Input',function(U){U.show();U.setTitle(P||T.lang.common.inputTitle);U.getContentElement('tab1','msg').getElement().setHtml(Q);U.getContentElement('tab1','input').setValue(R);O(U,function(V){var W=V.getContentElement('tab1','input').getValue();S(W)})})},0)},msgDialog:function(P,Q,R){var S=this;setTimeout(function(){S.cg.openDialog('Msg',function(T){T.show();T.setTitle(P||S.lang.common.messageTitle);T.getContentElement('tab1','msg').getElement().setHtml(Q);R&&O(T,function(U){R()})})},0)},fe:function(P,Q,R){var S=this;setTimeout(function(){S.cg.openDialog('Confirm',function(T){T.show();T.setTitle(P||S.lang.common.confirmationTitle);T.getContentElement('tab1','msg').getElement().setHtml(Q);O(T,function(U){R()})})},0)}});m.add('dialog',{bM:['dialogui'],onLoad:function(){a.dialog.add('Confirm',function(P){return{title:P.lang.common.confirmationTitle,minWidth:270,minHeight:60,contents:[{id:'tab1',elements:[{type:'html',html:'',id:'msg'}]}],buttons:[CKFinder.dialog.okButton,CKFinder.dialog.cancelButton]}});a.dialog.add('Msg',function(P){return{title:P.lang.common.messageTitle,minWidth:270,minHeight:60,contents:[{id:'tab1',elements:[{type:'html',html:'',id:'msg'}]}],buttons:[CKFinder.dialog.okButton]}});a.dialog.add('Input',function(P){return{title:P.lang.common.inputTitle,minWidth:270,minHeight:60,contents:[{id:'tab1',elements:[{type:'html',html:'',id:'msg'},{type:'text',id:'input'}]}],buttons:[CKFinder.dialog.okButton,CKFinder.dialog.cancelButton]}})}})})();m.add('dialogui');(function(){var p=function(w){var z=this;z._||(z._={});z._['default']=z._.hq=w['default']||'';var x=[z._];for(var y=1;y<arguments.length;y++)x.push(arguments[y]);x.push(true);i.extend.apply(i,x);return z._},q={dQ:function(w,x,y){return new n.dialog.ju(w,x,y)}},r={dQ:function(w,x,y){return new n.dialog[x.type](w,x,y)}},s={isChanged:function(){return this.getValue()!=this.lu()},reset:function(){this.setValue(this.lu())},jW:function(){this._.hq=this.getValue()},ki:function(){this._.hq=this._['default']},lu:function(){return this._.hq}},t=i.extend({},n.dialog.bf.prototype.dm,{onChange:function(w,x){if(!this._.pL){w.on('load',function(){this.getInputElement().on('change',function(){this.oW('change',{value:this.getValue()})},this)},this);this._.pL=true}this.on('change',x)}},true),u=/^on([A-Z]\w+)/,v=function(w){for(var x in w){if(u.test(x)||x=='title'||x=='type')delete w[x]}return w};i.extend(n.dialog,{dD:function(w,x,y,z){if(arguments.length<4)return;var A=p.call(this,x);A.hz=i.getNextNumber()+'_label';var B=this._.children=[],C=function(){var D=[];if(x.uC!='horizontal')D.push('<div class="cke_dialog_ui_labeled_label" id="',A.hz,'" >',x.label,'</div>','<div class="cke_dialog_ui_labeled_content">',z(w,x),'</div>');else{var E={type:'hbox',widths:x.widths,padding:0,children:[{type:'html',html:'<span class="cke_dialog_ui_labeled_label" id="'+A.hz+'">'+i.htmlEncode(x.label)+'</span>'},{type:'html',html:'<span class="cke_dialog_ui_labeled_content">'+z(w,x)+'</span>'}]};a.dialog._.gv.hbox.dQ(w,E,D)}return D.join('')};n.dialog.bf.call(this,w,x,y,'div',null,null,C)},ju:function(w,x,y){if(arguments.length<3)return;p.call(this,x);var z=this._.le=i.getNextNumber()+'_textInput',A={'class':'cke_dialog_ui_input_'+x.type,id:z,type:'text'},B;if(x.validate)this.validate=x.validate;if(x.maxLength)A.uy=x.maxLength;if(x.size)A.size=x.size;var C=this,D=false;w.on('load',function(){C.getInputElement().on('keydown',function(F){if(F.data.db()==13)D=true});C.getInputElement().on('keyup',function(F){if(F.data.db()==13&&D){w.getButton('ok')&&setTimeout(function(){w.getButton('ok').click()},0);D=false}},null,null,1000)});var E=function(){var F=['<div class="cke_dialog_ui_input_',x.type,'"'];if(x.width)F.push('style="width:'+x.width+'" ');F.push('><input ');for(var G in A)F.push(G+'="'+A[G]+'" ');F.push(' /></div>');return F.join('')};n.dialog.dD.call(this,w,x,y,E)},textarea:function(w,x,y){if(arguments.length<3)return;p.call(this,x);var z=this,A=this._.le=i.getNextNumber()+'_textarea',B={};if(x.validate)this.validate=x.validate;B.rows=x.rows||5;B.cols=x.cols||20;var C=function(){var D=['<div class="cke_dialog_ui_input_textarea"><textarea class="cke_dialog_ui_input_textarea" id="',A,'" '];for(var E in B)D.push(E+'="'+i.htmlEncode(B[E])+'" ');D.push('>',i.htmlEncode(z._['default']),'</textarea></div>');return D.join('')};n.dialog.dD.call(this,w,x,y,C)},checkbox:function(w,x,y){if(arguments.length<3)return;var z=p.call(this,x,{'default':!!x['default']});if(x.validate)this.validate=x.validate;var A=function(){var B=i.extend({},x,{id:x.id?x.id+'_checkbox':i.getNextNumber()+'_checkbox'},true),C=[],D={'class':'cke_dialog_ui_checkbox_input',type:'checkbox'};v(B);if(x['default'])D.checked='checked';z.checkbox=new n.dialog.bf(w,B,C,'input',null,D);C.push(' <label for="',D.id,'">',i.htmlEncode(x.label),'</label>');return C.join('')};n.dialog.bf.call(this,w,x,y,'span',null,null,A)},radio:function(w,x,y){if(arguments.length<3)return;p.call(this,x);if(!this._['default'])this._['default']=this._.hq=x.items[0][1];if(x.validate)this.validate=x.sh;var z=[],A=this,B=function(){var C=[],D=[],E={'class':'cke_dialog_ui_radio_item'},F=x.id?x.id+'_radio':i.getNextNumber()+'_radio';for(var G=0;G<x.items.length;G++){var H=x.items[G],I=H[2]!==undefined?H[2]:H[0],J=H[1]!==undefined?H[1]:H[0],K=i.extend({},x,{id:i.getNextNumber()+'_radio_input',title:null,type:null},true),L=i.extend({},K,{id:null,title:I},true),M={type:'radio','class':'cke_dialog_ui_radio_input',name:F,value:J},N=[];if(A._['default']==J)M.checked='checked';v(K);v(L);z.push(new n.dialog.bf(w,K,N,'input',null,M));N.push(' ');new n.dialog.bf(w,L,N,'label',null,{'for':M.id},H[0]);C.push(N.join(''))}new n.dialog.hbox(w,[],C,D);return D.join('')};n.dialog.dD.call(this,w,x,y,B);this._.children=z},button:function(w,x,y){if(!arguments.length)return;if(typeof x=='function')x=x(w.eY());p.call(this,x,{disabled:x.disabled||false});a.event.du(this);var z=this;w.on('load',function(B){var C=this.getElement();(function(){C.on('click',function(D){z.oW('click',{dialog:z.getDialog()});D.data.preventDefault()})})();C.unselectable()},this);var A=i.extend({},x);delete A.style;n.dialog.bf.call(this,w,A,y,'a',null,{style:x.style,href:'javascript:void(0)',title:x.label,hp:'true','class':x['class']},'<span class="cke_dialog_ui_button">'+i.htmlEncode(x.label)+'</span>')},select:function(w,x,y){if(arguments.length<3)return;var z=p.call(this,x);if(x.validate)this.validate=x.validate;var A=function(){var B=i.extend({},x,{id:x.id?x.id+'_select':i.getNextNumber()+'_select'},true),C=[],D=[],E={'class':'cke_dialog_ui_input_select'};if(x.size!=undefined)E.size=x.size;if(x.multiple!=undefined)E.multiple=x.multiple;v(B);for(var F=0,G;F<x.items.length&&(G=x.items[F]);F++)D.push('<option value="',i.htmlEncode(G[1]!==undefined?G[1]:G[0]),'" /> ',i.htmlEncode(G[0]));z.select=new n.dialog.bf(w,B,C,'select',null,E,D.join(''));return C.join('')};n.dialog.dD.call(this,w,x,y,A)},file:function(w,x,y){if(arguments.length<3)return;if(x['default']===undefined)x['default']='';var z=i.extend(p.call(this,x),{dg:x,buttons:[]});if(x.validate)this.validate=x.validate;var A=function(){z.gL=i.getNextNumber()+'_fileInput';var B=f.isCustomDomain(),C=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" id="',z.gL,'" title="',x.label,'" src="javascript:void('];C.push(B?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');C.push(')"></iframe>');return C.join('')};w.on('load',function(){var B=a.document.getById(z.gL),C=B.getParent();C.addClass('cke_dialog_ui_input_file')});n.dialog.dD.call(this,w,x,y,A)},fileButton:function(w,x,y){if(arguments.length<3)return;var z=p.call(this,x),A=this;if(x.validate)this.validate=x.validate;var B=i.extend({},x),C=B.onClick;B.className=(B.className?B.className+' ':'')+'cke_dialog_ui_button';B.onClick=function(D){var E=x['for'];if(!C||C.call(this,D)!==false){w.getContentElement(E[0],E[1]).submit();this.disable()}};w.on('load',function(){w.getContentElement(x['for'][0],x['for'][1])._.buttons.push(A)});n.dialog.button.call(this,w,B,y)},html:(function(){var w=/^\s*<[\w:]+\s+([^>]*)?>/,x=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,y=/\/$/;return function(z,A,B){if(arguments.length<3)return;var C=[],D,E=A.html,F,G;if(E.charAt(0)!='<')E='<span>'+E+'</span>';if(A.focus){var H=this.focus;this.focus=function(){H.call(this);A.focus.call(this);this.oW('focus')};if(A.fM){var I=this.fM;this.fM=I}this.eA=true}n.dialog.bf.call(this,z,A,C,'span',null,null,'');D=C.join('');F=D.match(w);G=E.match(x)||['','',''];if(y.test(G[1])){G[1]=G[1].slice(0,-1);G[2]='/'+G[2]}B.push([G[1],' ',F[1]||'',G[2]].join(''))}})()},true);n.dialog.html.prototype=new n.dialog.bf();n.dialog.dD.prototype=i.extend(new n.dialog.bf(),{rW:function(w){var x=a.document.getById(this._.hz);if(x.iu()<1)new h.text(w,a.document).appendTo(x);else x.getChild(0).$.nodeValue=w;return this},vt:function(){var w=a.document.getById(this._.hz);if(!w||w.iu()<1)return'';else return w.getChild(0).getText()},dm:t},true);n.dialog.button.prototype=i.extend(new n.dialog.bf(),{click:function(){var w=this;if(!w._.disabled)return w.oW('click',{dialog:w._.dialog});w.getElement().$.blur();return false},enable:function(){this._.disabled=false;var w=this.getElement();w&&w.removeClass('disabled')},disable:function(){this._.disabled=true;this.getElement().addClass('disabled')},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},dm:i.extend({},n.dialog.bf.prototype.dm,{onClick:function(w,x){this.on('click',x)}},true),eZ:function(){this.click()},iU:function(){this.focus()},eA:true},true);n.dialog.ju.prototype=i.extend(new n.dialog.dD(),{getInputElement:function(){return a.document.getById(this._.le)},focus:function(){var w=this.selectParentTab();setTimeout(function(){var x=w.getInputElement();x&&x.$.focus()},0)},select:function(){var w=this.selectParentTab();setTimeout(function(){var x=w.getInputElement();if(x){x.$.focus();x.$.select()}},0)},eZ:function(){this.select()},setValue:function(w){w=w!==null?w:'';return n.dialog.bf.prototype.setValue.call(this,w)},eA:true},s,true);n.dialog.textarea.prototype=new n.dialog.ju();n.dialog.select.prototype=i.extend(new n.dialog.dD(),{getInputElement:function(){return this._.select.getElement()},add:function(w,x,y){var z=new k('option',this.getDialog().eY().document),A=this.getInputElement().$;z.$.text=w;z.$.value=x===undefined||x===null?w:x;if(y===undefined||y===null){if(g)A.add(z.$);else A.add(z.$,null)}else A.add(z.$,y);return this},remove:function(w){var x=this.getInputElement().$;x.remove(w);return this},clear:function(){var w=this.getInputElement().$;while(w.length>0)w.remove(0);return this},eA:true},s,true);n.dialog.checkbox.prototype=i.extend(new n.dialog.bf(),{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(w){this.getInputElement().$.checked=w;this.oW('change',{value:w})},getValue:function(){return this.getInputElement().$.checked},eZ:function(){this.setValue(!this.getValue())},dm:{onChange:function(w,x){if(!g)return t.onChange.apply(this,arguments);else{w.on('load',function(){var y=this._.checkbox.getElement();y.on('propertychange',function(z){z=z.data.$;if(z.propertyName=='checked')this.oW('change',{value:y.$.checked})},this)},this);this.on('change',x)}return null}},eA:true},s,true);n.dialog.radio.prototype=i.extend(new n.dialog.bf(),{setValue:function(w){var x=this._.children,y;for(var z=0;z<x.length&&(y=x[z]);z++)y.getElement().$.checked=y.getValue()==w;this.oW('change',{value:w})},getValue:function(){var w=this._.children;for(var x=0;x<w.length;x++){if(w[x].getElement().$.checked)return w[x].getValue()}return null},eZ:function(){var w=this._.children,x;for(x=0;x<w.length;x++){if(w[x].getElement().$.checked){w[x].getElement().focus();return}}w[0].getElement().focus()},dm:{onChange:function(w,x){if(!g)return t.onChange.apply(this,arguments);else{w.on('load',function(){var y=this._.children,z=this;for(var A=0;A<y.length;A++){var B=y[A].getElement();B.on('propertychange',function(C){C=C.data.$;if(C.propertyName=='checked'&&this.$.checked)z.oW('change',{value:this.getAttribute('value')})})}},this);this.on('change',x)}return null}},eA:true},s,true);n.dialog.file.prototype=i.extend(new n.dialog.dD(),s,{getInputElement:function(){var w=a.document.getById(this._.gL).getFrameDocument();return w.$.forms.length>0?new k(w.$.forms[0].elements[0]):this.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},vy:function(w){return this.getInputElement().getParent().$.action},reset:function(){var w=a.document.getById(this._.gL),x=w.getFrameDocument(),y=this._.dg,z=this._.buttons;function A(){x.$.open();if(f.isCustomDomain())x.$.domain=document.domain;var B='';if(y.size)B=y.size-(g?7:0);x.$.write(['<html><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" action="',i.htmlEncode(y.action),'">','<input type="file" name="',i.htmlEncode(y.id||'cke_upload'),'" size="',i.htmlEncode(B>0?B:''),'" />','</form>','</body></html>'].join(''));x.$.close();for(var C=0;C<z.length;C++)z[C].enable()};if(f.gecko)setTimeout(A,500);else A()},getValue:function(){return''},dm:t,eA:true},true);n.dialog.fileButton.prototype=new n.dialog.button();a.dialog.addUIElement('text',q);a.dialog.addUIElement('password',q);a.dialog.addUIElement('textarea',r);a.dialog.addUIElement('checkbox',r);a.dialog.addUIElement('radio',r);a.dialog.addUIElement('button',r);a.dialog.addUIElement('select',r);a.dialog.addUIElement('file',r);a.dialog.addUIElement('fileButton',r);a.dialog.addUIElement('html',r);i.extend(CKFinder.dialog,a.dialog)})();(function(){m.add('help',{bM:['toolbar','button'],bz:function q(p){if(!p.config.disableHelpButton){p.bD('help',{exec:function(r){r.aG['filesview.filesview'].bn().focus();window.open(a.basePath+'help/'+(r.lang.HelpLang||'en')+'/index.html')}});p.bY.add('Help',a.UI_BUTTON,{label:p.lang.Help,command:'help'})}}})})();(function(){var p=0,q=0,r=[],s,t;function u(C,D,E,F,G){var H=0,I=0,J=[];for(var K=0;K<C.length;K++){if(!F||F(C[K])){J.push('<a href="',D.folder.getUrl(),encodeURIComponent(C[K].name),'" title="',C[K].name,'" rel="',E,'">a</a>');if(C[K].isSameFile(D))H=I;I++}}x();t=new k('div',G);t.setAttribute('id','ckf_gallery');t.setHtml(J.join(''));t.appendTo(G.bH());t.hide();return H};function v(C){if(C&&C.inPopup){var D=new j(C.document),E=D.getWindow();if(!g&&!f.opera||E.$.top.location.href.match(/ckfinder.html/)||E.$.top.name=='CKFinderpopup')return D}return a.oC};function w(C){return function(){C.$.activeElement&&C.$.activeElement.blur();C.$.activeElement&&C.$.activeElement.blur();if(!f.gecko){C.getWindow().focus();C.bH().focus()}}};function x(){t&&t.remove()};function y(C){return function(){x();C&&C.focus()}};function z(C){if(C.click)C.click();else if(a.document.$.createEvent){var D=a.document.$.createEvent('MouseEvents');D.initEvent('click',true,true);C.dispatchEvent(D)}};function A(C,D,E){if(g&&f.version<9)C.$.onreadystatechange=function(){if(this.readyState=='loaded'||this.readyState=='complete')setTimeout(function(){D.callee.apply(E,D)},0)};else C.on('load',function(){setTimeout(function(){D.callee.apply(E,D)},0)})};CKFinder.addPlugin('gallery',{bM:['filesview'],galleryCallback:function(C,D,E){if(!q)B(null,C);var F=v(C),G=F.getWindow().$,H=function(T){return T.isImage()};if(!p&&C.config.gallery_autoLoad){if(!H(D))return false;var I=F.eD(),J=CKFinder.getPluginPath('gallery')+'colorbox/',K=arguments,L,M=typeof G.jQuery=='undefined';if(!M){var N=G.jQuery.fn.jquery.split('.'),O=parseInt(N[0],10),P=parseInt(N[1],10),Q=parseInt(N[2]||0,10);if(O<1||O==1&&P<4||O==1&&P==4&&Q<3)M=true}if(M){if(G.jQuery)r=[G.jQuery,G.$];L=new k('script',F);L.setAttribute('type','text/javascript');L.setAttribute('src',J+'jquery.min.js');A(L,K,G);L.appendTo(I);return true}F.pb(J+'colorbox.css');L=new k('script',F);L.setAttribute('type','text/javascript');L.setAttribute('src',J+'jquery.colorbox-min.js');A(L,K,G);L.appendTo(I);return true}if(r.length){s=G.jQuery.noConflict(true);G.jQuery=r[0];G.$=r[1];r=[]}if(!s)s=G.jQuery;if(p){var R=i.getNextNumber(),S;switch(p){case 1:if(!H(D))return false;S=u(E,D,'ckf_gallery_'+R,H,F);s('#ckf_gallery a').colorbox(i.extend({minWidth:'300',minHeight:'200',maxWidth:'95%',maxHeight:'95%',scalePhotos:true,current:C.lang.Gallery.current},C.config.gallery_config,{group:'ckf_gallery_'+R,onClosed:y(D),onOpen:w(F)},true)).eq(S).click();break;case 2:H=function(T){return T.isImage()||T.ext=='swf'};if(!H(D))return false;S=u(E,D,'ckf_gallery_'+R,H,F);G.jQuery('#ckf_gallery a').fancybox(i.extend({},C.config.gallery_config,{onClosed:x,onComplete:w(F),afterClose:y(D),afterShow:w(F)},true)).eq(S).click();break;case 3:H=function(T){return T.isImage()||T.ext=='swf'||T.ext=='mov'};if(!H(D))return false;S=u(E,D,'prettyPhoto[ckf_gallery_'+R+']',H,F);G.jQuery('#ckf_gallery a').prettyPhoto(i.extend({},C.config.gallery_config,{callback:y(D),changepicturecallback:w(F)},true)).eq(S).click();break;case 4:H=function(T){return T.isImage()||T.ext=='swf'||T.ext=='mov'};if(!H(D))return false;S=u(E,D,'ckf_gallery_'+R,H,F);G.Shadowbox.qi('#ckf_gallery a',i.extend({},C.config.gallery_config,{gallery:'ckf_gallery_'+R,onClose:y(D),onFinish:w(F)},true));z(t.eG('a').getItem(S).$);break;case 5:if(!H(D))return false;S=u(E,D,'lightbox[ckf_gallery_'+R+']',H,F);z(t.eG('a').getItem(S).$);break;default:return false}return true}return false},bz:B});function B(C,D){if(C&&C.inPopup)return;C&&C.aG['filesview.filesview'].on('afterRenderFiles',x);var E=v(D).getWindow().$;if(typeof E.jQuery!='undefined'&&E.jQuery.fn.colorbox)p=1;else if(typeof E.jQuery!='undefined'&&E.jQuery.fn.fancybox)p=2;else if(typeof E.jQuery!='undefined'&&E.jQuery.fn.prettyPhoto)p=3;else if(typeof E.Shadowbox!='undefined')p=4;else if(typeof E.Prototype!='undefined'&&typeof E.Lightbox!='undefined')p=5;p&&(q=1)}})();l.gallery_autoLoad=true;a.skins.add('kama',(function(){var p=['images/loaders/16x16.gif','images/loaders/32x32.gif','images/ckffolder.gif','images/ckffolderopened.gif'];if(g&&f.version<7)p.push('images/sprites_ie6.png');return{ls:p,application:{css:['app.css']},host:{qx:1,css:['host.css']},mA:7,kN:7,ps:1,bz:function(q){if(q.config.width&&!isNaN(q.config.width))q.config.width-=12;var r=[],s='/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}';if(f.webkit){s=s.split('}').slice(0,-1);for(var t=0;t<s.length;t++)s[t]=s[t].split('{')}function u(x){var y=x.eD().append('style');y.setAttribute('id','cke_ui_color');y.setAttribute('type','text/css');return y};function v(x,y,z){var A,B,C;for(var D=0;D<x.length;D++){if(f.webkit){for(B=0;B<x[D].$.sheet.rules.length;B++)x[D].$.sheet.removeRule(B);for(B=0;B<y.length;B++){C=y[B][1];for(A=0;A<z.length;A++)C=C.replace(z[A][0],z[A][1]);x[D].$.sheet.addRule(y[B][0],C)}}else{C=y;for(A=0;A<z.length;A++)C=C.replace(z[A][0],z[A][1]);if(g)x[D].$.styleSheet.cssText=C;else x[D].setHtml(C)}}};var w=/\$color/g;i.extend(q,{uiColor:null,rk:function(){return this.uiColor},setUiColor:function(x){var y,z,A=u(a.oC),B=u(this.document),C='.cke_'+q.name.replace('.','\\.'),D=[C+' .cke_wrapper',C+'_dialog .cke_dialog_contents',C+'_dialog a.cke_dialog_tab',C+'_dialog .cke_dialog_footer'].join(','),E='background-color: $color !important;';if(f.webkit){y=[[D,E]];z=[['body,'+D,E]]}else{y=D+'{'+E+'}';z='body,'+D+'{'+E+'}'}return(this.setUiColor=function(F){var G=[[w,F]];q.uiColor=F;v([A],y,G);v([B],z,G);v(r,s,G)})(x)}});q.on('menuShow',function(x){var y=x.data[0],z=y.element.eG('iframe').getItem(0).getFrameDocument();if(!z.getById('cke_ui_color')){var A=u(z);r.push(A);var B=q.rk();if(B)v([A],s,[[w,B]])}});if(q.config.uiColor)q.on('uiReady',function(){q.setUiColor(q.config.uiColor)})}}})());(function(){a.dialog?p():a.on('dialogPluginReady',p);function p(){a.dialog.on('resize',function(q){var r=q.data,s=r.width,t=r.height,u=r.dialog,v=u.bO.contents;if(r.skin!='kama')return;v.setStyles({width:s+'px',height:t+'px'});setTimeout(function(){var w=u.bO.dialog.getChild([0,0,0]),x=w.getChild(0),y=w.getChild(2);y.setStyle('width',x.$.offsetWidth+'px');y=w.getChild(7);y.setStyle('width',x.$.offsetWidth-28+'px');y=w.getChild(4);y.setStyle('height',x.$.offsetHeight-31-14+'px');y=w.getChild(5);y.setStyle('height',x.$.offsetHeight-31-14+'px')},100)})}})();a.skins.add('v1',(function(){var p=['images/loaders/16x16.gif','images/loaders/32x32.gif','images/ckffolder.gif','images/ckffolderopened.gif'];if(g&&f.version<7)p.push('images/sprites_ie6.png');return{ls:p,application:{css:['app.css']},ps:1,rv:-8,kN:0,host:{qx:1,css:['host.css']}}})());(function(){a.dialog?p():a.on('dialogPluginReady',p);function p(){a.dialog.on('resize',function(q){var r=q.data,s=r.width,t=r.height,u=r.dialog,v=u.bO.contents;if(r.skin!='v1')return;v.setStyles({width:s+'px',height:t+'px'});setTimeout(function(){var w=u.bO.dialog.getChild([0,0,0]),x=w.getChild(0),y=w.getChild(2);y.setStyle('width',x.$.offsetWidth+'px');y=w.getChild(7);y.setStyle('width',x.$.offsetWidth-28+'px');y=w.getChild(4);y.setStyle('height',x.$.offsetHeight-31-14+'px');y=w.getChild(5);y.setStyle('height',x.$.offsetHeight-31-14+'px')},100)})}})();a.gc.add('default',(function(){return{dQ:function(p){var q=p.name,r=p.element,s=p.ff;if(!r||s==a.kZ)return;p.layout=new a.application.layout(p);var t=p.oW('themeSpace',{space:'head',html:''}),u=p.oW('themeSpace',{space:'sidebar',html:''}),v=p.oW('themeSpace',{space:'mainTop',html:''}),w=p.oW('themeSpace',{space:'mainMiddle',html:''}),x=p.oW('themeSpace',{space:'mainBottom',html:''}),y=p.config.skin.indexOf(','),z=(y==-1?p.config.skin:p.config.skin.substr(0,y))||'kama',A='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html lang="'+p.lang.LangCode+'" dir="'+p.lang.dir+'">'+'<head>'+'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />'+t.html+'</head>'+'<body>'+(f.ie6Compat?'<div id="ckfinder" role="application">':'<div id="ckfinder" role="application" style="visibility: hidden">')+'<!-- 1. CKE Skin class. -->'+'<div class="fake_wrapper cke_skin_'+z+'">'+'<!-- 2. High contrast class. -->'+'<div class="fake_wrapper"><!-- Applicable: hc cke_hc -->'+'<!-- 3. Browser class. -->'+'<div class="fake_wrapper '+f.cssClass+'">'+'<!-- 4. RTL class. -->'+'<div class="fake_wrapper cke_'+(p.lang.dir=='ltr'||g&&f.version<8?'ltr':'rtl')+'"><!-- Applicable: rtl cke_rtl -->'+'<!-- 5. Layout class. -->'+'<div class="fake_wrapper">'+'<div id="ckfinder_view" class="columns_2"><!-- Applicable: columns_1 columns_2 -->'+'<div id="sidebar_container" class="container" role="region">'+'<div id="sidebar_wrapper" class="wrapper">'+u.html+'</div>'+'</div>'+'<div id="main_container" class="container" role="region">'+v.html+w.html+x.html+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</body>'+'</html>';a.log('[THEME] DOM flush using document.write');p.document.$.write(A);function B(){if(f.ie6Compat)p.layout.oG=p.document.getWindow().eR()};p.cr('themeLoaded');p.cr('uiReady',function(){B();p.cr('appReady',function(){B();if(f.ie8){var C=p.document.$,D;if(C.documentMode)D=C.documentMode;else{D=5;if(C.compatMode)if(C.compatMode=='CSS1Compat')D=7}if(D<8){var E='<strong style="color: red;">Forced IE compatibility mode! CKFinder may not look as intended.</strong>',F=p.plugins.tools;F.showTool(F.addTool(E))}}if(f.ie6Compat)p.document.getWindow().on('resize',B);p.document.getWindow().on('resize',function(){p.layout.ea.call(p.layout)});var G;function H(){G=G||p.document.eD().eG('link').getItem(0);var I=0;if(G)try{if(G.$.sheet&&G.$.sheet.cssRules.length>0)I=1;else if(G.$.styleSheet&&G.$.styleSheet.cssText.length>0)I=1;else if(G.$.innerHTML&&G.$.innerHTML.length>0)I=1}catch(J){}if(!I){window.setTimeout(H,250);return}if(f.ie6Compat){B();p.layout.ea();setTimeout(function(){p.layout.ea()},500)}else{p.layout.ea(true);setTimeout(function(){p.document.getById('ckfinder').removeStyle('visibility')})}return undefined};H()})})},pu:function(p){var q=i.getNextNumber(),r=k.kE(['<div class="cke_compatibility cke_'+p.name.replace('.','\\.')+'_dialog cke_skin_',p.gd,'" dir="',p.lang.dir,'" lang="',p.langCode,'"><table class="cke_dialog',' '+f.cssClass.replace(/browser/g,'cke_browser'),' cke_',p.lang.dir,'" style="position:absolute"><tr><td><div class="%body"><div id="%title#" class="%title"></div><div id="%close_button#" class="%close_button"><span>X</span></div><div id="%tabs#" class="%tabs"></div><table class="%contents"><tr><td id="%contents#" class="%contents"></td></tr></table><div id="%footer#" class="%footer"></div></div><div id="%tl#" class="%tl"></div><div id="%tc#" class="%tc"></div><div id="%tr#" class="%tr"></div><div id="%ml#" class="%ml"></div><div id="%mr#" class="%mr"></div><div id="%bl#" class="%bl"></div><div id="%bc#" class="%bc"></div><div id="%br#" class="%br"></div></td></tr></table>',g?'':'<style>.cke_dialog{visibility:hidden;}</style>','</div>'].join('').replace(/#/g,'_'+q).replace(/%/g,'cke_dialog_'),a.document),s=r.getChild([0,0,0,0,0]),t=s.getChild(0),u=s.getChild(1);t.unselectable();u.unselectable();return{element:r,bO:{dialog:r.getChild(0),title:t,close:u,tabs:s.getChild(2),contents:s.getChild([3,0,0,0]),footer:s.getChild(4)}}},destroy:function(p){var q=p.container,r=p.ia;q&&q.remove();for(var s=0;r&&s<r.length;s++)r[s].remove();if(p.element){p.ff==a.fc&&p.element.remove();delete p.element}}}})());a.application.prototype.vU=function(p){var q=''+p,r=this._[q]||(this._[q]=a.document.getById(q+'_'+this.name));return r};a.application.prototype.nJ=function(p){var q=/^\d+$/;if(q.test(p))p+='px';var r=this.layout.dV();r.setStyle('width',p);this.oW('resize');this.layout.ea()};a.application.prototype.resize=function(p,q){this.element.getChild(0).setStyle('height',q+'px');this.element.getChild(0).setStyle('width',p+'px')};(function(){var p="\074\x64\151\166\040\143\x6c\141\x73\163\x3d\x27\166\151\145\x77\x20\164\157\157\x6c\137\x70\x61\x6e\145\x6c\x27\x20\x73\164\x79\x6c\145\x3d\047\160\141\x64\144\x69\156\147\072\x32\x70\x78\x3b\x64\151\x73\160\154\x61\x79\072\142\154\157\x63\153\x20\041\151\x6d\160\157\162\x74\x61\156\x74\x3b\x70\x6f\163\x69\x74\151\x6f\x6e\x3a\163\164\141\x74\x69\x63\040\x21\x69\155\x70\x6f\x72\x74\x61\x6e\164\x3b\x63\x6f\154\x6f\162\x3a\142\154\141\x63\x6b\x20\x21\151\155\160\157\x72\164\141\x6e\164\073\142\x61\143\x6b\147\162\x6f\x75\156\144\055\x63\157\x6c\157\162\072\x77\150\151\x74\145\040\x21\x69\155\x70\x6f\x72\x74\141\x6e\x74\x3b\x27\076",q="\x3c\x2f\x64\151\166\x3e",r=p+""+q,s=p+"\x43\x4b\x46\x69\156\x64\x65\x72\040\x44\145\166\145\x6c\157\x70\145\x72\x20\114\151\143\x65\x6e\x73\145\074\142\x72\x2f\x3e\114\151\x63\x65\x6e\x73\145\x64\040\x74\x6f\072\x20";function t(v,w){var x=0,y=0;for(var z=0;z<v.$.parentNode.childNodes.length;z++){var A=v.$.parentNode.childNodes[z];if(A.nodeType==1){var B=A==v.$;if(!A.offsetHeight&&!B)continue;y++;if(!B)x+=A.offsetHeight}}var C=v.$.offsetHeight-v.$.clientHeight,D=(y-1)*w;if(f.ie6Compat&&!f.ie8&&!f.ie7Compat)D+=w*2;var E=g?v.$.parentNode.parentNode.parentNode.offsetHeight:v.$.parentNode.offsetHeight,F=E-C-x-(D||0);try{v.setStyle('height',F+'px')}catch(G){}};function u(v){return a.bs.substr(v*9%(2<<4),1)};a.application.layout=function(v){this.app=r.length?v:null;this.jB=null};a.application.layout.prototype={ea:function(v){if(this.jB)return;this.jB=i.setTimeout(function(){a.log('[THEME] Repainting layout');var w=a.bs.indexOf(a.bF.substr(1,1))%5,x=[a.bF.substr(8,1),a.bF.substr(6,1)],y=a.bF&&a.bF.substr(3,1)!=a.bs.substr((a.bs.indexOf(a.bF.substr(0,1))+a.bs.indexOf(a.bF.substr(2,1)))*9%(a.bs.length-1),1),z=!!a.ed&&x[1]!=u(a.ed.length+a.bs.indexOf(x[0]));if(a.bF&&1==w&&a.lS(window.top[a.nd+"\143\x61\x74\151\x6f\x6e"][a.jG+"\163\x74"])!=a.lS(a.ed)||w==4||y){var A=this.dV().getChild(0).getChildren(),B=0;for(var C=0;C<A.count();C++){if(A.getItem(C).rd("\160\157\x73\x69\x74\x69\x6f\156")=="\x73\164\x61\164\x69\143")B=1}if(!B)this.dV().getChild(0).appendHtml(y||z||w!=4?r:s+"\x3c\x62\x3e"+i.htmlEncode(a.ed)+"\x3c\057\142\x3e\074\057\144\151\166\x3e")}var D=this.pn(),E=this.pS(),F=a.skins.loaded[this.app.gd];if(F.ps&&g&&f.ie6Compat&&!f.ie8){var G=this.mB(),H=this.dV(),I=3*F.kN,J=F.rv?F.rv:0,K=this.oG.width-H.$.offsetWidth-I+J;G.setStyle('width',K+'px')}if(D)t(D,F.mA);if(E)t(E,F.kN);this.jB=null;v=false;this.app.oW('afterRepaintLayout');if(f.ie6Compat)i.setTimeout(function(){this.app.element.$.style.cssText+=''},0,this)},v===true?0:500,this)},dV:function(){var v=this;if(!v.kS)v.kS=v.app.document.getById('sidebar_container');return v.kS},mB:function(){var v=this;if(!v.lb)v.lb=v.app.document.getById('main_container');return v.lb},pS:function(){var v=this;if(typeof v.kK==='undefined')v.kK=v.app.document.getById('folders_view');return v.kK},pn:function(){var v=this;if(typeof v.kD==='undefined')v.kD=v.app.document.getById('files_view');return v.kD}}})()})();

;$(document).ready(function(){
		
	$("#side_nav a.minimize").click(function(){
			$("#side_nav").toggleClass('closed', 800);
			$("#side_nav > ul li a > span").fadeToggle();
			$("#side_nav > ul li > span.icon").fadeToggle();
			$("#main").toggleClass('grid_15',800);
			$(this).toggleClass('minimize_closed');
			
			if ($(this).hasClass('minimize_closed')) {
				$.cookie("sideNav","closed");
			}
			else{
				$.cookie("sideNav","open");
			}
			
			return false;
			
			$('#side_nav > ul > li.openable > div.accordion').slideUp().parent().removeClass('active');
			$('#side_nav > ul > li.openable > div.accordion').prev().removeClass('active');
			
	});

	$("#top_nav a.minimize").click(function(){
			$("#top_nav").toggleClass('closed', 800);
			$(this).toggleClass('minimize_closed');
			
			if ($(this).hasClass('minimize_closed')) {
				$.cookie("topNav","closed");
			}
			else{
				$.cookie("topNav","open");
			}
			
			return false;
	});
	
	$("#footer a.minimize").click(function(){
			$("#footer_wrapper").toggleClass('closed', 800);
			$(this).toggleClass('minimize_closed');
			
			if ($(this).hasClass('minimize_closed')) {
				$.cookie("footer","closed");
			}
			else{
				$.cookie("footer","open");
			}
			
			return false;
	});

	$("#side_nav > ul > li > ul").hide();
	$("#side_nav > ul > li").mouseenter(function(){
	   // $(this).children("ul").fadeIn('slow');
		$(this).children("ul").show();
	});

	$("#side_nav > ul > li").mouseleave(function(){
	    $(this).children("ul").hide();
		$(this).find('li.openable').removeClass('active').find('div.accordion').hide();
	});	
/*
	$("li.has_mega_menu").mouseenter(function(){
		$(this).children('.mega_menu').fadeIn();
	});
	
	$("li.has_mega_menu").mouseleave(function(){
	    $(this).children(".mega_menu").hide();
	});	
*/
	$(".mega_menu").css("display","none");
	
	function openMegaMenu(){
 		$(this).children('.mega_menu').fadeIn().css("display","block");
	}
	
	function closeMegaMenu(){
		$(this).children('.mega_menu').fadeOut();
	}
	
	var intentConfig = {    
		sensitivity: 10, 
 		interval: 300,   
		over: openMegaMenu, // function = onMouseOver callback (REQUIRED)    
		timeout: 300, // number = milliseconds delay before onMouseOut    
		out: closeMegaMenu // function = onMouseOut callback (REQUIRED)    
	};

	$("li.has_mega_menu").hoverIntent(intentConfig);
	
	
	$(".drop_box").hide();
	$("li").mouseenter(function(){
		$(this).children('.drop_box').fadeIn();
	});
	
	$("li").mouseleave(function(){
	    $(this).children(".drop_box").hide();
	});
	
	// Accordion 
	
	$('li .accordion').parent().addClass('openable');
	//Set default open/close settings
	$('li .accordion').hide(); //Hide/close all containers
	
	$('li.active').show();
	$('li.active .accordion').show();
		
	//On Click
	$('li.openable').click(function(){
		
		if( $(this).children('div.accordion').is(':hidden') ) {
			 //If immediate next container is closed...	
			$(this).siblings().removeClass('active').children('div.accordion').slideUp(); //Remove all "active" state and slide up the immediate next container
			$(this).toggleClass('active').children('div.accordion').slideDown(); //Add "active" state to clicked trigger and slide down the immediate next container
		}
		else {
			$(this).removeClass('active').children('div.accordion').slideUp();
		}
		
		if( $(this).parent().parent().is('#side_nav')){
			openTheSidenav();				
		}

		return false; //Prevent the browser jump to the link anchor
	});
	
	
	$('ul.slide_left').siblings('span').addClass('left');
	$('.accordion > a').click(function(){
		var url = $(this).attr('href');
			window.location = url;
	});
	
	function openTheSidenav(){
		$("#side_nav").removeClass('closed', 800);
		$("#side_nav > ul li a span").fadeIn();
		$("#side_nav > ul li span.icon").fadeIn();
		$("#side_nav > ul li a span.icon").fadeIn();
		$("#main").removeClass('grid_15',800);
		$(this).removeClass('minimize_closed');
		}
			
		
	//Cookies for layout
	
	if($.cookie('sideNav') === "closed") {
		$("#side_nav").addClass('closed');
		$("#side_nav a.minimize").addClass('minimize_closed');
		$("#main").addClass('grid_15');
	}

	if($.cookie('topNav') === "closed") {
		$("#top_nav").addClass('closed');
		$("a#top_nav_toggle").addClass('minimize_closed');
	}

	if($.cookie('footer') === "closed") {
		$("#footer_wrapper").addClass('closed');
		$("a#footer_toggle").addClass('minimize_closed');
	}
	
});  		
;/*!
 * jQuery UI 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */(function(a,b){function d(b){return!a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;if(!b.href||!g||f.nodeName.toLowerCase()!=="map")return!1;h=a("img[usemap=#"+g+"]")[0];return!!h&&d(h)}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"1.8.17",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,d){function h(b,c,d,f){a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)});return c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){if(c===b)return g["inner"+d].call(this);return this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){if(typeof b!="number")return g["outer"+d].call(this,b);return this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d)e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])},call:function(a,b,c){var d=a.plugins[b];if(!!d&&!!a.element[0].parentNode)for(var e=0;e<d.length;e++)a.options[d[e][0]]&&d[e][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;if(b[d]>0)return!0;b[d]=1,e=b[d]>0,b[d]=0;return e},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}}))})(jQuery);/*!
 * jQuery UI Widget 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++)try{a(e).triggerHandler("remove")}catch(f){}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}});return d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return!!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e;if(f&&e.charAt(0)==="_")return h;f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b){h=f;return!1}}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))});return h}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0)return a.extend({},this.options);if(typeof c=="string"){if(d===b)return this.options[c];e={},e[c]=d}this._setOptions(e);return this},_setOptions:function(b){var c=this;a.each(b,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);this.element.trigger(c,d);return!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);/*!
 * jQuery UI Mouse 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */(function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent")){a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation();return!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which==1,f=typeof this.options.cancel=="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted){b.preventDefault();return!0}}!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0;return!0}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button)return this._mouseUp(b);if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})})(jQuery);/*
 * jQuery UI Position 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */(function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of)return g.apply(this,arguments);b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1];return this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;b.my[0]==="right"?q.left-=d:b.my[0]===e&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]!==e){var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0}},top:function(b,c){if(c.at[1]!==e){var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using"in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];if(!c||!c.ownerDocument)return null;if(b)return this.each(function(){a.offset.setOffset(this,b)});return h.call(this)}),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&jQuery.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g)d.style[j]=g[j];d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2e3:0),f.fractions=i>21&&i<22}()})(jQuery);/*
 * jQuery UI Draggable 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */(function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!!this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy();return this}},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle"))return!1;this.handle=this._getHandle(b);if(!this.handle)return!1;c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")});return!0},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment();if(this._trigger("start",b)===!1){this._clear();return!1}this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b);return!0},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1){this._mouseUp({});return!1}this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==!1&&d._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b);return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)});return c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute");return d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[b.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f=a(d).css("overflow")!="hidden";this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute"));return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.17"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!!e.length){var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);/*
 * jQuery UI Droppable 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Droppables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.mouse.js
 *	jquery.ui.draggable.js
 */(function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(b,c){b=="accept"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;!!c&&(c.currentItem||c.element)[0]!=this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return!1;var e=!1;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)){e=!0;return!1}});if(e)return!1;if(this.accept.call(this.element[0],d.currentItem||d.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d));return this.element}return!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.17"}),a.ui.intersect=function(b,c,d){if(!c.offset)return!1;var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return i<=e&&f<=j&&k<=g&&h<=l;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&g<=l||h>=k&&h<=l||g<k&&h>l)&&(e>=i&&e<=j||f>=i&&f<=j||e<i&&f>j);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();droppablesLoop:for(var g=0;g<d.length;g++){if(d[g].options.disabled||b&&!d[g].accept.call(d[g].element[0],b.currentItem||b.element))continue;for(var h=0;h<f.length;h++)if(f[h]==d[g].element[0]){d[g].proportions.height=0;continue droppablesLoop}d[g].visible=d[g].element.css("display")!="none";if(!d[g].visible)continue;e=="mousedown"&&d[g]._activate.call(d[g],c),d[g].offset=d[g].element.offset(),d[g].proportions={width:d[g].element[0].offsetWidth,height:d[g].element[0].offsetHeight}}},drop:function(b,c){var d=!1;a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){!this.options||(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c)))});return d},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var d=a.ui.intersect(b,this,this.options.tolerance),e=!d&&this.isover==1?"isout":d&&this.isover==0?"isover":null;if(!e)return;var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))}})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}})(jQuery);/*
 * jQuery UI Resizable 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */(function(a,b){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"}),this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');/sw|se|ne|nw/.test(f)&&h.css({zIndex:++c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}if(!a(this.handles[c]).length)continue}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){c.disabled||(a(this).removeClass("ui-resizable-autohide"),b._handles.show())},function(){c.disabled||b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement);return this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(b){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),a.browser.opera&&/relative/.test(f.css("position"))&&f.css({position:"relative",top:"auto",left:"auto"}),this._renderProxy();var g=c(this.helper.css("left")),h=c(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio=typeof d.aspectRatio=="number"?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor",i=="auto"?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",b);return!0},_mouseDrag:function(b){var c=this.helper,d=this.options,e={},f=this,g=this.originalMousePosition,h=this.axis,i=b.pageX-g.left||0,j=b.pageY-g.top||0,k=this._change[h];if(!k)return!1;var l=k.apply(this,[b,i,j]),m=a.browser.msie&&a.browser.version<7,n=this.sizeDiff;this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)l=this._updateRatio(l,b);l=this._respectSize(l,b),this._propagate("resize",b),c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",b,this.ui());return!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(a){var b=this.options,c,e,f,g,h;h={minWidth:d(b.minWidth)?b.minWidth:0,maxWidth:d(b.maxWidth)?b.maxWidth:Infinity,minHeight:d(b.minHeight)?b.minHeight:0,maxHeight:d(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a)c=h.minHeight*this.aspectRatio,f=h.minWidth/this.aspectRatio,e=h.maxHeight*this.aspectRatio,g=h.maxWidth/this.aspectRatio,c>h.minWidth&&(h.minWidth=c),f>h.minHeight&&(h.minHeight=f),e<h.maxWidth&&(h.maxWidth=e),g<h.maxHeight&&(h.maxHeight=g);this._vBoundaries=h},_updateCache:function(a){var b=this.options;this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var c=this.options,e=this.position,f=this.size,g=this.axis;d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),g=="sw"&&(a.left=e.left+(f.width-a.width),a.top=null),g=="nw"&&(a.top=e.top+(f.height-a.height),a.left=e.left+(f.width-a.width));return a},_respectSize:function(a,b){var c=this.helper,e=this._vBoundaries,f=this._aspectRatio||b.shiftKey,g=this.axis,h=d(a.width)&&e.maxWidth&&e.maxWidth<a.width,i=d(a.height)&&e.maxHeight&&e.maxHeight<a.height,j=d(a.width)&&e.minWidth&&e.minWidth>a.width,k=d(a.height)&&e.minHeight&&e.minHeight>a.height;j&&(a.width=e.minWidth),k&&(a.height=e.minHeight),h&&(a.width=e.maxWidth),i&&(a.height=e.maxHeight);var l=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,n=/sw|nw|w/.test(g),o=/nw|ne|n/.test(g);j&&n&&(a.left=l-e.minWidth),h&&n&&(a.left=l-e.maxWidth),k&&o&&(a.top=m-e.minHeight),i&&o&&(a.top=m-e.maxHeight);var p=!a.width&&!a.height;p&&!a.left&&a.top?a.top=null:p&&!a.top&&a.left&&(a.left=null);return a},_proportionallyResize:function(){var b=this.options;if(!!this._proportionallyResizeElements.length){var c=this.helper||this.element;for(var d=0;d<this._proportionallyResizeElements.length;d++){var e=this._proportionallyResizeElements[d];if(!this.borderDif){var f=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],g=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){var c=parseInt(a,10)||0,d=parseInt(g[b],10)||0;return c+d})}if(a.browser.msie&&(!!a(c).is(":hidden")||!!a(c).parents(":hidden").length))continue;e.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.browser.msie&&a.browser.version<7,e=d?1:0,f=d?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{left:f.left+b,width:e.width-b}},n:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{top:f.top+c,height:e.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.17"}),a.ui.plugin.add("resizable","alsoResize",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10),position:b.css("position")})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,e){a(b).each(function(){var b=a(this),f=a(this).data("resizable-alsoresize"),g={},i=e&&e.length?e:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(i,function(a,b){var c=(f[b]||0)+(h[b]||0);c&&c>=0&&(g[b]=c||null)}),a.browser.opera&&/relative/.test(b.css("position"))&&(d._revertToRelativePosition=!0,b.css({position:"absolute",top:"auto",left:"auto"})),b.css(g)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a,b){i(a,b)}):i(e.alsoResize)},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.css({position:b.data("resizable-alsoresize").position})})};d._revertToRelativePosition&&(d._revertToRelativePosition=!1,typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)),a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,i=g?0:d.sizeDiff.width,j={width:d.size.width-i,height:d.size.height-h},k=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:c.width,height:c.height}),d._updateCache(c),d._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(b,d){var e=a(this).data("resizable"),f=e.options,g=e.element,h=f.containment,i=h instanceof a?h.get(0):/parent/.test(h)?g.parent().get(0):h;if(!!i){e.containerElement=a(i);if(/document/.test(h)||h==document)e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var j=a(i),k=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){k[a]=c(j.css("padding"+b))}),e.containerOffset=j.offset(),e.containerPosition=j.position(),e.containerSize={height:j.innerHeight()-k[3],width:j.innerWidth()-k[1]};var l=e.containerOffset,m=e.containerSize.height,n=e.containerSize.width,o=a.ui.hasScroll(i,"left")?i.scrollWidth:n,p=a.ui.hasScroll(i)?i.scrollHeight:m;e.parentData={element:i,left:l.left,top:l.top,width:o,height:p}}}},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.containerSize,g=d.containerOffset,h=d.size,i=d.position,j=d._aspectRatio||b.shiftKey,k={top:0,left:0},l=d.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(k=g),i.left<(d._helper?g.left:0)&&(d.size.width=d.size.width+(d._helper?d.position.left-g.left:d.position.left-k.left),j&&(d.size.height=d.size.width/e.aspectRatio),d.position.left=e.helper?g.left:0),i.top<(d._helper?g.top:0)&&(d.size.height=d.size.height+(d._helper?d.position.top-g.top:d.position.top),j&&(d.size.width=d.size.height*e.aspectRatio),d.position.top=d._helper?g.top:0),d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top;var m=Math.abs((d._helper?d.offset.left-k.left:d.offset.left-k.left)+d.sizeDiff.width),n=Math.abs((d._helper?d.offset.top-k.top:d.offset.top-g.top)+d.sizeDiff.height),o=d.containerElement.get(0)==d.element.parent().get(0),p=/relative|absolute/.test(d.containerElement.css("position"));o&&p&&(m-=d.parentData.left),m+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-m,j&&(d.size.height=d.size.width/d.aspectRatio)),n+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-n,j&&(d.size.width=d.size.height*d.aspectRatio))},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.position,g=d.containerOffset,h=d.containerPosition,i=d.containerElement,j=a(d.helper),k=j.offset(),l=j.outerWidth()-d.sizeDiff.width,m=j.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m}),d._helper&&!e.animate&&/static/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m})}}),a.ui.plugin.add("resizable","ghost",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),d.ghost.appendTo(d.helper)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size,g=d.originalSize,h=d.originalPosition,i=d.axis,j=e._aspectRatio||b.shiftKey;e.grid=typeof e.grid=="number"?[e.grid,e.grid]:e.grid;var k=Math.round((f.width-g.width)/(e.grid[0]||1))*(e.grid[0]||1),l=Math.round((f.height-g.height)/(e.grid[1]||1))*(e.grid[1]||1);/^(se|s|e)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l):/^(ne)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l):/^(sw)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.left=h.left-k):(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l,d.position.left=h.left-k)}});var c=function(a){return parseInt(a,10)||0},d=function(a){return!isNaN(parseInt(a,10))}})(jQuery);/*
 * jQuery UI Selectable 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Selectables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */(function(a,b){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy();return this},_mouseStart:function(b){var c=this;this.opos=[b.pageX,b.pageY];if(!this.options.disabled){var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,!b.metaKey&&!b.ctrlKey&&(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element});return!1}})}},_mouseDrag:function(b){var c=this;this.dragged=!0;if(!this.options.disabled){var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(!!i&&i.element!=c.element[0]){var j=!1;d.tolerance=="touch"?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):d.tolerance=="fit"&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&!b.metaKey&&!b.ctrlKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element})))}});return!1}},_mouseStop:function(b){var c=this;this.dragged=!1;var d=this.options;a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove();return!1}}),a.extend(a.ui.selectable,{version:"1.8.17"})})(jQuery);/*
 * jQuery UI Sortable 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */(function(a,b){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);var e=null,f=this,g=a(b.target).parents().each(function(){if(a.data(this,d.widgetName+"-item")==f){e=a(this);return!1}});a.data(b.target,d.widgetName+"-item")==f&&(e=a(b.target));if(!e)return!1;if(this.options.handle&&!c){var h=!1;a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(h=!0)});if(!h)return!1}this.currentItem=e,this._removeCurrentsFromItems();return!0},_mouseStart:function(b,c,d){var e=this.options,f=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(var g=this.containers.length-1;g>=0;g--)this.containers[g]._trigger("activate",b,f._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b);return!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(!h)continue;if(g!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],g):!0)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f))this._rearrange(b,f);else break;this._trigger("change",b,this._uiHash());break}}this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,c){if(!!b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"=");return d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")});return d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&d+j<i&&b+k>f&&b+k<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(!e)return!1;return this.floating?g&&g=="right"||f=="down"?2:1:f&&(f=="down"?2:1)},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&d||f=="left"&&!d:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a),this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=this,d=[],e=[],f=this._connectWith();if(f&&b)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&e.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var g=e.length-1;g>=0;g--)e[g][0].each(function(){d.push(this)});return a(d)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");for(var b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=this,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f)for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}}for(var g=e.length-1;g>=0;g--){var k=e[g][1],l=e[g][0];for(var i=0,m=l.length;i<m;i++){var n=a(l[i]);n.data(this.widgetName+"-item",k),c.push({item:n,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])continue;var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];e||(b.style.visibility="hidden");return b},update:function(a,b){if(!e||!!d.forcePlaceholderSize)b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){var c=null,d=null;for(var e=this.containers.length-1;e>=0;e--){if(a.ui.contains(this.currentItem[0],this.containers[e].element[0]))continue;if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.ui.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0)}if(!!c)if(this.containers.length===1)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){var f=1e4,g=null,h=this.positionAbs[this.containers[d].floating?"left":"top"];for(var i=this.items.length-1;i>=0;i--){if(!a.ui.contains(this.containers[d].element[0],this.items[i].item[0]))continue;var j=this.items[i][this.containers[d].floating?"left":"top"];Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i])}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||c.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||c.forceHelperSize)&&d.height(this.currentItem.height());return d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e=a(c).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition){this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top));if(c.grid){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var d=[],e=this;!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS)if(this._storedCSS[f]=="auto"||this._storedCSS[f]=="static")this._storedCSS[f]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(var f=this.containers.length-1;f>=0;f--)a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[f])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[f])))}for(var f=this.containers.length-1;f>=0;f--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(var f=0;f<d.length;f++)d[f].call(this,b);this._trigger("stop",b,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.17"})})(jQuery);/*
 * jQuery UI Accordion 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Accordion
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */(function(a,b){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){c.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){c.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){c.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){c.disabled||a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(c.navigation){var d=b.element.find("a").filter(c.navigationFilter).eq(0);if(d.length){var e=d.closest(".ui-accordion-header");e.length?b.active=e:b.active=d.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),c.event&&b.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");(b.autoHeight||b.fillHeight)&&c.css("height","");return a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b=="active"&&this.activate(c),b=="icons"&&(this._destroyIcons(),c&&this._createIcons()),b=="disabled"&&this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(!(this.options.disabled||b.altKey||b.ctrlKey)){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}if(f){a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus();return!1}return!0}},resize:function(){var b=this.options,c;if(b.fillSpace){if(a.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}c=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",d),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else b.autoHeight&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c));return this},activate:function(a){this.options.active=a;var b=this._findActive(a)[0];this._clickHandler({target:b},b);return this},_findActive:function(b){return b?typeof b=="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,c){var d=this.options;if(!d.disabled){if(!b.target){if(!d.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass("ui-accordion-content-active");var e=this.active.next(),f={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:e},g=this.active=a([]);this._toggle(g,e,f);return}var h=a(b.currentTarget||c),i=h[0]===this.active[0];d.active=d.collapsible&&i?!1:this.headers.index(h);if(this.running||!d.collapsible&&i)return;var j=this.active,g=h.next(),e=this.active.next(),f={options:d,newHeader:i&&d.collapsible?a([]):h,oldHeader:this.active,newContent:i&&d.collapsible?a([]):g,oldContent:e},k=this.headers.index(this.active[0])>this.headers.index(h[0]);this.active=i?a([]):h,this._toggle(g,e,f,i,k),j.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),i||(h.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),h.next().addClass("ui-accordion-content-active"));return}},_toggle:function(b,c,d,e,f){var g=this,h=g.options;g.toShow=b,g.toHide=c,g.data=d;var i=function(){if(!!g)return g._completed.apply(g,arguments)};g._trigger("changestart",null,g.data),g.running=c.size()===0?b.size():c.size();if(h.animated){var j={};h.collapsible&&e?j={toShow:a([]),toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace}:j={toShow:b,toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace},h.proxied||(h.proxied=h.animated),h.proxiedDuration||(h.proxiedDuration=h.duration),h.animated=a.isFunction(h.proxied)?h.proxied(j):h.proxied,h.duration=a.isFunction(h.proxiedDuration)?h.proxiedDuration(j):h.proxiedDuration;var k=a.ui.accordion.animations,l=h.duration,m=h.animated;m&&!k[m]&&!a.easing[m]&&(m="slide"),k[m]||(k[m]=function(a){this.slide(a,{easing:m,duration:l||700})}),k[m](j)}else h.collapsible&&e?b.toggle():(c.hide(),b.show()),i(!0);c.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running;this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),a.extend(a.ui.accordion,{version:"1.8.17",animations:{slide:function(b,c){b=a.extend({easing:"swing",duration:300},b,c);if(!b.toHide.size())b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b);else{if(!b.toShow.size()){b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b);return}var d=b.toShow.css("overflow"),e=0,f={},g={},h=["height","paddingTop","paddingBottom"],i,j=b.toShow;i=j[0].style.width,j.width(j.parent().width()-parseFloat(j.css("paddingLeft"))-parseFloat(j.css("paddingRight"))-(parseFloat(j.css("borderLeftWidth"))||0)-(parseFloat(j.css("borderRightWidth"))||0)),a.each(h,function(c,d){g[d]="hide";var e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);f[d]={value:e[1],unit:e[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(g,{step:function(a,c){c.prop=="height"&&(e=c.end-c.start===0?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=e*f[c.prop].value+f[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:i,overflow:d}),b.complete()}})}},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1e3:200})}}})})(jQuery);/*
 * jQuery UI Autocomplete 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Autocomplete
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */(function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(!b.options.disabled&&!b.element.propAttr("readOnly")){d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._move("previous",c),c.preventDefault();break;case e.DOWN:b._move("next",c),c.preventDefault();break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active)return;b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}}).bind("keypress.autocomplete",function(a){d&&(d=!1,a.preventDefault())}).bind("focus.autocomplete",function(){b.options.disabled||(b.selectedItem=null,b.previous=b.element.val())}).bind("blur.autocomplete",function(a){b.options.disabled||(clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150))}),this._initSource(),this.response=function(){return b._response.apply(b,arguments)},this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),b.beforeunloadHandler=function(){b.element.removeAttr("autocomplete")},a(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,d,e;a.isArray(this.options.source)?(d=this.options.source,this.source=function(b,c){c(a.ui.autocomplete.filter(d,b.term))}):typeof this.options.source=="string"?(e=this.options.source,this.source=function(d,f){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:e,data:d,dataType:"json",autocompleteRequest:++c,success:function(a,b){this.autocompleteRequest===c&&f(a)},error:function(){this.autocompleteRequest===c&&f([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)!==!1)return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this.response)},_response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close(),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){if(b.length&&b[0].label&&b[0].value)return b;return a.map(b,function(b){if(typeof b=="string")return{label:b,value:b};return a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible"))this.search(null,b);else{if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)}},widget:function(){return this.menu.element}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})})(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){!a(c.target).closest(".ui-menu-item a").length||(c.preventDefault(),b.select(c))}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){!this.active||(this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null)},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active)this.activate(c,this.element.children(b));else{var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))}},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b,this.element.children(".ui-menu-item:first"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b,this.element.children(".ui-menu-item:last"));return}var c=this.active.offset().top,d=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return b<10&&b>-10}),result.length||(result=this.element.children(".ui-menu-item:first")),this.activate(b,result)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery);/*
 * jQuery UI Button 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */(function(a,b){var c,d,e,f,g="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);c&&(d?e=a(d).find("[name='"+c+"']"):e=a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form}));return e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j),typeof this.options.disabled!="boolean"&&(this.options.disabled=this.element.propAttr("disabled")),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,h=this.options,i=this.type==="checkbox"||this.type==="radio",l="ui-state-hover"+(i?"":" ui-state-active"),m="ui-state-focus";h.label===null&&(h.label=this.buttonElement.html()),this.element.is(":disabled")&&(h.disabled=!0),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter.button",function(){h.disabled||(a(this).addClass("ui-state-hover"),this===c&&a(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){h.disabled||a(this).removeClass(l)}).bind("click.button",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){b.buttonElement.addClass(m)}).bind("blur.button",function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind("change.button",function(){f||b.refresh()}),this.buttonElement.bind("mousedown.button",function(a){h.disabled||(f=!1,d=a.pageX,e=a.pageY)}).bind("mouseup.button",function(a){!h.disabled&&(d!==a.pageX||e!==a.pageY)&&(f=!0)})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).toggleClass("ui-state-active"),b.buttonElement.attr("aria-pressed",b.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];k(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(h.disabled)return!1;a(this).addClass("ui-state-active"),c=this,a(document).one("mouseup",function(){c=null})}).bind("mouseup.button",function(){if(h.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(h.disabled)return!1;(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" "+h+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);b==="disabled"?c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1):this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})})(jQuery);/*
 * jQuery UI Dialog 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */(function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},f=a.attrFn||{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0,click:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,d=b.options,e=d.title||"&#160;",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g),i=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),j=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(a){b.close(a);return!1}).appendTo(i),k=(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(j),l=a("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(i);a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),i.find("*").add(i).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle);return a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1!==c._trigger("beforeClose",b)){c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d);return c}},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options,f;if(e.modal&&!b||!e.stack&&!e.modal)return d._trigger("focus",c);e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(f),d._trigger("focus",c);return d},open:function(){if(!this._isOpen){var b=this,c=b.options,d=b.uiDialog;b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keydown.ui-dialog",function(b){if(b.keyCode===a.ui.keyCode.TAB){var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey){d.focus(1);return!1}if(b.target===d[0]&&b.shiftKey){e.focus(1);return!1}}}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open");return b}},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(g);a.each(d,function(a,b){a!=="click"&&(a in f?e[a](b):e.attr(a,b))}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function f(a){return{position:a.position,offset:a.offset}}var b=this,c=b.options,d=a(document),e;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,g){e=c.height==="auto"?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),b._trigger("dragStart",d,f(g))},drag:function(a,c){b._trigger("drag",a,f(c))},stop:function(g,h){c.position=[h.position.left-d.scrollLeft(),h.position.top-d.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(e),b._trigger("dragStop",g,f(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function h(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var d=this,e=d.options,f=d.uiDialog.css("position"),g=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:g,start:function(b,c){a(this).addClass("ui-dialog-resizing"),d._trigger("resizeStart",b,h(c))},resize:function(a,b){d._trigger("resize",a,h(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),e.height=a(this).height(),e.width=a(this).width(),d._trigger("resizeStop",b,h(c)),a.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":f.removeClass(e.options.dialogClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":var g=f.is(":data(draggable)");g&&!d&&f.draggable("destroy"),!g&&d&&e._makeDraggable();break;case"position":e._position(d);break;case"resizable":var h=f.is(":data(resizable)");h&&!d&&f.resizable("destroy"),h&&typeof d=="string"&&f.resizable("option","handles",d),!h&&d!==!1&&e._makeResizable(d);break;case"title":a(".ui-dialog-title",e.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c);if(b.height==="auto")if(a.support.minHeight)this.element.css({minHeight:d,height:"auto"});else{this.uiDialog.show();var f=this.element.css("height","auto").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,d))}else this.element.height(Math.max(b.height-c,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.17",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");b||(this.uuid+=1,b=this.uuid);return"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});a.fn.bgiframe&&c.bgiframe(),this.instances.push(c);return c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;if(a.browser.msie&&a.browser.version<7){b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return b<c?a(window).height()+"px":b+"px"}return a(document).height()+"px"},width:function(){var b,c;if(a.browser.msie){b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return b<c?a(window).width()+"px":b+"px"}return a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);/*
 * jQuery UI Slider 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */(function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=d.values&&d.values.length||1,h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&d.values.length!==2&&(d.values=[d.values[0],d.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(d.range==="min"||d.range==="max"?" ui-slider-range-"+d.range:"")));for(var i=e.length;i<g;i+=1)h.push(f);this.handles=e.add(a(h.join("")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(d){var e=!0,f=a(this).data("index.ui-slider-handle"),g,h,i,j;if(!b.options.disabled){switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:e=!1;if(!b._keySliding){b._keySliding=!0,a(this).addClass("ui-state-active"),g=b._start(d,f);if(g===!1)return}}j=b.options.step,b.options.values&&b.options.values.length?h=i=b.values(f):h=i=b.value();switch(d.keyCode){case a.ui.keyCode.HOME:i=b._valueMin();break;case a.ui.keyCode.END:i=b._valueMax();break;case a.ui.keyCode.PAGE_UP:i=b._trimAlignValue(h+(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:i=b._trimAlignValue(h-(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(h===b._valueMax())return;i=b._trimAlignValue(h+j);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(h===b._valueMin())return;i=b._trimAlignValue(h-j)}b._slide(d,f,i);return e}}).keyup(function(c){var d=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy();return this},_mouseCapture:function(b){var c=this.options,d,e,f,g,h,i,j,k,l;if(c.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:b.pageX,y:b.pageY},e=this._normValueFromMouse(d),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i])),j=this._start(b,i);if(j===!1)return!1;this._mouseSliding=!0,h._handleIndex=i,g.addClass("ui-state-active").focus(),k=g.offset(),l=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:b.pageX-k.left-g.width()/2,top:b.pageY-k.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,i,e),this._animateOff=!0;return!0},_mouseStart:function(a){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);this._slide(a,this._handleIndex,c);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1;return!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;this.orientation==="horizontal"?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),this.orientation==="vertical"&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e;return this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());return this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){if(arguments.length)this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);else{if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();d=this.options.values,e=arguments[0];for(f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()}},_setOption:function(b,c){var d,e=0;a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(d=0;d<e;d+=1)this._change(null,d);this._animateOff=!1}},_value:function(){var a=this.options.value;a=this._trimAlignValue(a);return a},_values:function(a){var b,c,d;if(arguments.length){b=this.options.values[a],b=this._trimAlignValue(b);return b}c=this.options.values.slice();for(d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;Math.abs(c)*2>=b&&(d+=c>0?b:-b);return parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,d=this,e=this._animateOff?!1:c.animate,f,g={},h,i,j,k;this.options.values&&this.options.values.length?this.handles.each(function(b,i){f=(d.values(b)-d._valueMin())/(d._valueMax()-d._valueMin())*100,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",a(this).stop(1,1)[e?"animate":"css"](g,c.animate),d.options.range===!0&&(d.orientation==="horizontal"?(b===0&&d.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({width:f-h+"%"},{queue:!1,duration:c.animate})):(b===0&&d.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({height:f-h+"%"},{queue:!1,duration:c.animate}))),h=f}):(i=this.value(),j=this._valueMin(),k=this._valueMax(),f=k!==j?(i-j)/(k-j)*100:0,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",this.handle.stop(1,1)[e?"animate":"css"](g,c.animate),b==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},c.animate),b==="max"&&this.orientation==="horizontal"&&this.range[e?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:c.animate}),b==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},c.animate),b==="max"&&this.orientation==="vertical"&&this.range[e?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:"1.8.17"})})(jQuery);/*
 * jQuery UI Tabs 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */(function(a,b){function f(){return++d}function e(){return++c}var c=0,d=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){if(a=="selected"){if(this.options.collapsible&&b==this.options.selected)return;this.select(b)}else this.options[a]=b,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+f());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function m(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var d=this,e=this.options,f=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var g=a(c).attr("href"),h=g.split("#")[0],i;h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)&&(g=c.hash,c.href=g);if(f.test(g))d.panels=d.panels.add(d.element.find(d._sanitizeSelector(g)));else if(g&&g!=="#"){a.data(c,"href.tabs",g),a.data(c,"load.tabs",g.replace(/#.*$/,""));var j=d._tabId(c);c.href="#"+j;var k=d.element.find("#"+j);k.length||(k=a(e.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(d.panels[b-1]||d.list),k.data("destroy.tabs",!0)),d.panels=d.panels.add(k)}else e.disabled.push(b)}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),e.selected===b?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash){e.selected=a;return!1}}),typeof e.selected!="number"&&e.cookie&&(e.selected=parseInt(d._cookie(),10)),typeof e.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),e.selected=e.selected||(this.lis.length?0:-1)):e.selected===null&&(e.selected=-1),e.selected=e.selected>=0&&this.anchors[e.selected]||e.selected<0?e.selected:0,e.disabled=a.unique(e.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,b){return d.lis.index(a)}))).sort(),a.inArray(e.selected,e.disabled)!=-1&&e.disabled.splice(a.inArray(e.selected,e.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),e.selected>=0&&this.anchors.length&&(d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(e.selected).addClass("ui-tabs-selected ui-state-active"),d.element.queue("tabs",function(){d._trigger("show",null,d._ui(d.anchors[e.selected],d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash))[0]))}),this.load(e.selected)),a(window).bind("unload",function(){d.lis.add(d.anchors).unbind(".tabs"),d.lis=d.anchors=d.panels=null})):e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[e.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),e.cookie&&this._cookie(e.selected,e.cookie);for(var g=0,h;h=this.lis[g];g++)a(h)[a.inArray(g,e.disabled)!=-1&&!a(h).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");e.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(e.event!=="mouseover"){var i=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},j=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){i("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){j("hover",a(this))}),this.anchors.bind("focus.tabs",function(){i("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){j("focus",a(this).closest("li"))})}var k,l;e.fx&&(a.isArray(e.fx)?(k=e.fx[0],l=e.fx[1]):k=l=e.fx);var n=l?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(l,l.duration||"normal",function(){m(c,l),d._trigger("show",null,d._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),d._trigger("show",null,d._ui(b,c[0]))},o=k?function(a,b){b.animate(k,k.duration||"normal",function(){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),m(b,k),d.element.dequeue("tabs")})}:function(a,b,c){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d.element.dequeue("tabs")};this.anchors.bind(e.event+".tabs",function(){var b=this,c=a(b).closest("li"),f=d.panels.filter(":not(.ui-tabs-hide)"),g=d.element.find(d._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!e.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||d.panels.filter(":animated").length||d._trigger("select",null,d._ui(this,g[0]))===!1){this.blur();return!1}e.selected=d.anchors.index(this),d.abort();if(e.collapsible){if(c.hasClass("ui-tabs-selected")){e.selected=-1,e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){o(b,f)}).dequeue("tabs"),this.blur();return!1}if(!f.length){e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this)),this.blur();return!1}}e.cookie&&d._cookie(e.selected,e.cookie);if(g.length)f.length&&d.element.queue("tabs",function(){o(b,f)}),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this));else throw"jQuery UI Tabs: Mismatching fragment identifier.";a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(a){typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$="+a+"]")));return a},destroy:function(){var b=this.options;this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),b.cookie&&this._cookie(null,b.cookie);return this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options,h=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),i=c.indexOf("#")?this._tabId(a("a",h)[0]):c.replace("#","");h.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var j=f.element.find("#"+i);j.length||(j=a(g.panelTemplate).attr("id",i).data("destroy.tabs",!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(h.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(h.insertBefore(this.lis[e]),j.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a,b){return a>=e?++a:a}),this._tabify(),this.anchors.length==1&&(g.selected=0,h.addClass("ui-tabs-selected ui-state-active"),j.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e]));return this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0]));return this},enable:function(b){b=this._getIndex(b);var c=this.options;if(a.inArray(b,c.disabled)!=-1){this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a,c){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]));return this}},disable:function(a){a=this._getIndex(a);var b=this,c=this.options;a!=c.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),c.disabled.push(a),c.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a])));return this},select:function(a){a=this._getIndex(a);if(a==-1)if(this.options.collapsible&&this.options.selected!=-1)a=this.options.selected;else return this;this.anchors.eq(a).trigger(this.options.event+".tabs");return this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");this.abort();if(!f||this.element.queue("tabs").length!==0&&a.data(e,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(b).addClass("ui-state-processing");if(d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f,g){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup();return this},url:function(a,b){this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b);return this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.17"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()}),f=c._unrotate||(c._unrotate=b?function(a){t=d.selected,e()}:function(a){a.clientX&&c.rotate(null)});a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",f),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",f),delete this._rotate,delete this._unrotate);return this}})})(jQuery);/*
 * jQuery UI Datepicker 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Datepicker
 *
 * Depends:
 *	jquery.ui.core.js
 */(function($,undefined){function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}function extendRemove(a,b){$.extend(a,b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);!c.length||c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);!$.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])&&!!d.length&&(d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover"))})}function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}$.extend($.ui,{datepicker:{version:"1.8.17"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){extendRemove(this._defaults,a||{});return this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);c.hasClass(this.markerClassName)||(this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){$.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._showDatepicker(a[0]);return!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++)a[d].length>b&&(b=a[d].length,c=d);return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block"))},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f);return this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})}},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!!b.hasClass(this.markerClassName)){var d=a.nodeName.toLowerCase();if(d=="input")a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return!0;return!1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null;var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);c&&!c.inline&&this._setDateFromField(c,b);return c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing)switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}else a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1;c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal)try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(a){$.datepicker.log(a)}return!0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if(!$.datepicker._isDisabledDatepicker(a)&&$.datepicker._lastInput!=a){var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1)return;extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){e|=$(this).css("position")=="fixed";return!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a));var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+$(document).scrollLeft(),i=document.documentElement.clientHeight+$(document).scrollTop();b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0);return b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a)))a=a[c?"previousSibling":"nextSibling"];var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=$.data(a,PROP_NAME))&&this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=this,f=function(){$.datepicker._tidyDialog(b),e._curInst=null};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,f):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,f),c||f(),this._datepickerShowing=!1;var g=this._get(b,"onClose");g&&g.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!!$.datepicker._curInst){var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);this._isDisabledDatepicker(d[0])||(this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e))},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay)c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear;else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if(!$(d).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(e[0])){var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();b.setMonth(0),b.setDate(1);return Math.floor(Math.round((c-b)/864e5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;c&&s++;return c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f)throw"Missing number at position "+r;r+=f[0].length;return parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase()){f=c[0],r+=d.length;return!1}});if(f!=-1)return f+1;throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s))throw"Unexpected literal at position "+r;r++},r=0;for(var s=0;s<a.length;s++)if(m)a.charAt(s)=="'"&&!n("'")?m=!1:q();else switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/1e4);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}if(r<b.length)throw"Extra/unparsed characters found in date: "+b.substring(r);i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;for(;;){var u=this._getDaysInMonth(i,j-1);if(k<=u)break;j++,k-=u}}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;c&&m++;return c},i=function(a,b,c){var d=""+b;if(h(a))while(d.length<c)d="0"+d;return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b)for(var m=0;m<a.length;m++)if(l)a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m);else switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864e5),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*1e4+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;c&&e++;return c};for(var e=0;e<a.length;e++)if(c)a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e);else switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0));return this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p)n--,n<0&&(n=11,o--)}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', -"+i+", 'M');\""+' title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._adjustDate('#"+a.id+"', +"+i+", 'M');\""+' title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+dpuuid+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+dpuuid+".datepicker._gotoToday('#"+a.id+"');\""+">"+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1)switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead>'+"<tr>";var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+">"+'<span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' onclick="DP_jQuery_'+dpuuid+".datepicker._selectDay('#"+a.id+"',"+Y.getMonth()+","+Y.getFullYear()+', this);return false;"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1;return K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this
._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i)m+='<span class="ui-datepicker-month">'+g[b]+"</span>";else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" "+">";for(var p=0;p<12;p++)(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>");m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j)l+='<span class="ui-datepicker-year">'+c+"</span>";else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+dpuuid+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" "+">";for(;t<=u;t++)a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>";a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>";return l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;e=d&&e>d?d:e;return e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth()));return this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget"))return $.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b));if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string")return $.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b));return this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)})},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.17",window["DP_jQuery_"+dpuuid]=$})(jQuery);/*
 * jQuery UI Progressbar 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Progressbar
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */(function(a,b){a.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),a.Widget.prototype.destroy.apply(this,arguments)},value:function(a){if(a===b)return this._value();this._setOption("value",a);return this},_setOption:function(b,c){b==="value"&&(this.options.value=c,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;typeof a!="number"&&(a=0);return Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}}),a.extend(a.ui.progressbar,{version:"1.8.17"})})(jQuery);/*
 * jQuery UI Effects 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/
 */jQuery.effects||function(a,b){function l(b){if(!b||typeof b=="number"||a.fx.speeds[b])return!0;if(typeof b=="string"&&!a.effects[b])return!0;return!1}function k(b,c,d,e){typeof b=="object"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c])e=d,d=c,c={};a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete;return[b,c,d,e]}function j(a,b){var c={_:0},d;for(d in b)a[d]!=b[d]&&(c[d]=b[d]);return c}function i(b){var c,d;for(c in b)d=b[c],(d==null||a.isFunction(d)||c in g||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c];return b}function h(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]]){var e=a.length;while(e--)c=a[e],typeof a[c]=="string"&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c])}else for(c in a)typeof a[c]=="string"&&(b[c]=a[c]);return b}function d(b,d){var e;do{e=a.curCSS(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body"))break;d="backgroundColor"}while(b=b.parentNode);return c(e)}function c(b){var c;if(b&&b.constructor==Array&&b.length==3)return b;if(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))return[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)];if(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))return[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55];if(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)];if(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)];if(c=/rgba\(0, 0, 0, 0\)/.exec(b))return e.transparent;return e[a.trim(b).toLowerCase()]}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},f=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,e){a.isFunction(d)&&(e=d,d=null);return this.queue(function(){var g=a(this),k=g.attr("style")||" ",l=i(h.call(this)),m,n=g.attr("class");a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),m=i(h.call(this)),g.attr("class",n),g.animate(j(l,m),{queue:!1,duration:c,easing:d,complete:function(){a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),typeof g.attr("style")=="object"?(g.attr("style").cssText="",g.attr("style").cssText=k):g.attr("style",k),e&&e.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.17",save:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])},restore:function(a,b){for(var c=0;c<b.length;c++)b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))},setMode:function(a,b){b=="toggle"&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),b.css("position")=="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));return d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;if(b.parent().is(".ui-effects-wrapper")){c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus();return c}return b},setTransition:function(b,c,d,e){e=e||{},a.each(c,function(a,c){unit=b.cssUnit(c),unit[0]>0&&(e[c]=unit[0]*d+unit[1])});return e}}),a.fn.extend({effect:function(b,c,d,e){var f=k.apply(this,arguments),g={options:f[1],duration:f[2],callback:f[3]},h=g.options.mode,i=a.effects[b];if(a.fx.off||!i)return h?this[h](g.duration,g.callback):this.each(function(){g.callback&&g.callback.call(this)});return i.call(this,g)},_show:a.fn.show,show:function(a){if(l(a))return this._show.apply(this,arguments);var b=k.apply(this,arguments);b[1].mode="show";return this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(l(a))return this._hide.apply(this,arguments);var b=k.apply(this,arguments);b[1].mode="hide";return this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(l(b)||typeof b=="boolean"||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=k.apply(this,arguments);c[1].mode="toggle";return this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])});return d}}),a.easing.jswing=a.easing.swing,a.extend(a.easing,{def:"easeOutQuad",swing:function(b,c,d,e,f){return a.easing[a.easing.def](b,c,d,e,f)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b+c;return-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b+c;return d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b+c;return-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b*b+c;return d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){if(b==0)return c;if(b==e)return c+d;if((b/=e/2)<1)return d/2*Math.pow(2,10*(b-1))+c;return d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){if((b/=e/2)<1)return-d/2*(Math.sqrt(1-b*b)-1)+c;return d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e)==1)return c+d;g||(g=e*.3);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;g||(g=e*.3*1.5);if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);if(b<1)return-0.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c;return h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);return e*(c/=f)*c*((g+1)*c-g)+d},easeOutBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);return e*((c=c/f-1)*c*((g+1)*c+g)+1)+d},easeInOutBack:function(a,c,d,e,f,g){g==b&&(g=1.70158);if((c/=f/2)<1)return e/2*c*c*(((g*=1.525)+1)*c-g)+d;return e/2*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)+d},easeInBounce:function(b,c,d,e,f){return e-a.easing.easeOutBounce(b,f-c,0,e,f)+d},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:b<2.5/2.75?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(b,c,d,e,f){if(c<f/2)return a.easing.easeInBounce(b,c*2,0,e,f)*.5+d;return a.easing.easeOutBounce(b,c*2-f,0,e,f)*.5+e*.5+d}})}(jQuery);/*
 * jQuery UI Effects Blind 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Blind
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h=f=="vertical"?"height":"width",i=f=="vertical"?g.height():g.width();e=="show"&&g.css(h,0);var j={};j[h]=e=="show"?i:0,g.animate(j,b.duration,b.options.easing,function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}})(jQuery);/*
 * jQuery UI Effects Bounce 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Bounce
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"up",g=b.options.distance||20,h=b.options.times||5,i=b.duration||250;/show|hide/.test(e)&&d.push("opacity"),a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",g=b.options.distance||(j=="top"?c.outerHeight({margin:!0})/3:c.outerWidth({margin:!0})/3);e=="show"&&c.css("opacity",0).css(j,k=="pos"?-g:g),e=="hide"&&(g=g/(h*2)),e!="hide"&&h--;if(e=="show"){var l={opacity:1};l[j]=(k=="pos"?"+=":"-=")+g,c.animate(l,i/2,b.options.easing),g=g/2,h--}for(var m=0;m<h;m++){var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing),g=e=="hide"?g*2:g/2}if(e=="hide"){var l={opacity:0};l[j]=(k=="pos"?"-=":"+=")+g,c.animate(l,i/2,b.options.easing,function(){c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}else{var n={},p={};n[j]=(k=="pos"?"-=":"+=")+g,p[j]=(k=="pos"?"+=":"-=")+g,c.animate(n,i/2,b.options.easing).animate(p,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)})}c.queue("fx",function(){c.dequeue()}),c.dequeue()})}})(jQuery);/*
 * jQuery UI Effects Clip 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Clip
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.clip=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","height","width"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h=c[0].tagName=="IMG"?g:c,i={size:f=="vertical"?"height":"width",position:f=="vertical"?"top":"left"},j=f=="vertical"?h.height():h.width();e=="show"&&(h.css(i.size,0),h.css(i.position,j/2));var k={};k[i.size]=e=="show"?j:0,k[i.position]=e=="show"?0:j/2,h.animate(k,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Drop 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Drop
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","opacity"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight({margin:!0})/2:c.outerWidth({margin:!0})/2);e=="show"&&c.css("opacity",0).css(g,h=="pos"?-i:i);var j={opacity:e=="show"?1:0};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Explode 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Explode
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,d=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),f=e.offset();f.top-=parseInt(e.css("marginTop"),10)||0,f.left-=parseInt(e.css("marginLeft"),10)||0;var g=e.outerWidth(!0),h=e.outerHeight(!0);for(var i=0;i<c;i++)for(var j=0;j<d;j++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*(g/d),top:-i*(h/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/d,height:h/c,left:f.left+j*(g/d)+(b.options.mode=="show"?(j-Math.floor(d/2))*(g/d):0),top:f.top+i*(h/c)+(b.options.mode=="show"?(i-Math.floor(c/2))*(h/c):0),opacity:b.options.mode=="show"?0:1}).animate({left:f.left+j*(g/d)+(b.options.mode=="show"?0:(j-Math.floor(d/2))*(g/d)),top:f.top+i*(h/c)+(b.options.mode=="show"?0:(i-Math.floor(c/2))*(h/c)),opacity:b.options.mode=="show"?1:0},b.duration||500);setTimeout(function(){b.options.mode=="show"?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide(),b.callback&&b.callback.apply(e[0]),e.dequeue(),a("div.ui-effects-explode").remove()},b.duration||500)})}})(jQuery);/*
 * jQuery UI Effects Fade 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fade
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Fold 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Fold
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.fold=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.size||15,g=!!b.options.horizFirst,h=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(c,d),c.show();var i=a.effects.createWrapper(c).css({overflow:"hidden"}),j=e=="show"!=g,k=j?["width","height"]:["height","width"],l=j?[i.width(),i.height()]:[i.height(),i.width()],m=/([0-9]+)%/.exec(f);m&&(f=parseInt(m[1],10)/100*l[e=="hide"?0:1]),e=="show"&&i.css(g?{height:0,width:f}:{height:f,width:0});var n={},p={};n[k[0]]=e=="show"?l[0]:f,p[k[1]]=e=="show"?l[1]:0,i.animate(n,h,b.options.easing).animate(p,h,b.options.easing,function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}})(jQuery);/*
 * jQuery UI Effects Highlight 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Highlight
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),f={backgroundColor:c.css("backgroundColor")};e=="hide"&&(f.opacity=0),a.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),e=="show"&&!a.support.opacity&&this.style.removeAttribute("filter"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Pulsate 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Pulsate
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"show");times=(b.options.times||5)*2-1,duration=b.duration?b.duration/2:a.fx.speeds._default/2,isVisible=c.is(":visible"),animateTo=0,isVisible||(c.css("opacity",0).show(),animateTo=1),(d=="hide"&&isVisible||d=="show"&&!isVisible)&&times--;for(var e=0;e<times;e++)c.animate({opacity:animateTo},duration,b.options.easing),animateTo=(animateTo+1)%2;c.animate({opacity:animateTo},duration,b.options.easing,function(){animateTo==0&&c.hide(),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}).dequeue()})}})(jQuery);/*
 * jQuery UI Effects Scale 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Scale
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,f=e/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:d=="hide"?e:100,from:d=="hide"?g:{height:g.height*f,width:g.width*f}}),c.effect("scale",b.options,b.duration,b.callback),c.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),e=a.effects.setMode(c,b.options.mode||"effect"),f=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:e=="hide"?0:100),g=b.options.direction||"both",h=b.options.origin;e!="effect"&&(d.origin=h||["middle","center"],d.restore=!0);var i={height:c.height(),width:c.width()};c.from=b.options.from||(e=="show"?{height:0,width:0}:i);var j={y:g!="horizontal"?f/100:1,x:g!="vertical"?f/100:1};c.to={height:i.height*j.y,width:i.width*j.x},b.options.fade&&(e=="show"&&(c.from.opacity=0,c.to.opacity=1),e=="hide"&&(c.from.opacity=1,c.to.opacity=0)),d.from=c.from,d.to=c.to,d.mode=e,c.effect("size",d,b.duration,b.callback),c.dequeue()})},a.effects.size=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","width","height","overflow","opacity"],e=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],g=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=a.effects.setMode(c,b.options.mode||"effect"),k=b.options.restore||!1,l=b.options.scale||"both",m=b.options.origin,n={height:c.height(),width:c.width()};c.from=b.options.from||n,c.to=b.options.to||n;if(m){var p=a.effects.getBaseline(m,n);c.from.top=(n.height-c.from.height)*p.y,c.from.left=(n.width-c.from.width)*p.x,c.to.top=(n.height-c.to.height)*p.y,c.to.left=(n.width-c.to.width)*p.x}var q={from:{y:c.from.height/n.height,x:c.from.width/n.width},to:{y:c.to.height/n.height,x:c.to.width/n.width}};if(l=="box"||l=="both")q.from.y!=q.to.y&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,q.from.y,c.from),c.to=a.effects.setTransition(c,h,q.to.y,c.to)),q.from.x!=q.to.x&&(d=d.concat(i),c.from=a.effects.setTransition(c,i,q.from.x,c.from),c.to=a.effects.setTransition(c,i,q.to.x,c.to));(l=="content"||l=="both")&&q.from.y!=q.to.y&&(d=d.concat(g),c.from=a.effects.setTransition(c,g,q.from.y,c.from),c.to=a.effects.setTransition(c,g,q.to.y,c.to)),a.effects.save(c,k?d:e),c.show(),a.effects.createWrapper(c),c.css("overflow","hidden").css(c.from);if(l=="content"||l=="both")h=h.concat(["marginTop","marginBottom"]).concat(g),i=i.concat(["marginLeft","marginRight"]),f=d.concat(h).concat(i),c.find("*[width]").each(function(){child=a(this),k&&a.effects.save(child,f);var c={height:child.height(),width:child.width()};child.from={height:c.height*q.from.y,width:c.width*q.from.x},child.to={height:c.height*q.to.y,width:c.width*q.to.x},q.from.y!=q.to.y&&(child.from=a.effects.setTransition(child,h,q.from.y,child.from),child.to=a.effects.setTransition(child,h,q.to.y,child.to)),q.from.x!=q.to.x&&(child.from=a.effects.setTransition(child,i,q.from.x,child.from),child.to=a.effects.setTransition(child,i,q.to.x,child.to)),child.css(child.from),child.animate(child.to,b.duration,b.options.easing,function(){k&&a.effects.restore(child,f)})});c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){c.to.opacity===0&&c.css("opacity",c.from.opacity),j=="hide"&&c.hide(),a.effects.restore(c,k?d:e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Shake 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Shake
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.shake=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"effect"),f=b.options.direction||"left",g=b.options.distance||20,h=b.options.times||3,i=b.duration||b.options.duration||140;a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var j=f=="up"||f=="down"?"top":"left",k=f=="up"||f=="left"?"pos":"neg",l={},m={},n={};l[j]=(k=="pos"?"-=":"+=")+g,m[j]=(k=="pos"?"+=":"-=")+g*2,n[j]=(k=="pos"?"-=":"+=")+g*2,c.animate(l,i,b.options.easing);for(var p=1;p<h;p++)c.animate(m,i,b.options.easing).animate(n,i,b.options.easing);c.animate(m,i,b.options.easing).animate(l,i/2,b.options.easing,function(){a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments)}),c.queue("fx",function(){c.dequeue()}),c.dequeue()})}})(jQuery);/*
 * jQuery UI Effects Slide 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Slide
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"show"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c).css({overflow:"hidden"});var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight({margin:!0}):c.outerWidth({margin:!0}));e=="show"&&c.css(g,h=="pos"?isNaN(i)?"-"+i:-i:i);var j={};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);/*
 * jQuery UI Effects Transfer 1.8.17
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Effects/Transfer
 *
 * Depends:
 *	jquery.effects.core.js
 */(function(a,b){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset(),f={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()},g=c.offset(),h=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:g.top,left:g.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(f,b.duration,b.options.easing,function(){h.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}})(jQuery);
;jQuery.cookie=function(key,value,options){if(arguments.length>1&&String(value)!=="[object Object]"){options=jQuery.extend({},options);if(value===null||value===undefined){options.expires=-1;}
if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days);}
value=String(value);return(document.cookie=[encodeURIComponent(key),'=',options.raw?value:encodeURIComponent(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}
options=value||{};var result,decode=options.raw?function(s){return s;}:decodeURIComponent;return(result=new RegExp('(?:^|; )'+encodeURIComponent(key)+'=([^;]*)').exec(document.cookie))?decode(result[1]):null;};
;(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).on("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).on("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.on('mouseenter',handleHover).on('mouseleave',handleHover)}})(jQuery);
;/*!
 * jQuery MsgBox - for jQuery 1.3+
 * http://codecanyon.net/item/jquery-msgbox/92626?ref=aeroalquimia
 *
 * Copyright 2010, Eduardo Daniel Sada
 * You need to buy a license if you want use this script.
 * http://codecanyon.net/wiki/buying/howto-buying/licensing/
 *
 * Version: 1.3.2 (Jun 21 2011)
 *
 * Includes jQuery Easing v1.1.2
 * http://gsgd.co.uk/sandbox/jquery.easIng.php
 * Copyright (c) 2007 George Smith
 * Released under the MIT License.
 */
eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('(p($){A m=(1b.1V.3r&&1K(1b.1V.1Q,10)<7&&1K(1b.1V.1Q,10)>4);n($.u===N){$.12({u:p(a,b){n(a){u=p(){G a.2u(b||6,2K)}};G u}})};$.12(1b.2D,{1M:p(x,t,b,c,d,s){n(s==N)s=1.3s;G c*((t=t/d-1)*t*((s+1)*t+s)+1)+b}});$.12($.3v[\':\'],{w:p(a){G $(a).2w()}});$.12({1J:{29:{C:\'2s-B\',L:3e,E:3d,F:\'1W\',1f:\'#3k\',21:R,P:{\'1f-1N\':\'#3p\',\'22\':0.5},1B:3o,1r:1q,23:3b,13:{\'2E\':10,\'1U\':1q,\'X\':\'1M\',\'2v\':2},q:{\'17\':Q,\'1g\':\'#\',\'1h\':\'1u\'},2G:\'11\'},8:{},9:{B:[],Y:[],q:[],U:[],W:[]},1c:Q,i:0,1G:Q,2z:p(a){6.8=$.12(R,6.8,a);6.P.D.v(6.8.P);6.P.8.25=!6.8.21;6.9.B.v({\'E\':6.8.E,\'F\':6.8.F,\'1f-1N\':6.8.1f});6.16()},P:{1x:p(b){6.8=b;6.D=$(\'<T 2n="\'+2k 2f().2b()+\'"></T>\');6.D.v($.12({},{\'Z\':\'3I\',\'11\':0,\'J\':0,\'22\':0,\'19\':\'1o\',\'z-2j\':6.8.L},6.8.1Y));6.D.1e($.u(p(a){n(6.8.25){n($.1T(6.8.1n)){6.8.1n()}H{6.1m()}}a.1j()},6));6.1p=R;6.2q();G 6},2q:p(){6.1C=$(1v.1L);6.1C.O(6.D);n(m){6.D.v({\'Z\':\'1A\'});A a=1K(6.D.v(\'L\'));n(!a){a=1;A b=6.D.v(\'Z\');n(b==\'3a\'||!b){6.D.v({\'Z\':\'2P\'})}6.D.v({\'L\':a})}a=(!!(6.8.L||6.8.L===0)&&a>6.8.L)?6.8.L:a-1;n(a<0){a=1}6.M=$(\'<2J 2n="35\'+2k 2f().2b()+\'" 2Y="2Z" 2W=0 2V=""></T>\');6.M.v({L:a,Z:\'1A\',11:0,J:0,1D:\'1o\',E:0,F:0,22:0});6.M.2S(6.D);$(\'2T, 1L\').v({\'F\':\'1q%\',\'E\':\'1q%\',\'2a-J\':0,\'2a-30\':0})}},18:p(x,y){6.D.v({\'F\':0,\'E\':0});n(6.M)6.M.v({\'F\':0,\'E\':0});A a={x:$(1v).E(),y:$(1v).F()};6.D.v({\'E\':\'1q%\',\'F\':y?y:a.y});n(6.M){6.M.v({\'F\':0,\'E\':0});6.M.v({\'Z\':\'1A\',\'J\':0,\'11\':0,\'E\':6.D.E(),\'F\':y?y:a.y})}G 6},15:p(){n(!6.1p)G 6;n(6.X)6.X.1S();6.1C.S(\'18\',$.u(6.18,6));6.18();n(6.M)6.M.v({\'19\':\'2F\'});6.1p=Q;6.X=6.D.37(6.8.1B,$.u(p(){6.D.1R(\'15\')},6));G 6},1m:p(){n(6.1p)G 6;n(6.X)6.X.1S();6.1C.36(\'18\');n(6.M)6.M.v({\'19\':\'1o\'});6.1p=R;6.X=6.D.2R(6.8.1r,$.u(p(){6.D.1R(\'1m\');6.D.v({\'F\':0,\'E\':0})},6));G 6}},1x:p(){6.8=$.12(R,6.29,6.8);6.P.1x({1Y:6.8.P,25:!6.8.21,L:6.8.L-1,1B:6.8.1B,1r:6.8.1r});6.9.B=$(\'<T 1k="\'+6.8.C+\'"></T>\');6.9.B.v({\'19\':\'1o\',\'Z\':\'1A\',\'11\':0,\'J\':0,\'E\':6.8.E,\'F\':6.8.F,\'z-2j\':6.8.L,\'2i-2Q\':\'2L-2i\',\'-2m-26-24\':\'0 0 1Z 1P(0, 0, 0, 0.5)\',\'-2l-26-24\':\'0 0 1Z 1P(0, 0, 0, 0.5)\',\'26-24\':\'0 0 1Z 1P(0, 0, 0, 0.5)\',\'-2m-1D-20\':\'1O\',\'-2l-1D-20\':\'1O\',\'1D-20\':\'1O\',\'1f-1N\':6.8.1f});6.9.Y=$(\'<T 1k="\'+6.8.C+\'-Y"></T>\');6.9.B.O(6.9.Y);6.9.q=$(\'<q 1g="\'+6.8.3A+\'" 1h="1u"></q>\');6.9.Y.O(6.9.q);6.9.Y.v({F:(m?1w:\'1W\'),\'3x-F\':1w,\'3u\':1});$(\'1L\').O(6.9.B);6.2r();G 6.9.B},2r:p(){$(1d).S(\'18\',$.u(p(){n(6.1c){6.P.18();6.16()}},6));$(1d).S(\'3C\',$.u(p(){n(6.1c){6.16()}},6));6.9.B.S(\'3B\',$.u(p(a){n(a.3H==27){6.1a(Q)}},6));6.9.q.S(\'V\',$.u(p(a){$(\'14[r=V]:1t, K[r=V]:1t, K:1t\',6.9.q).1R(\'1e\');n(!8.q.17){a.1j()}},6));6.P.D.S(\'15\',$.u(p(){$(6).2h(\'15\')},6));6.P.D.S(\'1m\',$.u(p(){$(6).2h(\'1a\')},6))},15:p(g,h,j){A k=[\'2p\',\'3D\',\'3E\',\'1i\',\'2t\'];6.9.B.2C(6.8.C,$.u(p(c){h=$.12(R,{r:\'2p\',q:{\'17\':Q}},h||{});n(1F h.U==="N"){n(h.r==\'2t\'||h.r==\'1i\'){A d=[{r:\'V\',w:2g},{r:\'1X\',w:3h}]}H{A d=[{r:\'V\',w:2g}]}}H{A d=h.U};n(1F h.W==="N"&&h.r==\'1i\'){A f=[{r:\'3f\',C:\'1i\',w:\'\'}]}H{A f=h.W};6.1n=$.1T(j)?j:p(e){};n(1F f!=="N"){6.9.W=$(\'<T 1k="\'+6.8.C+\'-W"></T>\');6.9.q.O(6.9.W);$.1y(f,$.u(p(i,a){n(a.r==\'3c\'){1E=a.I?\'<I 1k="\'+6.8.C+\'-I">\':\'\';1I=a.I?a.I+\'</I>\':\'\';a.w=a.w===N?\'1\':a.w;1z=a.C===N?6.8.C+\'-I-\'+i:a.C;6.9.W.O($(1E+\'<14 r="\'+a.r+\'" 1Y="19:3j; E:1W;" C="\'+1z+\'" w="\'+a.w+\'" 2e="2d"/> \'+1I))}H{1E=a.I?\'<I 1k="\'+6.8.C+\'-I">\'+a.I:\'\';1I=a.I?\'</I>\':\'\';a.w=a.w===N?\'\':a.w;2c=a.1l===N||a.1l==Q?\'\':\'1l="R"\';1z=a.C===N?6.8.C+\'-I-\'+i:a.C;6.9.W.O($(1E+\'<14 r="\'+a.r+\'" C="\'+1z+\'" w="\'+a.w+\'" 2e="2d" \'+2c+\'/>\'+1I))}},6))}6.9.U=$(\'<T 1k="\'+6.8.C+\'-U"></T>\');6.9.q.O(6.9.U);n(h.q.17){6.9.q.1H(\'1g\',h.q.1g===N?\'#\':h.q.1g);6.9.q.1H(\'1h\',h.q.1h===N?\'1u\':h.q.1h);6.8.q.17=R}H{6.9.q.1H(\'1g\',\'#\');6.9.q.1H(\'1h\',\'1u\');6.8.q.17=Q}n(h.r!=\'1i\'){$.1y(d,$.u(p(i,a){n(a.r==\'V\'){6.9.U.O($(\'<K r="V">\'+a.w+\'</K>\').S(\'1e\',$.u(p(e){6.1a(a.w);e.1j()},6)))}H n(a.r==\'1X\'){6.9.U.O($(\'<K r="K">\'+a.w+\'</K>\').S(\'1e\',$.u(p(e){6.1a(Q);e.1j()},6)))}},6))}H n(h.r==\'1i\'){$.1y(d,$.u(p(i,a){n(a.r==\'V\'){6.9.U.O($(\'<K r="V">\'+a.w+\'</K>\').S(\'1e\',$.u(p(e){n($(\'14[1l="R"]:2x(:w)\').2y>0){$(\'14[1l="R"]:2x(:w):1t\').2B();6.13()}H n(6.8.q.17){G R}H{6.1a(6.2A($(\'14\',6.9.W)))}e.1j()},6)))}H n(a.r==\'1X\'){6.9.U.O($(\'<K r="K">\'+a.w+\'</K>\').S(\'1e\',$.u(p(e){6.1a(Q);e.1j()},6)))}},6))};6.9.q.3w(g);$.1y(k,$.u(p(i,e){6.9.Y.3y(6.8.C+\'-\'+e)},6));6.9.Y.33(6.8.C+\'-\'+h.r);6.16();6.1c=R;6.P.15();6.9.B.v({19:\'2F\',J:(($(1v).E()-6.8.E)/2)});6.16();2o($.u(p(){A b=$(\'14, K\',6.9.B);n(b.2y){b.2O(0).2B()}},6),6.8.23)},6));6.i++;n(6.i==1){6.9.B.28(6.8.C)}},2A:p(b){G $.2I(b,p(a){G $(a).2w()})},16:p(){A a={x:$(1d).E(),y:$(1d).F()};A b={x:$(1d).34(),y:$(1d).32()};A c=6.9.B.2U();A y=0;A x=0;y=b.x+((a.x-6.8.E)/2);n(6.8.2G=="2X"){x=(b.y+a.y+1w)}H{x=(b.y-c)-1w}n(6.1c){n(6.1G){6.1G.1S}6.1G=6.9.B.1s({J:y,11:b.y+((a.y-c)/2)},{1U:6.8.23,2C:Q,2D:\'1M\'})}H{6.9.B.v({11:x,J:y})}},1a:p(a){6.9.B.v({19:\'1o\',11:0});6.1c=Q;n($.1T(6.1n)){6.1n.2u(6,$.2H(a))}2o($.u(p(){6.i--;6.9.B.28(6.8.C)},6),6.8.1r);n(6.i==1){6.P.1m()}6.16();6.9.q.3l()},13:p(){A x=6.8.13.2E;A d=6.8.13.1U;A t=6.8.13.X;A o=6.8.13.2v;A l=6.9.B.Z().J;A e=6.9.B;3F(i=0;i<o;i++){e.1s({J:l+x},d,t);e.1s({J:l-x},d,t)};e.1s({J:l+x},d,t);e.1s({J:l},d,t)}},B:p(a,b,c){n(1F a=="3z"){$.1J.2z(a)}H{G $.1J.15(a,b,c)}}});$(p(){n(31($.38.2s)>1.2){$.1J.1x()}H{39"2M 1b 1Q 2N 3t 3g 3i 3n 3m. 3q 3G 1b 1.3+"}})})(1b);',62,231,'||||||this||options|esqueleto||||||||||||||if||function|form|type|||proxy|css|value||||var|msgbox|name|element|width|height|return|else|label|left|button|zIndex|shim|undefined|append|overlay|false|true|bind|div|buttons|submit|inputs|transition|wrapper|position||top|extend|shake|input|show|moveBox|active|resize|display|close|jQuery|visible|window|click|background|action|method|prompt|preventDefault|class|required|hide|callback|none|hidden|100|closeDuration|animate|first|post|document|80|create|each|iName|absolute|showDuration|target|border|iLabel|typeof|animation|attr|fLabel|MsgBoxObject|parseInt|body|easeOutBack|color|6px|rgba|version|trigger|stop|isFunction|duration|browser|auto|cancel|style|15px|radius|modal|opacity|moveDuration|shadow|hideOnClick|box||dequeue|defaults|margin|getTime|iRequired|off|autocomplete|Date|LBN_BUTTON_SUBMIT|triggerHandler|word|index|new|webkit|moz|id|setTimeout|alert|inject|addevents|jquery|confirm|apply|loops|val|not|length|config|toArguments|focus|queue|easing|distance|block|emergefrom|makeArray|map|iframe|arguments|break|The|that|get|relative|wrap|fadeOut|insertAfter|html|outerHeight|src|frameborder|bottom|scrolling|no|right|parseFloat|scrollTop|addClass|scrollLeft|IF_|unbind|fadeIn|fn|throw|static|500|checkbox|320|14001|text|loaded|LBN_BUTTON_CANCEL|is|inline|FFFFFF|empty|old|too|200|000000|MsgBox|msie|70158|was|zoom|expr|prepend|min|removeClass|object|formaction|keydown|scroll|info|error|for|requires|keyCode|fixed'.split('|'),0,{}));
;(function($) {
  
  var uagent        = (navigator && navigator.userAgent) ? navigator.userAgent.toLowerCase() : "";
  var is_ie6        = ($.browser.msie && parseInt($.browser.version, 10) < 7 && parseInt($.browser.version, 10) > 4);
  var is_smartphone = false;

  // detect android;
  if (uagent.search("mobile") > -1) {
    if (uagent.search("android") > -1 || uagent.search("googletv") > -1 || uagent.search("htc_flyer") > -1) {
      is_smartphone = true;
    }
  };

  // detect opera mini and mobile;
  if (uagent.search("opera") > -1) {
    if (uagent.search("mini") > -1 && uagent.search("mobi") > -1) {
      is_smartphone = true;
    }
  };

  // detect iOS;
  if (uagent.search("iphone") > -1) {
    is_smartphone = true;
  };

  // detect windows 7 phones;
  if (uagent.search("windows phone os 7") > -1) {
    is_smartphone = true;
  };

  // for jQuery 1.3;
  if ($.proxy === undefined) {
    $.extend({
      proxy: function( fn, thisObject ) {
        if ( fn ) {
          proxy = function() { return fn.apply(thisObject || this, arguments); };
        };
        return proxy;
      }
    });
  };
    
  // for jQuery 1.3;
  $.extend($.fx.prototype, {
    update: function() {
      if ( this.options.step ) {
        this.options.step.call( this.elem, this.now, this );
      }

      (jQuery.fx.step[this.prop] || jQuery.fx.step._default)( this );
    }
  });
	
  // jQuery Easing v1.3;
  $.extend( $.easing, {
    easeOutBack: function (x, t, b, c, d, s) {
      if (s == undefined) s = 1.70158;
      return c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;
    }
  });

  $.extend({
    LightBoxObject: {
      defaults    : {
                      name            : 'jquery-lightbox',
                      zIndex          : 7000,
                      width           : 470,
                      height          : 280,
                      background      : '#FFFFFF',
                      modal           : false,
                      overlay         : {
                                        'opacity': 0.6
                                      },
                      showDuration    : 400,
                      closeDuration   : 200,
                      moveDuration    : 800,
                      resizeDuration  : 800,
                      showTransition  : 'easeOutBack',
                      closeTransition : 'easeOutBack',
                      moveTransition  : 'easeOutBack',
                      resizeTransition : 'easeOutBack',
                      shake           : {
                                        'distance'   : 10,
                                        'duration'   : 100,
                                        'transition' : 'easeOutBack',
                                        'loops'      : 2
                                      },
                      flash           : {
                                        'width'  : 640,
                                        'height' : 360
                                      },
                      maps            : {
                                        'width'  : 640,
                                        'height' : 360
                                      },
                      emergefrom      : 'top'
                    },
      options     : {},
      animations  : {},
      gallery     : {},
      image       : {},
      esqueleto   : {
                      lightbox    : [],
                      buttons     : {
                                      close     : [],
                                      prev      : [],
                                      max       : [],
                                      next      : []
                                    },
                      background  : [],
                      image       : [],
                      title       : [],
                      html        : []
                    },
      visible     : false,
      maximized   : false,
      mode        : 'image',
      videoregs   : {
        swf: {
          reg: /[^\.]\.(swf)\s*$/i
        },
        youtube: {
          reg: /youtube\.com\/watch/i,
          split: '=',
          index: 1,
          iframe: 1,
          url: "http://www.youtube.com/embed/%id%?autoplay=1&amp;fs=1&amp;rel=0&amp;modestbranding=1&amp;enablejsapi=1"
        },
        metacafe: {
          reg: /metacafe\.com\/watch/i,
          split: '/',
          index: 4,
          url: "http://www.metacafe.com/fplayer/%id%/.swf?playerVars=autoPlay=yes"
        },
        dailymotion: {
          reg: /dailymotion\.com\/video/i,
          split: '/',
          index: 4,
          url: "http://www.dailymotion.com/swf/video/%id%?additionalInfos=0&amp;autoStart=1"
        },
        google: {
          reg: /google\.com\/videoplay/i,
          split: '=',
          index: 1,
          url: "http://video.google.com/googleplayer.swf?autoplay=1&amp;hl=en&amp;docId=%id%"
        },
        vimeo: {
          reg: /vimeo\.com/i,
          split: '/',
          index: 3,
          iframe: 1,
          url: "http://player.vimeo.com/video/%id%?hd=1&amp;autoplay=1&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1"
        },
        gametrailers: {
          reg: /gametrailers.com/i,
          split: '/',
          index: 5,
          url: "http://www.gametrailers.com/remote_wrap.php?mid=%id%"
        },
        collegehumornew: {
          reg: /collegehumor.com\/video\//i,
          split: 'video/',
          index: 1,
          url: "http://www.collegehumor.com/moogaloop/moogaloop.jukebox.swf?autostart=true&amp;fullscreen=1&amp;use_node_id=true&amp;clip_id=%id%"
        },
        collegehumor: {
          reg: /collegehumor.com\/video:/i,
          split: 'video:',
          index: 1,
          url: "http://www.collegehumor.com/moogaloop/moogaloop.swf?autoplay=true&amp;fullscreen=1&amp;clip_id=%id%"
        },
        ustream: {
          reg: /ustream.tv/i,
          split: '/',
          index: 4,
          url: "http://www.ustream.tv/flash/video/%id%?loc=%2F&amp;autoplay=true&amp;vid=%id%&amp;disabledComment=true&amp;beginPercent=0.5331&amp;endPercent=0.6292&amp;locale=en_US"
        },
        twitvid: {
          reg: /twitvid.com/i,
          split: '/',
          index: 3,
          url: "http://www.twitvid.com/player/%id%"
        },
        wordpress: {
          reg: /v.wordpress.com/i,
          split: '/',
          index: 3,
          url: "http://s0.videopress.com/player.swf?guid=%id%&amp;v=1.01"
        },
        vzaar: {
          reg: /vzaar.com\/videos/i,
          split: '/',
          index: 4,
          url: "http://view.vzaar.com/%id%.flashplayer?autoplay=true&amp;border=none"
        }
      },
      
      mapsreg: {
        bing: {
          reg: /bing.com\/maps/i,
          split: '?',
          index: 1,
          url: "http://www.bing.com/maps/embed/?emid=3ede2bc8-227d-8fec-d84a-00b6ff19b1cb&amp;w=%width%&amp;h=%height%&amp;%id%"
        },
        streetview: {
          reg: /maps.google.com(.*)layer=c/i,
          split: '?',
          index: 1,
          url: "http://maps.google.com/?output=svembed&amp;%id%"
        },
        googlev2: {
          reg: /maps.google.com\/maps\/ms/i,
          split: '?',
          index: 1,
          url: "http://maps.google.com/maps/ms?output=embed&amp;%id%"
        },
        google: {
          reg: /maps.google.com/i,
          split: '?',
          index: 1,
          url: "http://maps.google.com/maps?%id%&amp;output=embed"
        }
      },
      
      imgsreg: /\.(jpg|jpeg|gif|png|bmp|tiff)(.*)?$/i,
      
      overlay : {
        create: function(options) {
          this.options = options;
          this.element = $('<div id="'+new Date().getTime()+'" class="'+this.options.name+'-overlay"></div>');
          this.element.css($.extend({}, {
            'position'  : 'fixed',
            'top'       : 0,
            'left'      : 0,
            'opacity'   : 0,
            'display'   : 'none',
            'z-index'   : this.options.zIndex
          }, this.options.style));

          this.element.click( $.proxy(function(event) {
            if (this.options.hideOnClick) {
              if ($.isFunction(this.options.callback)) {
                this.options.callback();
              } else {
                this.hide();
              }
            }
            event.preventDefault();
          }, this));
          
          this.hidden = true;
          this.inject();
          return this;
        },

        inject: function() {
          this.target = $(document.body);
          this.target.append(this.element);

          if (is_ie6) {
            this.element.css({'position': 'absolute'});
            var zIndex = parseInt(this.element.css('zIndex'));
            if (!zIndex) {
              zIndex = 1;
              var pos = this.element.css('position');
              if (pos == 'static' || !pos) {
                this.element.css({'position': 'relative'});
              }
              this.element.css({'zIndex': zIndex});
            }
            zIndex = (!!(this.options.zIndex || this.options.zIndex === 0) && zIndex > this.options.zIndex) ? this.options.zIndex : zIndex - 1;
            if (zIndex < 0) {
              zIndex = 1;
            }
            this.shim = $('<iframe id="IF_'+new Date().getTime()+'" scrolling="no" frameborder=0 src=""></iframe>');
            this.shim.css({
              zIndex    : zIndex,
              position  : 'absolute',
              top       : 0,
              left      : 0,
              border    : 'none',
              width     : 0,
              height    : 0,
              opacity   : 0
            });
            this.shim.insertAfter(this.element);
            $('html, body').css({
              'height'      : '100%',
              'width'       : '100%',
              'margin-left' : 0,
              'margin-right': 0
            });
          }
        },

        resize: function(x, y) {
          this.element.css({ 'height': 0, 'width': 0 });
          if (this.shim) { this.shim.css({ 'height': 0, 'width': 0 }); };

          var win = { x: $(document).width(), y: $(document).height() };
          
          this.element.css({
            'width'   : '100%',
            'height'  : y ? y : win.y
          });
          
          if (this.shim) {
            this.shim.css({ 'height': 0, 'width': 0 });
            this.shim.css({
              'position': 'absolute',
              'left'    : 0,
              'top'     : 0,
              'width'   : this.element.width(),
              'height'  : y ? y : win.y
            });
          }
          return this;
        },

        show: function(callback) {
          if (!this.hidden) { return this; };
          if (this.transition) { this.transition.stop(); };
          if (this.shim) { this.shim.css({'display': 'block'}); };
          this.element.css({'display':'block', 'opacity':0});

          this.target.bind('resize', $.proxy(this.resize, this));
          this.resize();
          this.hidden = false;

          this.transition = this.element.fadeTo(this.options.showDuration, this.options.style.opacity, $.proxy(function(){
            if (this.options.style.opacity) { this.element.css(this.options.style) };
            this.element.trigger('show');
            if ($.isFunction(callback)) { callback(); };
          }, this));
          
          return this;
        },

        hide: function(callback) {
          if (this.hidden) { return this; };
          if (this.transition) { this.transition.stop(); };
          if (this.shim) { this.shim.css({'display': 'none'}); };
          this.target.unbind('resize');
          this.hidden = true;

          this.transition = this.element.fadeTo(this.options.closeDuration, 0, $.proxy(function(){
            this.element.trigger('hide');
            if ($.isFunction(callback)) { callback(); };
            this.element.css({ 'height': 0, 'width': 0, 'display': 'none' });
          }, this));

          return this;
        }
      },

      create: function(options) {
        this.options = $.extend(true, this.defaults, options);

        var name     = this.options.name;
        var lightbox = $('<div class="'+name+' '+name+'-mode-image"><div class="'+name+'-border-top-left"></div><div class="'+name+'-border-top-middle"></div><div class="'+name+'-border-top-right"></div><a class="'+name+'-button-close" href="#close"><span>Close</span></a><div class="'+name+'-navigator"><a class="'+name+'-button-left" href="#"><span>Previous</span></a><a class="'+name+'-button-right" href="#"><span>Next</span></a></div><div class="'+name+'-buttons"><div class="'+name+'-buttons-init"></div><a class="'+name+'-button-left" href="#"><span>Previous</span></a><a class="'+name+'-button-max" href="#"><span>Maximize</span></a><div class="'+name+'-buttons-custom"></div><a class="'+name+'-button-right" href="#"><span>Next</span></a><div class="'+name+'-buttons-end"></div></div><div class="'+name+'-background"></div><div class="'+name+'-html"></div><div class="'+name+'-border-bottom-left"></div><div class="'+name+'-border-bottom-middle"></div><div class="'+name+'-border-bottom-right"></div></div>');

        this.overlay.create({
          name          : name,
          style         : this.options.overlay,
          hideOnClick   : !this.options.modal,
          zIndex        : this.options.zIndex-1,
          callback      : $.proxy(this.close, this),
          showDuration  : (is_smartphone ? 2 : this.options.showDuration),
          closeDuration : (is_smartphone ? 2 : this.options.closeDuration)
        });
        
        this.esqueleto.lightbox       = lightbox;
        this.esqueleto.navigator      = $('.'+name+'-navigator', lightbox);
        this.esqueleto.buttons.div    = $('.'+name+'-buttons', lightbox);
        this.esqueleto.buttons.close  = $('.'+name+'-button-close', lightbox);
        this.esqueleto.buttons.prev   = $('.'+name+'-button-left', lightbox);
        this.esqueleto.buttons.max    = $('.'+name+'-button-max', lightbox);
        this.esqueleto.buttons.next   = $('.'+name+'-button-right', lightbox);
        this.esqueleto.buttons.custom = $('.'+name+'-buttons-custom', lightbox);
        this.esqueleto.background     = $('.'+name+'-background', lightbox);
        this.esqueleto.html           = $('.'+name+'-html', lightbox);

        this.esqueleto.move           = $('<div class="'+name+'-move"></div>').css({
          'position' : 'absolute',
          'z-index'  : this.options.zIndex,
          'top'      : -999,
          'left'     : -999
        }).append(lightbox);
        
        $('body').append(this.esqueleto.move);

        this.win = (window!=window.top) ? window.top : window;
        
        this.addevents();
        return lightbox;
      },
      
      addevents: function() {
        this.esqueleto.buttons.close.bind('click touchend', $.proxy(function(ev) {
          this.close();
          ev.preventDefault();
        }, this));
        
        if (is_smartphone) {
          this.win.onorientationchange = function() { 
            $(this.win).trigger('resize');
          };
        };
        
        $(this.win).bind('resize', $.proxy(function() {
          if (this.visible) {
            this.overlay.resize();
            if (!this.maximized) {
              this.movebox();
            }
          }
        }, this));

        $(this.win).bind('scroll', $.proxy(function() {
          if (this.visible && !this.maximized) {
            this.movebox();
          }
        }, this));

        $(document).bind('keydown', $.proxy(function(event) {
          if (this.visible) {
            if (event.keyCode == 27 && this.overlay.options.hideOnClick) { // esc
              this.close();
            }
            if (this.gallery.total > 1) {
              if (event.keyCode == 37){
                this.esqueleto.buttons.prev.triggerHandler('click', event);
              }

              if (event.keyCode == 39){
                this.esqueleto.buttons.next.triggerHandler('click', event);
              }
            }            
          }
        }, this));
        
        this.esqueleto.buttons.max.bind('click touchend', $.proxy(function(event) {
          this.maximinimize();
          event.preventDefault();
        }, this));
                
        // heredamos los eventos, desde el overlay:
        this.overlay.element.bind('show', $.proxy(function() { $(this).triggerHandler('show'); }, this));
        this.overlay.element.bind('hide', $.proxy(function() { $(this).triggerHandler('close'); }, this));
      },
      
      create_gallery: function(href) {
        var prev = this.esqueleto.buttons.prev;
        var next = this.esqueleto.buttons.next;

        if ($.isArray(href) && href.length > 1) {
          this.gallery.images   = href;
          this.gallery.current  = 0;
          this.gallery.total    = href.length;
          href = href[0];

          prev.unbind('click');
          next.unbind('click');

          prev.bind('click touchend', $.proxy(function(event){
            if (this.gallery.current - 1 < 0) {
              this.gallery.current = this.gallery.total - 1;
            } else {
              this.gallery.current = this.gallery.current - 1;
            }
            this.show(this.gallery.images[this.gallery.current]);
            event.preventDefault();
          }, this));

          next.bind('click touchend', $.proxy(function(event){
            if (this.gallery.current + 1 >= this.gallery.total) {
              this.gallery.current = 0;
            } else {
              this.gallery.current = this.gallery.current + 1;
            }
            this.show(this.gallery.images[this.gallery.current]);
            event.preventDefault();
          }, this));
        }
        
        if (this.gallery.total > 1) {
          if (this.esqueleto.navigator.css("display") == "none") {
            this.esqueleto.buttons.div.show();
          }
          prev.show();
          next.show();
        } else {
          prev.hide();
          next.hide();
        }
      },
      
      custombuttons: function(buttons, anchor) {
        $.each(buttons, $.proxy(function(i, button) {
          this.esqueleto.buttons.custom.append($('<a href="#" class="'+button['class']+'">'+button.html+'</a>').bind('click', $.proxy(function(e) {
            if ($.isFunction(button.callback)) {
              anchor = typeof anchor === "undefined" ? false : anchor[this.gallery.current || 0];
              button.callback(this.esqueleto.image.src, this, anchor);
            }
            e.preventDefault();
          }, this)));
        }, this));
        this.esqueleto.buttons.div.show();
      },
      
      show: function(href, options, callback, anchor) {
        var type       = '';
        var beforeopen = false;
        
        // is inline content? lightbox($("<div/>"));
        if (typeof href === "object" && href[0].nodeType) {
          var tmpElement = href;
          href = "#";
          type = 'element';
        }
        
        //is it an array and is it empty?
        if (($.isArray(href) && href.length <= 1) || href=='') {
          return false;
        };
        
        this.loading();
        beforeopen = this.visible;
        this.open();

        if (!beforeopen) { this.movebox(); };
                
        // create gallery buttons and show the first image
        this.create_gallery(href, options);
        if ($.isArray(href) && href.length > 1) {
          href = href[0];
        }
        
        var temp  = href.split("%LIGHTBOX%");
        var href  = temp[0];
        var title = temp[1] || '';

        options = $.extend(true, {
          'width'      : 0,
          'height'     : 0,
          'modal'      : 0,
          'force'      : '',
          'title'      : title,
          'autoresize' : true,
          'move'       : -1,
          'iframe'     : false,
          'flashvars'  : '',
          'cufon'      : true,
          'onOpen'     : function() {},
          'onClose'    : function() {}
        }, options || {});
        
        // callbacks
        this.options.onOpen   = options.onOpen;
        this.options.onClose  = options.onClose;

        this.options.cufon    = options.cufon;
        
        urloptions = this.unserialize(href);
        options    = $.extend({}, options, urloptions);

        var size   = { x: $(this.win).width(), y: $(this.win).height() };

        // calcular porcentajes si es que existen:
        if (options.width && (""+options.width).indexOf("p") > 0) {
          options.width = (size.x-20) * options.width.substring(0, options.width.indexOf("p")) / 100;
        }
        if (options.height && (""+options.height).indexOf("p") > 0) {
          options.height = (size.y-20) * options.height.substring(0, options.height.indexOf("p")) / 100;
        }
        
        this.overlay.options.hideOnClick = !options.modal;

        this.esqueleto.buttons.max.removeClass(this.options.name+'-button-min').addClass(this.options.name+'-button-max');

        this.maximized = !(options.move > 0 || (options.move == -1 && options.autoresize));
                
        if ($.isArray(options.buttons)) {
          this.custombuttons(options.buttons, anchor);
        }
        
        if (!this.esqueleto.buttons.custom.is(":empty")) {
          this.esqueleto.buttons.div.show();
        }
        
        if (options.force != '') {
          type = options.force;
        } else if (options.iframe) {
          type = 'iframe';
        } else if (href.match(this.imgsreg)) {
          type = 'image';
        } else {
          $.each(this.videoregs, $.proxy(function(i, e) {
            if (href.split('?')[0].match(e.reg)) {
              if (e.split) {
                videoid = href.split(e.split)[e.index].split('?')[0].split('&')[0];
                href = e.url.replace("%id%", videoid);
              }
              type = e.iframe ? 'iframe' : 'flash';
              options.width  = options.width ? options.width : this.options.flash.width;
              options.height = options.height ? options.height : this.options.flash.height;
              return false;
            }
          }, this));

          $.each(this.mapsreg, function(i, e) {
            if (href.match(e.reg)) {
              type = 'iframe';
              if (e.split) {
                id = href.split(e.split)[e.index];
                href = e.url.replace("%id%", id).replace("%width%", options.width).replace("%height%", options.height);
              }
              options.width  = options.width ? options.width : this.options.maps.width;
              options.height = options.height ? options.height : this.options.maps.height;
              return false;
            }
          });

          if (type=='') {
            if (href.match(/#/)) {
              obj = href.substr(href.indexOf("#"));
              if ($(obj).length > 0) {
                type = 'inline';
                href = obj;
              } else {
                type = 'ajax';
              }
            } else {
              type = 'ajax';
            }
          }
        }
        
        if (type=='image') {
          this.esqueleto.buttons.max.hide();

          this.esqueleto.image = new Image();
          $(this.esqueleto.image).load($.proxy(function() {
            $(this.esqueleto.image).unbind('load');
            var image = this.esqueleto.image;
            
            if (!this.visible) { return false };
            
            if (options.width) {
              width   = parseInt(options.width);
              height  = parseInt(options.height);
            } else {
              if (options.autoresize) {
                var objsize = this.calculate(image.width, image.height);
                width   = objsize.width;
                height  = objsize.height;
                if (image.width != width || image.height != height) {
                  this.esqueleto.buttons.div.show();
                  this.esqueleto.buttons.max.show();
                }
              } else {
                width   = image.width;
                height  = image.height;
              }
            }

            this.esqueleto.title = (options.title == '') ? null : $('<div class="'+this.options.name+'-title"></div>').html(options.title);

            this.loadimage();

            this.resize(width, height);
          }, this));
          
          this.esqueleto.image.onerror = $.proxy(function() {
            this.error("The requested image cannot be loaded. Please try again later.");
          }, this);
          
          this.esqueleto.image.src = href;
        } else if (type=='flash' || type=='inline' || type=='ajax' || type=='element') {

          if (type == 'inline') {
            this.appendhtml($(href).clone(true).show(), options.width > 0 ? options.width : $(href).outerWidth(true), options.height > 0 ? options.height : $(href).outerHeight(true), 'html');
            
          } else if (type == 'ajax') {
            if (options.width) {
              width   = options.width;
              height  = options.height;
            } else {
              this.error("You need to specify the size of the lightbox.");
              return false;
            }

            if (this.animations.ajax) { this.animations.ajax.abort(); };
            this.animations.ajax = $.ajax({
              url      : href,
              type     : "GET",
              cache    : false,
              dataType : "html",
              error    : $.proxy(function(jqXHR, textStatus, errorThrown) { this.error("Error" + " " + jqXHR.status + " " + errorThrown); }, this),
              success  : $.proxy(function(html) { this.appendhtml($(html), width, height, 'html'); }, this)
            });
          
          } else if (type == 'flash') {
            var flash = this.swf2html(href, options.width, options.height, options.flashvars,options.title);
            this.appendhtml($(flash), options.width, options.height+50, 'html');
          } else if (type=='element') {
            this.appendhtml(tmpElement, options.width > 0 ? options.width : tmpElement.outerWidth(true), options.height > 0 ? options.height : tmpElement.outerHeight(true), 'html');
          }
        } else if (type=='iframe') {
        
          if (options.width) {
            width   = options.width;
            height  = options.height;
          } else {
            this.error("You need to specify the size of the lightbox.");
            return false;
          }
          this.appendhtml($('<iframe id="IF_'+(new Date().getTime())+'" frameborder="0" src="'+href+'" style="margin:0; padding:0;" allowTransparency="true"></iframe>').css(options), options.width, options.height, 'html');
        }

        this.callback = $.isFunction(callback) ? callback : function(e) {};
      },

      loadimage: function() {
        this.esqueleto.background.bind('complete', $.proxy(function() {
          this.esqueleto.background.unbind('complete');

          if (!this.visible) { return false };

          this.changemode('image');

          this.esqueleto.background.empty();
          this.esqueleto.html.empty();

          if (this.esqueleto.title) {
            this.esqueleto.background.append(this.esqueleto.title);
          }

          this.esqueleto.background.append(this.esqueleto.image);
          
          if (is_ie6 || is_smartphone) {
            this.esqueleto.background.removeClass(this.options.name+'-loading');
          } else {
            $(this.esqueleto.image).stop().css({"opacity":0}).animate({"opacity":1}, 400, $.proxy(function() {this.esqueleto.background.removeClass(this.options.name+'-loading');}, this));
          }

          this.options.onOpen();
        }, this));
      },
            
      swf2html: function(href, width, height, flashvars,title) {
        if (typeof flashvars == 'undefined' || flashvars == '') flashvars = 'autostart=1&autoplay=1&fullscreenbutton=1';
        var str = '<h3>'+title+'</h3><hr/><object width="'+width+'" height="'+height+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"><param name="movie" value="'+href+'" style="margin:0; padding:0;"></param>';
        str += '<param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><param name="wmode" value="transparent"></param>';
        str += '<param name="autostart" value="true"></param><param name="autoplay" value="true"></param><param name="flashvars" value="'+flashvars+'"></param>';
        str += '<param name="width" value="'+width+'"></param><param name="height" value="'+height+'"></param>';
        str += '<embed src="'+href+'" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" autostart="true" autoplay="true" flashvars="'+flashvars+'" wmode="transparent" width="'+width+'" height="'+height+'" style="margin:0; padding:0;"></embed></object>';
        return str;
      },
      
      appendhtml: function(obj, width, height, mode) {
        if (typeof mode !== 'undefined') {
          this.changemode(mode);
        }
        
        this.resize(width + 30, height + 20);

        this.esqueleto.background.bind('complete', $.proxy(function() {
          this.esqueleto.background.removeClass(this.options.name+'-loading');
          this.esqueleto.html.html(obj);
          this.esqueleto.html.html(obj); // double line to fix chrome bug
          this.esqueleto.background.unbind('complete');
          if (this.options.cufon && typeof Cufon !== 'undefined') {
            Cufon.refresh();
          }
          this.options.onOpen();
        }, this));
        
      },
      
      movebox: function(w, h) {
        var size   = { x: $(this.win).width(),      y: $(this.win).height() };
        var scroll = { x: $(this.win).scrollLeft(), y: $(this.win).scrollTop() };
        var height = h!=null ? h : this.esqueleto.lightbox.outerHeight();
        var width  = w!=null ? w : this.esqueleto.lightbox.outerWidth();
        var y      = 0;
        var x      = 0;

         //vertically center
        x = scroll.x + ((size.x - width) / 2);

        if (this.visible) {
          y = scroll.y + (size.y - height) / 2;
        } else if (this.options.emergefrom == "bottom") {
          y = (scroll.y + size.y + 14);
        } else {// top
          y = (scroll.y - height) - 14;
        }
        
        if (this.visible) {

          if (!this.animations.move) {
            this.morph(this.esqueleto.move, {
              'left' : x
            }, 'move');
          }

          this.morph(this.esqueleto.move, {
            'top'  : y
          }, 'move');

        } else {

          this.esqueleto.move.css({
            'left' : x,
            'top'  : y
          });
        }
      },

      morph: function(el, prop, mode, callback, queue) {
        var optall = $.speed({
          queue     : queue || false,
          duration  : (is_smartphone ? 2 : this.options[mode+'Duration']),
          easing    : this.options[mode+'Transition'],
          complete  : ($.isFunction(callback) ? $.proxy(callback, this) : null)
        });
        
        return el[ optall.queue === false ? "each" : "queue" ](function() {

          if (parseFloat($.fn.jquery) > 1.5) {
            if ( optall.queue === false ) {
              jQuery._mark( this );
            }
          }

          var opt = $.extend({}, optall), self = this;

          opt.curAnim = $.extend({}, prop);

          opt.animatedProperties = {};

          for ( p in prop ) {
            name = p;
            val = prop[ name ];
            opt.animatedProperties[ name ] = opt.specialEasing && opt.specialEasing[ name ] || opt.easing || 'swing';
          }

          $.each( prop, function( name, val ) {
            var e = new $.fx( self, opt, name );

            e.custom( e.cur(true) || 0, val, "px" );
          });

          return true;
        });
      },
      
      resize: function(x, y) {
        if (this.visible) {
          var size   = { x: $(this.win).width(),      y: $(this.win).height() };
          var scroll = { x: $(this.win).scrollLeft(), y: $(this.win).scrollTop() };
          var left   = (scroll.x + (size.x - (x + 14)) / 2);
          var top    = (scroll.y + (size.y - (y + 14)) / 2);
          
          if ($.browser.msie || ($.browser.mozilla && (parseFloat($.browser.version) < 1.9))) {
            y += 4;
          }
          
          this.animations.move = true;

          this.morph(this.esqueleto.move.stop(), {
            'left': (this.maximized && left < 0) ? 0 : left,
            'top' : (this.maximized && (y + 14) > size.y) ? scroll.y : top
          }, 'move', $.proxy(function() { this.move = false; }, this.animations));

          this.morph(this.esqueleto.html, { 'height': y - 20 }, 'resize');
          this.morph(this.esqueleto.lightbox.stop(), { 'width': (x + 14), 'height': y - 20 }, 'resize', {}, true);
          this.morph(this.esqueleto.navigator, { 'width': x }, 'resize');
          this.morph(this.esqueleto.navigator, { 'top': (y - 90) / 2 }, 'move');
          this.morph(this.esqueleto.background.stop(), { 'width': x, 'height': y }, 'resize', function() { $(this.esqueleto.background).trigger('complete'); });

        } else {

          this.esqueleto.html.css({ 'height': y - 20 });
          this.esqueleto.lightbox.css({ 'width': x + 14, 'height': y - 20 });
          this.esqueleto.background.css({ 'width': x, 'height': y });
          this.esqueleto.navigator.css({ 'width': x, 'height': 90 });
        }
      },
      
      close: function(param) {
        this.visible = false;
        this.gallery = {};
        
        this.options.onClose();
        
        if ($.browser.msie || is_smartphone) {
          this.esqueleto.background.empty();
          this.esqueleto.html.hide().empty().show();
          this.esqueleto.buttons.custom.empty();
          this.esqueleto.move.css({'display': 'none'});
          this.movebox();
        } else {
          this.esqueleto.move.animate({'opacity': 0, 'top': '-=40'}, {
            queue     : false,
            complete  : ($.proxy(function() {
              this.esqueleto.background.empty();
              this.esqueleto.html.empty();
              this.esqueleto.buttons.custom.empty();
              this.movebox();
              this.esqueleto.move.css({'display': 'none', 'opacity': 1, 'overflow': 'visible'});
            }, this))
          });
        }
        
        this.overlay.hide($.proxy(function() {
          if ($.isFunction(this.callback))
          {
            this.callback.apply(this, $.makeArray(param));
          }
        }, this));

        this.esqueleto.background.stop(true, false);
        this.esqueleto.background.unbind('complete');
      },
      
      open: function() {
        this.visible = true;
        if ($.browser.msie) {
          this.esqueleto.move.get(0).style.removeAttribute('filter');
        }
        this.esqueleto.move.css({ 'display' : 'block', 'overflow':'visible' }).show();
        this.overlay.show();
      },

      shake: function() {
        var x = this.options.shake.distance;
        var d = this.options.shake.duration;
        var t = this.options.shake.transition;
        var o = this.options.shake.loops;
        var l = this.esqueleto.move.position().left;
        var e = this.esqueleto.move;

        for (i=0; i<o; i++)
        {
         e.animate({left: l+x}, d, t);
         e.animate({left: l-x}, d, t);
        };

        e.animate({left: l+x}, d, t);
        e.animate({left: l},   d, t);
      },
      
      changemode: function(mode) {
        if (mode != this.mode) {
          this.esqueleto.lightbox.removeClass(this.options.name+'-mode-'+this.mode);
          this.mode = mode;
          this.esqueleto.lightbox.addClass(this.options.name+'-mode-'+this.mode);
        }
        this.esqueleto.move.css({'overflow':'visible'});
      },
      
      error: function(msg) {
        alert(msg);
        this.close();
      },
      
      unserialize: function(data) {
        var regex       = /lightbox\[(.*)?\]$/i;
        var serialised  = {};

        if (data.match(/#/)) {
          data = data.slice(0, data.indexOf("#"));
        }
        data = data.slice(data.indexOf('?') + 1).split("&");
        
        $.each(data, function() {
          var properties = this.split("=");
          var key        = properties[0];
          var value      = properties[1];
          
          if (key.match(regex)) {
            if (isFinite(value)) {
              value = parseInt(value)
            } else if (value.toLowerCase() == "true") {
              value = true;
            } else if (value.toLowerCase() == "false") {
              value = false;
            }
            serialised[key.match(regex)[1]] = value;
          }
        });

        return serialised;
      },
      
      calculate: function(x, y) {
        // Resizing large images
        var maxx = $(this.win).width() - 50;
        var maxy = $(this.win).height() - 50;

        if (x > maxx) {
          y = y * (maxx / x);
          x = maxx;
          if (y > maxy) {
            x = x * (maxy / y);
            y = maxy;
          }
        } else if (y > maxy) {
          x = x * (maxy / y);
          y = maxy;
          if (x > maxx) {
            y = y * (maxx / x);
            x = maxx;
          }
        }
        // End Resizing
        return {width: parseInt(x), height: parseInt(y)};
      },

      loading: function() {
        this.changemode('image');
        this.esqueleto.background.children().stop(true);
        this.esqueleto.background.empty();
        this.esqueleto.html.empty();
        this.esqueleto.background.addClass(this.options.name+'-loading');
        this.esqueleto.buttons.div.hide();
        if (this.visible == false) {
          this.movebox(this.options.width, this.options.height);
          this.resize(this.options.width, this.options.height);
        }
      },

      maximinimize: function() {
        if (this.maximized) {
          this.maximized = false;
          this.esqueleto.buttons.max.removeClass(this.options.name+'-button-min');
          this.esqueleto.buttons.max.addClass(this.options.name+'-button-max');
          this.loading();
          this.loadimage();
          this.esqueleto.buttons.div.show();
          var objsize = this.calculate(this.esqueleto.image.width, this.esqueleto.image.height);
          this.resize(objsize.width, objsize.height);
        } else {
          this.maximized = true;
          this.esqueleto.buttons.max.removeClass(this.options.name+'-button-max');
          this.esqueleto.buttons.max.addClass(this.options.name+'-button-min');
          this.loading();
          this.loadimage();
          this.esqueleto.buttons.div.show();
          this.resize(this.esqueleto.image.width, this.esqueleto.image.height);
        }
      }
      
    }, //end object
   
    lightbox: function(url, options, callback) {
      if (typeof url !== 'undefined') {
        return $.LightBoxObject.show(url, options, callback);
      } else {
        return $.LightBoxObject;
      }
    }
    
  });
  
  $.fn.lightbox = function(options, callback) {
    return $(this).live('click', function(e) {
      $(this).blur();
      
      var sel = [];
      var rel = $.trim($(this).attr('rel')) || '';
      var til = $.trim($(this).attr('title')) || '';
      var lnk = $(this);
      
      rel = rel.replace('[','\\\\[');
      rel = rel.replace(']','\\\\]');
      
      if (!rel || rel == '' || rel === 'nofollow') {
        sel = $(this).attr('href');
        
        copy_options = (til || til != '') ? $.extend({}, options, {'title': til}) : options;

      } else {
        var rels = [];
        var antes = [];
        var desps = [];
        var encon = false;
        
        $("a[rel], area[rel]", this.ownerDocument).filter("[rel=\"" + rel + "\"]").each($.proxy(function(i, el) {
          if (this == el) {
            antes.unshift(el);
            encon = true;
          } else if (encon == false) {
            desps.push(el);
          } else {
            antes.push(el);
          }
        }, this));

        rels = lnk = antes.concat(desps);
        
        $.each(rels, function() {
          var title = $.trim($(this).attr('title')) || '';
          title = title ? "%LIGHTBOX%" + title : '';
          sel.push($(this).attr('href') + title);
        });
        
        if (sel.length == 1) {
          sel = sel[0];
        }

        copy_options = options;
      }

      $.LightBoxObject.show(sel, copy_options, callback, lnk);

      e.preventDefault();
      e.stopPropagation();
    });
  };
  
  $(function() {
    if (parseFloat($.fn.jquery) > 1.2) {
      $.LightBoxObject.create();
    } else {
      throw "The jQuery version that was loaded is too old. Lightbox Evolution requires jQuery 1.3+";
    }
  });
  
})(jQuery);
;var guidely = (function ()
{
   return {
      _guides: [],
      _defaults: {
         showOnStart: true,
         welcome: true,
         welcomeTitle: 'Welcome to the guided tour!',
         welcomeText: 'Click to start a brief tour of our site. Here we\'ll point out important features and tips to make your experience easier. ',
         overlay: true,
         startTrigger: true,
         escClose: true,
         keyNav: true,
         debug: false
      },
      _options: {},
      init: function (config)
      {
         var that, options;
         that = this;
         that._options = $.extend(that._defaults, config);
         if (that._guides.length < 1)
         {
            that._log('No guides available.');
            return false
         }
         that._append();
         that._createTopAnchor();
         that.close();
         if (that._options.startTrigger)
         {
            that._createStartTrigger()
         }
         if (that._options.showOnStart)
         {
            if (that._options.welcome)
            {
               that.welcome()
            }
            else
            {
               that.start()
            }
         }
      },
      start: function ()
      {
         var that = this;
         that.close();
         that._scrollToTop();
         that.showNumbers();
         that.show(1);
         that.showOverlay();
         that._log(that._guides);
         that._reposition();
         $(document).bind('keyup.guidely', function (e)
         {
            if (that._options.escClose)
            {
               if (e.keyCode == 27)
               {
                  that.close()
               }
            }
            if (that._options.keyNav)
            {
               if (e.keyCode == 37)
               {
                  that.prev()
               }
               if (e.keyCode == 39)
               {
                  that.next()
               }
            }
         });
         $(window).bind('resize.guidely', function ()
         {
            that._reposition()
         })
      },
      welcome: function ()
      {
         var that, content, popup, pad, controls, close, overlay, startBtn, noBtn;
         that = this;
         that.close();
         content = $('<div>', {
            'id': 'guide-welcome',
            'class': 'guidely-guide'
         }).appendTo('body');
         popup = $('<div>', {
            'class': 'guidely-popup'
         }).appendTo(content);
         pad = $('<div>', {
            'class': 'guidely-guide-pad'
         }).appendTo(popup);
         pad.append('<h4>' + that._options.welcomeTitle + '</h4>');
         pad.append(that._options.welcomeText);
         controls = $('<div>', {
            'class': 'guidely-controls'
         }).appendTo(popup);
         content.css(
         {
            'position': 'absolute',
            'top': '75px',
            'left': '50%',
            'margin-left': '-' + content.outerWidth() / 2 + 'px'
         });
         close = $('<a>', {
            'href': 'javascript:;',
            'class': 'guidely-close-trigger',
            'html': '&times;',
            'click': function ()
            {
               that.close()
            }
         }).appendTo(content);
         this.showOverlay();
         startBtn = $('<button>', {
            text: LBN_GUIDE_START,
            click: function ()
            {
               that.close();
               that.start()
            }
         }).appendTo(controls);
         noBtn = $('<button>', {
            text: LBN_GUIDE_THANK,
            click: function ()
            {
               that.close()
            }
         }).appendTo(controls);
         content.show();
         that._scrollToTop(function ()
         {
            startBtn.focus()
         });
         $(document).bind('keyup.guidely', function (e)
         {
            if (e.keyCode == 27)
            {
               that.close()
            }
         })
      },
      show: function (guideId)
      {
         var guide = $('#guidely-guide-' + guideId);
         var number = $('#guidely-number-' + guideId);
         this._resetZIndex();
         number.css(
         {
            'z-index': '20001'
         });
         guide.show().css(
         {
            'z-index': '20000'
         });
         guide.find('.guidely-controls button').focus()
      },
      next: function ()
      {
         var that, current, next, id;
         that = this;
         current = $('.guidely-guide:visible');
         next = current.nextAll('.guidely-guide:not(#guide-welcome)').eq(0);
         if (next.length > 0)
         {
            current.hide();
            id = next.attr('id').split('-')[2];
            that.show(id)
         }
      },
      prev: function ()
      {
         var that, current, prev, id;
         that = this;
         current = $('.guidely-guide:visible');
         prev = current.prevAll('.guidely-guide:first');
         if (prev.length > 0)
         {
            current.hide();
            id = prev.attr('id').split('-')[2];
            that.show(id)
         }
      },
      add: function (config)
      {
         var options = {
            anchor: 'top-left'
         };
         options = $.extend(options, config);
         if (options.text === '' || options.text === undefined)
         {
            this._log('Guide id ' + options.attachTo + ' cannot be blank.');
            return false
         }
         this._guides.push(options)
      },
      close: function ()
      {
         this.hideNumbers();
         this.hideGuides();
         this.hideOverlay();
         $(document).unbind('keyup.guidely');
         $(window).unbind('resize.guidely')
      },
      hideGuides: function ()
      {
         $('.guidely-guide').hide()
      },
      showNumbers: function ()
      {
         $('.guidely-number').fadeIn('slow')
      },
      hideNumbers: function ()
      {
         $('.guidely-number').hide()
      },
      showOverlay: function ()
      {
         if (!this._options.overlay)
         {
            return false
         }
         var overlay = $('.guidely-overlay');
         if (!overlay.length)
         {
            $('<div>', {
               'class': 'guidely-overlay'
            }).appendTo('body')
         }
         else
         {
            overlay.show()
         }
      },
      hideOverlay: function ()
      {
         $('.guidely-overlay').hide()
      },
      _createNumber: function (id, options)
      {
         var that, number, coords, displayId;
         that = this;
         coords = this._getAnchorCoords(options);
         displayId = id;
         number = $('<div>', {
            'id': 'guidely-number-' + id,
            'class': 'guidely-number',
            'html': '<span>' + displayId + '</span>'
         });
         number.css(
         {
            'top': coords[0],
            'left': coords[1]
         });
         number.bind('click', function ()
         {
            if ($('#guidely-guide-' + id).is(':visible'))
            {
               return false
            }
            that.showOverlay();
            that.hideGuides();
            that.show(id)
         });
         number.appendTo('body').show()
      },
      _createGuide: function (id, options)
      {
         var that, content, popup, pad, close, controls, coords, number;
         that = this;
         coords = this._getCoords(options);
         number = $('#guidely-number-' + id);
         content = $('<div>', {
            'id': 'guidely-guide-' + id,
            'class': 'guidely-guide'
         }).appendTo('body');
         close = $('<a>', {
            'href': 'javascript:;',
            'class': 'guidely-close-trigger',
            'html': '&times;',
            'click': function ()
            {
               that.close()
            }
         }).appendTo(content);
         popup = $('<div>', {
            'class': 'guidely-popup'
         }).appendTo(content);
         pad = $('<div>', {
            'class': 'guidely-guide-pad'
         }).appendTo(popup);
         if (options.title !== '' && options.title !== undefined)
         {
            pad.append('<h4>' + options.title + '</h4>')
         }
         pad.append(options.text);
         controls = $('<div>', {
            'class': 'guidely-controls'
         }).appendTo(popup);
         if (this._guides.length == id)
         {
            this._createDoneButton().prependTo(controls)
         }
         else
         {
            this._createNextButton().appendTo(controls)
         }
         this._setGuidePosition(number, content)
      },
      _setGuidePosition: function (number, content)
      {
         var offset, left, docWidth, docHeight;
         offset = number.offset();
         docWidth = $(document).width();
         docHeight = $(document).height();
         if (content.outerWidth() + offset.left > docWidth)
         {
            left = (offset.left - content.outerWidth()) + 30;
            content.addClass('guidely-anchor-right')
         }
         else
         {
            left = (offset.left + number.outerWidth()) - 30;
            content.removeClass('guidely-anchor-right')
         }
         content.css(
         {
            'position': 'absolute',
            'top': offset.top + 15,
            'left': left
         })
      },
      _createStartTrigger: function ()
      {
         var that = this;
         $('<a>', {
            'href': 'javascript:;',
            'class': 'guidely-start-trigger',
            'html': LBN_GUIDE_START,
            'click': function (e)
            {
               e.preventDefault();
               if (that._options.welcome)
               {
                  that.welcome(that._options.title, that._options.text)
               }
               else
               {
                  that.start()
               }
            }
         }).appendTo('body')
      },
      _getCoords: function (options)
      {
         var el = $(options.attachTo);
         return {
            width: el.outerWidth(),
            height: el.outerHeight(),
            top: el.offset().top,
            left: el.offset().left
         }
      },
      _getAnchorCoords: function (options)
      {
         var coords, offsetMap, anchor, numberOffset;
         coords = this._getCoords(options);
         anchor = options.anchor.replace('-', '_');
         numberOffset = 45 / 2;
         offsetMap = {
            top_left: [coords.top - numberOffset, coords.left - numberOffset],
            top_right: [coords.top - numberOffset, (coords.left + coords.width) - numberOffset],
            top_middle: [coords.top - numberOffset, coords.left + (coords.width / 2) - numberOffset],
            middle_left: [coords.top + (coords.height / 2) - numberOffset, coords.left - numberOffset],
            middle_middle: [coords.top + (coords.height / 2) - numberOffset, coords.left + (coords.width / 2) - numberOffset],
            middle_right: [coords.top + (coords.height / 2) - numberOffset, coords.left + coords.width - numberOffset],
            bottom_right: [coords.top + coords.height - numberOffset, (coords.left + coords.width) - numberOffset],
            bottom_middle: [coords.top + coords.height - numberOffset, coords.left + (coords.width / 2) - numberOffset],
            bottom_left: [coords.top + coords.height - numberOffset, coords.left - numberOffset]
         };
         return offsetMap[anchor]
      },
      _createNextButton: function ()
      {
         var that = this;
         return $('<button>', {
            text: LBN_GUIDE_NEXT,
            click: function ()
            {
               that.next()
            }
         })
      },
      _createDoneButton: function ()
      {
         var that = this;
         return $('<button>', {
            text: LBN_BUTTON_SUBMIT,
            click: function (e)
            {
               e.preventDefault();
               that.close()
            }
         })
      },
      _resetZIndex: function ()
      {
         $('.guidely-number').css(
         {
            'z-index': '10002'
         });
         $('.guidely-guide').css(
         {
            'z-index': '10001'
         })
      },
      _append: function ()
      {
         for (var i = 0, l = this._guides.length; i < l; i++)
         {
            var di = i + 1;
            this._createNumber(di, this._guides[i]);
            this._createGuide(di, this._guides[i])
         }
      },
      _reposition: function ()
      {
         for (var i = 0, l = this._guides.length; i < l; i++)
         {
            var display_id, coords, number, content;
            display_id = i + 1;
            coords = this._getAnchorCoords(this._guides[i]);
            number = $('#guidely-number-' + display_id);
            number.css(
            {
               'top': coords[0],
               'left': coords[1]
            });
            content = $('#guidely-guide-' + display_id);
            this._setGuidePosition(number, content)
         }
      },
      _scrollToTop: function (callback)
      {
         var target_offset = $("#guidely-top").offset();
         var target_top = target_offset.top;
         $('html, body').animate(
         {
            scrollTop: target_top
         }, 500, function ()
         {
            if (typeof callback === 'function')
            {
               callback()
            }
         })
      },
      _log: function (msg)
      {
         if (typeof window.console != 'undefined' && typeof window.console.log != 'undefined' && this._options.debug)
         {
            console.log(msg)
         }
      },
      _createTopAnchor: function ()
      {
         $('<div>', {
            id: 'guidely-top'
         }).prependTo('body')
      }
   }
})(this);
;(function ($) {
    $.notification = function (settings) {
       	var con, notification, hide, image, right, left, inner;
        
        settings = $.extend({
        	title: undefined,
        	content: undefined,
        	timeout: 0,
        	img: undefined,
        	border: true,
        	fill: false,
        	showTime: false,
        	click: undefined,
        	icon: undefined,
        	color: undefined,
        	error: false
        }, settings);
        
        con = $("#notifications");
        if (!con.length) {
            con = $("<div>", { id: "notifications" }).appendTo( $("#notification-holder") )
        };
        
		notification = $("<div>");
        notification.addClass("notification animated fadeInLeftMiddle fast");
        
        if(settings.error == true) {
        	notification.addClass("error");
        }
        
        if( $("#notifications .notification").length > 0 ) {
        	notification.addClass("more");
        } else {
        	con.addClass("animated flipInX").delay(1000).queue(function(){ 
        	    con.removeClass("animated flipInX");
        			con.clearQueue();
        	});
        }
        
        hide = $("<div>", {
			click: function () {
				 
				
				if($(this).parent().is(':last-child')) {
				    $(this).parent().remove();
				    $('#notifications .notification:last-child').removeClass("more");
				} else {
					$(this).parent().remove();
				}
			}
		});
		hide.html('&times;');
		hide.addClass("hide");

		left = $("<div class='left'>");
		right = $("<div class='right'>");
		
		if(settings.title != undefined) {
			var htmlTitle = "<h2>" + settings.title + "</h2>";
			notification.addClass("big");
		} else {
			var htmlTitle = "";
		}
		
		if(settings.content != undefined) {
			var htmlContent = settings.content;
		} else {
			var htmlContent = "";
		}
		
		inner = $("<div>", { html: htmlTitle + htmlContent });
		inner.addClass("inner");
		
		inner.appendTo(right);
		
		if (settings.img != undefined) {
			image = $("<div>", {
				style: "background-image: url('"+settings.img+"')"
			});
		
			image.addClass("img");
			image.appendTo(left);
			
			if(settings.border==false) {
				image.addClass("border")
			}
			
			if(settings.fill==true) {
				image.addClass("fill");
			}
			
		} else {
			if (settings.icon != undefined) {
				var iconType = settings.icon;
			} else {
				if(settings.error!=true) {
					var iconType = '"';
				} else {
					var iconType = 'c';
				}
			}	
			icon = $('<div class="icon">').html(iconType);
			
			if (settings.color != undefined) {
				icon.css("color", settings.color);
			}
			
			icon.appendTo(left);
		}

        left.appendTo(notification);
        right.appendTo(notification);
        
        hide.appendTo(notification);
        
        function timeSince(time){
        	var time_formats = [
        	  [2, "One second", "1 second from now"], // 60*2
        	  [60, "seconds", 1], // 60
        	  [120, "One minute", "1 minute from now"], // 60*2
        	  [3600, "minutes", 60], // 60*60, 60
        	  [7200, "One hour", "1 hour from now"], // 60*60*2
        	  [86400, "hours", 3600], // 60*60*24, 60*60
        	  [172800, "One day", "tomorrow"], // 60*60*24*2
        	  [604800, "days", 86400], // 60*60*24*7, 60*60*24
        	  [1209600, "One week", "next week"], // 60*60*24*7*4*2
        	  [2419200, "weeks", 604800], // 60*60*24*7*4, 60*60*24*7
        	  [4838400, "One month", "next month"], // 60*60*24*7*4*2
        	  [29030400, "months", 2419200], // 60*60*24*7*4*12, 60*60*24*7*4
        	  [58060800, "One year", "next year"], // 60*60*24*7*4*12*2
        	  [2903040000, "years", 29030400], // 60*60*24*7*4*12*100, 60*60*24*7*4*12
        	  [5806080000, "One century", "next century"], // 60*60*24*7*4*12*100*2
        	  [58060800000, "centuries", 2903040000] // 60*60*24*7*4*12*100*20, 60*60*24*7*4*12*100
        	];
        	
        	var seconds = (new Date - time) / 1000;
        	var token = "ago", list_choice = 1;
        	if (seconds < 0) {
        		seconds = Math.abs(seconds);
        		token = "from now";
        		list_choice = 1;
        	}
        	var i = 0, format;
        	
        	while (format = time_formats[i++]) if (seconds < format[0]) {
        		if (typeof format[2] == "string")
        			return format[list_choice];
        	    else
        			return Math.floor(seconds / format[2]) + " " + format[1];
        	}
        	return time;
        };
        
        if(settings.showTime != false) {
        	var timestamp = Number(new Date());
        	
        	timeHTML = $("<div>", { html: "<strong>" + timeSince(timestamp) + "</strong> ago" });
        	timeHTML.addClass("time").attr("title", timestamp);
        	timeHTML.appendTo(right);
        	
        	setInterval(
	        	function() {
	        		$(".time").each(function () {
	        			var timing = $(this).attr("title");
	        			$(this).html("<strong>" + timeSince(timing) + "</strong> ago");
	        		});
	        	}, 4000)
        	
        }

        notification.hover(
        	function () {
            	hide.show();
        	}, 
        	function () {
        		hide.hide();
        	}
        );
        
        notification.prependTo(con);
		notification.show();

        if (settings.timeout) {
            setTimeout(function () {
            	var prev = notification.prev();
            	if(prev.hasClass("more")) {
            		if(prev.is(":first-child") || notification.is(":last-child")) {
            			prev.removeClass("more");
            		}
            	}
	        	notification.remove();
            }, settings.timeout)
        }
        
        if (settings.click != undefined) {
        	notification.addClass("click");
            notification.bind("click", function (event) {
            	var target = $(event.target);
                if(!target.is(".hide") ) {
                    settings.click.call(this)
                }
            })
        }
        return this
    }
})(jQuery);
;/**
 * jQuery Validation Plugin 1.9.0
 * 
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 * 
 * Copyright (c) 2006 - 2011 JÃ¶rn Zaefferer
 * 
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
(function(c) {
	c
			.extend(
					c.fn,
					{
						validate : function(a) {
							if (this.length) {
								var b = c.data(this[0], "validator");
								if (b)
									return b;
								this.attr("novalidate", "novalidate");
								b = new c.validator(a, this[0]);
								c.data(this[0], "validator", b);
								if (b.settings.onsubmit) {
									a = this.find("input, button");
									a.filter(".cancel").click(function() {
										b.cancelSubmit = true
									});
									b.settings.submitHandler
											&& a.filter(":submit").click(
													function() {
														b.submitButton = this
													});
									this
											.submit(function(d) {
												function e() {
													if (b.settings.submitHandler) {
														if (b.submitButton)
															var f = c(
																	"<input type='hidden'/>")
																	.attr(
																			"name",
																			b.submitButton.name)
																	.val(
																			b.submitButton.value)
																	.appendTo(
																			b.currentForm);
														b.settings.submitHandler
																.call(
																		b,
																		b.currentForm);
														b.submitButton
																&& f.remove();
														return false
													}
													return true
												}
												b.settings.debug
														&& d.preventDefault();
												if (b.cancelSubmit) {
													b.cancelSubmit = false;
													return e()
												}
												if (b.form()) {
													if (b.pendingRequest) {
														b.formSubmitted = true;
														return false
													}
													return e()
												} else {
													b.focusInvalid();
													return false
												}
											})
								}
								return b
							} else
								a
										&& a.debug
										&& window.console
										&& console
												.warn("nothing selected, can't validate, returning nothing")
						},
						valid : function() {
							if (c(this[0]).is("form"))
								return this.validate().form();
							else {
								var a = true, b = c(this[0].form).validate();
								this.each(function() {
									a &= b.element(this)
								});
								return a
							}
						},
						removeAttrs : function(a) {
							var b = {}, d = this;
							c.each(a.split(/\s/), function(e, f) {
								b[f] = d.attr(f);
								d.removeAttr(f)
							});
							return b
						},
						rules : function(a, b) {
							var d = this[0];
							if (a) {
								var e = c.data(d.form, "validator").settings, f = e.rules, g = c.validator
										.staticRules(d);
								switch (a) {
								case "add":
									c.extend(g, c.validator.normalizeRule(b));
									f[d.name] = g;
									if (b.messages)
										e.messages[d.name] = c.extend(
												e.messages[d.name], b.messages);
									break;
								case "remove":
									if (!b) {
										delete f[d.name];
										return g
									}
									var h = {};
									c.each(b.split(/\s/), function(j, i) {
										h[i] = g[i];
										delete g[i]
									});
									return h
								}
							}
							d = c.validator.normalizeRules(c.extend({},
									c.validator.metadataRules(d), c.validator
											.classRules(d), c.validator
											.attributeRules(d), c.validator
											.staticRules(d)), d);
							if (d.required) {
								e = d.required;
								delete d.required;
								d = c.extend({
									required : e
								}, d)
							}
							return d
						}
					});
	c.extend(c.expr[":"], {
		blank : function(a) {
			return !c.trim("" + a.value)
		},
		filled : function(a) {
			return !!c.trim("" + a.value)
		},
		unchecked : function(a) {
			return !a.checked
		}
	});
	c.validator = function(a, b) {
		this.settings = c.extend(true, {}, c.validator.defaults, a);
		this.currentForm = b;
		this.init()
	};
	c.validator.format = function(a, b) {
		if (arguments.length == 1)
			return function() {
				var d = c.makeArray(arguments);
				d.unshift(a);
				return c.validator.format.apply(this, d)
			};
		if (arguments.length > 2 && b.constructor != Array)
			b = c.makeArray(arguments).slice(1);
		if (b.constructor != Array)
			b = [ b ];
		c.each(b, function(d, e) {
			a = a.replace(RegExp("\\{" + d + "\\}", "g"), e)
		});
		return a
	};
	c
			.extend(
					c.validator,
					{
						defaults : {
							messages : {},
							groups : {},
							rules : {},
							errorClass : "help-error",
							validClass : "valid",
							errorElement : "span",
							focusInvalid : true,
							errorContainer : c([]),
							errorLabelContainer : c([]),
							onsubmit : true,
							ignore : ":hidden",
							ignoreTitle : false,
							onfocusin : function(a) {
								this.lastActive = a;
								if (this.settings.focusCleanup
										&& !this.blockFocusCleanup) {
									this.settings.unhighlight
											&& this.settings.unhighlight.call(
													this, a,
													this.settings.errorClass,
													this.settings.validClass);
									this.addWrapper(this.errorsFor(a)).hide()
								}
							},
							onfocusout : function(a) {
								if (!this.checkable(a)
										&& (a.name in this.submitted || !this
												.optional(a)))
									this.element(a)
							},
							onkeyup : function(a) {
								if (a.name in this.submitted
										|| a == this.lastElement)
									this.element(a)
							},
							onclick : function(a) {
								if (a.name in this.submitted)
									this.element(a);
								else
									a.parentNode.name in this.submitted
											&& this.element(a.parentNode)
							},
							highlight : function(a, b, d) {
								a.type === "radio" ? this.findByName(a.name)
										.addClass(b).removeClass(d) : c(a)
										.addClass(b).removeClass(d);
								
								var elecontent=$(a).parent().parent();
									if(elecontent.attr('class')!='input')
									{elecontent.addClass('error');}
									else
									{elecontent.parent().addClass('error');}
									
								//console.log('H',b,d);	
							},
							unhighlight : function(a, b, d) {
								a.type === "radio" ? this.findByName(a.name)
										.removeClass(b).addClass(d) : c(a)
										.removeClass(b).addClass(d);
								var elecontent=$(a).parent().parent();
									if(elecontent.attr('class')!='input')
									{elecontent.removeClass('error');}
									else
									{elecontent.parent().removeClass('error');}										
								//console.log('U',b,d);		
							}
						},
						setDefaults : function(a) {
							c.extend(c.validator.defaults, a)
						},
						messages : {
							required : "This field is required.",
							remote : "Please fix this field.",
							email : "Please enter a valid email address.",
							url : "Please enter a valid URL.",
							date : "Please enter a valid date.",
							dateISO : "Please enter a valid date (ISO).",
							number : "Please enter a valid number.",
							digits : "Please enter only digits.",
							creditcard : "Please enter a valid credit card number.",
							equalTo : "Please enter the same value again.",
							accept : "Please enter a value with a valid extension.",
							maxlength : c.validator
									.format("Please enter no more than {0} characters."),
							minlength : c.validator
									.format("Please enter at least {0} characters."),
							rangelength : c.validator
									.format("Please enter a value between {0} and {1} characters long."),
							range : c.validator
									.format("Please enter a value between {0} and {1}."),
							max : c.validator
									.format("Please enter a value less than or equal to {0}."),
							min : c.validator
									.format("Please enter a value greater than or equal to {0}.")
						},
						autoCreateRanges : false,
						prototype : {
							init : function() {
								function a(e) {
									var f = c.data(this[0].form, "validator"), g = "on"
											+ e.type.replace(/^validate/, "");
									f.settings[g]
											&& f.settings[g]
													.call(f, this[0], e)
								}
								this.labelContainer = c(this.settings.errorLabelContainer);
								this.errorContext = this.labelContainer.length
										&& this.labelContainer
										|| c(this.currentForm);
								this.containers = c(
										this.settings.errorContainer).add(
										this.settings.errorLabelContainer);
								this.submitted = {};
								this.valueCache = {};
								this.pendingRequest = 0;
								this.pending = {};
								this.invalid = {};
								this.reset();
								var b = this.groups = {};
								c.each(this.settings.groups, function(e, f) {
									c.each(f.split(/\s/), function(g, h) {
										b[h] = e
									})
								});
								var d = this.settings.rules;
								c.each(d, function(e, f) {
									d[e] = c.validator.normalizeRule(f)
								});
								c(this.currentForm)
										.validateDelegate(
												"[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ",
												"focusin focusout keyup", a)
										.validateDelegate(
												"[type='radio'], [type='checkbox'], select, option",
												"click", a);
								this.settings.invalidHandler
										&& c(this.currentForm).bind(
												"invalid-form.validate",
												this.settings.invalidHandler)
							},
							form : function() {
								this.checkForm();
								c.extend(this.submitted, this.errorMap);
								this.invalid = c.extend({}, this.errorMap);
								this.valid()
										|| c(this.currentForm).triggerHandler(
												"invalid-form", [ this ]);
								this.showErrors();
								return this.valid()
							},
							checkForm : function() {
								this.prepareForm();
								for ( var a = 0, b = this.currentElements = this
										.elements(); b[a]; a++)
									this.check(b[a]);
								return this.valid()
							},
							element : function(a) {
								this.lastElement = a = this
										.validationTargetFor(this.clean(a));
								this.prepareElement(a);
								this.currentElements = c(a);
								var b = this.check(a);
								if (b)
									delete this.invalid[a.name];
								else
									this.invalid[a.name] = true;
								if (!this.numberOfInvalids())
									this.toHide = this.toHide
											.add(this.containers);
								this.showErrors();
								return b
							},
							showErrors : function(a) {
								if (a) {
									c.extend(this.errorMap, a);
									this.errorList = [];
									for ( var b in a)
										this.errorList.push({
											message : a[b],
											element : this.findByName(b)[0]
										});
									this.successList = c.grep(this.successList,
											function(d) {
												return !(d.name in a)
											})
								}
								this.settings.showErrors ? this.settings.showErrors
										.call(this, this.errorMap,
												this.errorList)
										: this.defaultShowErrors()
							},
							resetForm : function() {
								c.fn.resetForm
										&& c(this.currentForm).resetForm();
								this.submitted = {};
								this.lastElement = null;
								this.prepareForm();
								this.hideErrors();
								this.elements().removeClass(
										this.settings.errorClass)
							},
							numberOfInvalids : function() {
								return this.objectLength(this.invalid)
							},
							objectLength : function(a) {
								var b = 0, d;
								for (d in a)
									b++;
								return b
							},
							hideErrors : function() {
								this.addWrapper(this.toHide).hide()
							},
							valid : function() {
								return this.size() == 0
							},
							size : function() {
								return this.errorList.length
							},
							focusInvalid : function() {
								if (this.settings.focusInvalid)
									try {
										c(
												this.findLastActive()
														|| this.errorList.length
														&& this.errorList[0].element
														|| []).filter(
												":visible").focus().trigger(
												"focusin")
									} catch (a) {
									}
							},
							findLastActive : function() {
								var a = this.lastActive;
								return a && c.grep(this.errorList, function(b) {
									return b.element.name == a.name
								}).length == 1 && a
							},
							elements : function() {
								var a = this, b = {};
								return c(this.currentForm)
										.find("input, select, textarea")
										.not(
												":submit, :reset, :image, [disabled]")
										.not(this.settings.ignore)
										.filter(
												function() {
													!this.name
															&& a.settings.debug
															&& window.console
															&& console
																	.error(
																			"%o has no name assigned",
																			this);
													if (this.name in b
															|| !a
																	.objectLength(c(
																			this)
																			.rules()))
														return false;
													return b[this.name] = true
												})
							},
							clean : function(a) {
								return c(a)[0]
							},
							errors : function() {
								return c(this.settings.errorElement + "."
										+ this.settings.errorClass,
										this.errorContext)
							},
							reset : function() {
								this.successList = [];
								this.errorList = [];
								this.errorMap = {};
								this.toShow = c([]);
								this.toHide = c([]);
								this.currentElements = c([])
							},
							prepareForm : function() {
								this.reset();
								this.toHide = this.errors()
										.add(this.containers)
							},
							prepareElement : function(a) {
								this.reset();
								this.toHide = this.errorsFor(a)
							},
							check : function(a) {
								a = this.validationTargetFor(this.clean(a));
								var b = c(a).rules(), d = false, e;
								for (e in b) {
									var f = {
										method : e,
										parameters : b[e]
									};
									try {
										var g = c.validator.methods[e].call(
												this, a.value
														.replace(/\r/g, ""), a,
												f.parameters);
										if (g == "dependency-mismatch")
											d = true;
										else {
											d = false;
											if (g == "pending") {
												this.toHide = this.toHide
														.not(this.errorsFor(a));
												return
											}
											if (!g) {
												this.formatAndAdd(a, f);
												return false
											}
										}
									} catch (h) {
										this.settings.debug
												&& window.console
												&& console
														.log(
																"exception occured when checking element "
																		+ a.id
																		+ ", check the '"
																		+ f.method
																		+ "' method",
																h);
										throw h;
									}
								}
								if (!d) {
									this.objectLength(b)
											&& this.successList.push(a);
									return true
								}
							},
							customMetaMessage : function(a, b) {
								if (c.metadata) {
									var d = this.settings.meta ? c(a)
											.metadata()[this.settings.meta]
											: c(a).metadata();
									return d && d.messages && d.messages[b]
								}
							},
							customMessage : function(a, b) {
								var d = this.settings.messages[a];
								return d
										&& (d.constructor == String ? d : d[b])
							},
							findDefined : function() {
								for ( var a = 0; a < arguments.length; a++)
									if (arguments[a] !== undefined)
										return arguments[a]
							},
							defaultMessage : function(a, b) {
								return this.findDefined(this.customMessage(
										a.name, b), this
										.customMetaMessage(a, b),
										!this.settings.ignoreTitle && a.title
												|| undefined,
										c.validator.messages[b],
										"<strong>Warning: No message defined for "
												+ a.name + "</strong>")
							},
							formatAndAdd : function(a, b) {
								var d = this.defaultMessage(a, b.method), e = /\$?\{(\d+)\}/g;
								if (typeof d == "function")
									d = d.call(this, b.parameters, a);
								else if (e.test(d))
									d = jQuery.format(d.replace(e, "{$1}"),
											b.parameters);
								this.errorList.push({
									message : d,
									element : a
								});
								this.errorMap[a.name] = d;
								this.submitted[a.name] = d
							},
							addWrapper : function(a) {
								if (this.settings.wrapper)
									a = a.add(a.parent(this.settings.wrapper));
								return a
							},
							defaultShowErrors : function() {
								for ( var a = 0; this.errorList[a]; a++) {
									var b = this.errorList[a];
									this.settings.highlight
											&& this.settings.highlight.call(
													this, b.element,
													this.settings.errorClass,
													this.settings.validClass);
									this.showLabel(b.element, b.message)
								}
								if (this.errorList.length)
									this.toShow = this.toShow
											.add(this.containers);
								if (this.settings.success)
									for (a = 0; this.successList[a]; a++)
										this.showLabel(this.successList[a]);
								if (this.settings.unhighlight) {
									a = 0;
									for (b = this.validElements(); b[a]; a++)
										this.settings.unhighlight.call(this,
												b[a], this.settings.errorClass,
												this.settings.validClass)
								}
								this.toHide = this.toHide.not(this.toShow);
								this.hideErrors();
								this.addWrapper(this.toShow).show()
							},
							validElements : function() {
								return this.currentElements.not(this
										.invalidElements())
							},
							invalidElements : function() {
								return c(this.errorList).map(function() {
									return this.element
								})
							},
							showLabel : function(a, b) {
								var d = this.errorsFor(a);
								if (d.length) {
									d.removeClass(this.settings.validClass)
											.addClass(this.settings.errorClass);
									d.attr("generated") && d.html(b)
								} else {
									d = c(
											"<" + this.settings.errorElement
													+ "/>").attr({
										"for" : this.idOrName(a),
										generated : true
									}).addClass(this.settings.errorClass).html(
											b || "");
									if (this.settings.wrapper)
										d = d.hide().show().wrap(
												"<" + this.settings.wrapper
														+ "/>").parent();
									this.labelContainer.append(d).length
											|| (this.settings.errorPlacement ? this.settings
													.errorPlacement(d, c(a))
													: d.insertAfter(a))
													
									var elecontent=$(a).parent().parent();
									if(elecontent.attr('class')!='input'){
										elecontent.addClass('error');
									}else{elecontent.parent().addClass('error');}									
								}
								if (!b && this.settings.success) {
									d.text("");
									typeof this.settings.success == "string" ? d
											.addClass(this.settings.success)
											: this.settings.success(d)
								}
								this.toShow = this.toShow.add(d)
							},
							errorsFor : function(a) {
								var b = this.idOrName(a);
								return this.errors().filter(function() {
									return c(this).attr("for") == b
								})
							},
							idOrName : function(a) {
								return this.groups[a.name]
										|| (this.checkable(a) ? a.name : a.id
												|| a.name)
							},
							validationTargetFor : function(a) {
								if (this.checkable(a))
									a = this.findByName(a.name).not(
											this.settings.ignore)[0];
								return a
							},
							checkable : function(a) {
								return /radio|checkbox/i.test(a.type)
							},
							findByName : function(a) {
								var b = this.currentForm;
								return c(document.getElementsByName(a)).map(
										function(d, e) {
											return e.form == b && e.name == a
													&& e || null
										})
							},
							getLength : function(a, b) {
								switch (b.nodeName.toLowerCase()) {
								case "select":
									return c("option:selected", b).length;
								case "input":
									if (this.checkable(b))
										return this.findByName(b.name).filter(
												":checked").length
								}
								return a.length
							},
							depend : function(a, b) {
								return this.dependTypes[typeof a] ? this.dependTypes[typeof a]
										(a, b)
										: true
							},
							dependTypes : {
								"boolean" : function(a) {
									return a
								},
								string : function(a, b) {
									return !!c(a, b.form).length
								},
								"function" : function(a, b) {
									return a(b)
								}
							},
							optional : function(a) {
								return !c.validator.methods.required.call(this,
										c.trim(a.value), a)
										&& "dependency-mismatch"
							},
							startRequest : function(a) {
								if (!this.pending[a.name]) {
									this.pendingRequest++;
									this.pending[a.name] = true
								}
							},
							stopRequest : function(a, b) {
								this.pendingRequest--;
								if (this.pendingRequest < 0)
									this.pendingRequest = 0;
								delete this.pending[a.name];
								if (b && this.pendingRequest == 0
										&& this.formSubmitted && this.form()) {
									c(this.currentForm).submit();
									this.formSubmitted = false
								} else if (!b && this.pendingRequest == 0
										&& this.formSubmitted) {
									c(this.currentForm).triggerHandler(
											"invalid-form", [ this ]);
									this.formSubmitted = false
								}
							},
							previousValue : function(a) {
								return c.data(a, "previousValue")
										|| c.data(a, "previousValue", {
											old : null,
											valid : true,
											message : this.defaultMessage(a,
													"remote")
										})
							}
						},
						classRuleSettings : {
							required : {
								required : true
							},
							email : {
								email : true
							},
							url : {
								url : true
							},
							date : {
								date : true
							},
							dateISO : {
								dateISO : true
							},
							dateDE : {
								dateDE : true
							},
							number : {
								number : true
							},
							numberDE : {
								numberDE : true
							},
							digits : {
								digits : true
							},
							creditcard : {
								creditcard : true
							}
						},
						addClassRules : function(a, b) {
							a.constructor == String ? this.classRuleSettings[a] = b
									: c.extend(this.classRuleSettings, a)
						},
						classRules : function(a) {
							var b = {};
							(a = c(a).attr("class"))
									&& c
											.each(
													a.split(" "),
													function() {
														this in c.validator.classRuleSettings
																&& c
																		.extend(
																				b,
																				c.validator.classRuleSettings[this])
													});
							return b
						},
						attributeRules : function(a) {
							var b = {};
							a = c(a);
							for ( var d in c.validator.methods) {
								var e;
								if (e = d === "required"
										&& typeof c.fn.prop === "function" ? a
										.prop(d) : a.attr(d))
									b[d] = e;
								else if (a[0].getAttribute("type") === d)
									b[d] = true
							}
							b.maxlength
									&& /-1|2147483647|524288/.test(b.maxlength)
									&& delete b.maxlength;
							return b
						},
						metadataRules : function(a) {
							if (!c.metadata)
								return {};
							var b = c.data(a.form, "validator").settings.meta;
							return b ? c(a).metadata()[b] : c(a).metadata()
						},
						staticRules : function(a) {
							var b = {}, d = c.data(a.form, "validator");
							if (d.settings.rules)
								b = c.validator
										.normalizeRule(d.settings.rules[a.name])
										|| {};
							return b
						},
						normalizeRules : function(a, b) {
							c.each(a, function(d, e) {
								if (e === false)
									delete a[d];
								else if (e.param || e.depends) {
									var f = true;
									switch (typeof e.depends) {
									case "string":
										f = !!c(e.depends, b.form).length;
										break;
									case "function":
										f = e.depends.call(b, b)
									}
									if (f)
										a[d] = e.param !== undefined ? e.param
												: true;
									else
										delete a[d]
								}
							});
							c.each(a, function(d, e) {
								a[d] = c.isFunction(e) ? e(b) : e
							});
							c.each([ "minlength", "maxlength", "min", "max" ],
									function() {
										if (a[this])
											a[this] = Number(a[this])
									});
							c.each([ "rangelength", "range" ], function() {
								if (a[this])
									a[this] = [ Number(a[this][0]),
											Number(a[this][1]) ]
							});
							if (c.validator.autoCreateRanges) {
								if (a.min && a.max) {
									a.range = [ a.min, a.max ];
									delete a.min;
									delete a.max
								}
								if (a.minlength && a.maxlength) {
									a.rangelength = [ a.minlength, a.maxlength ];
									delete a.minlength;
									delete a.maxlength
								}
							}
							a.messages && delete a.messages;
							return a
						},
						normalizeRule : function(a) {
							if (typeof a == "string") {
								var b = {};
								c.each(a.split(/\s/), function() {
									b[this] = true
								});
								a = b
							}
							return a
						},
						addMethod : function(a, b, d) {
							c.validator.methods[a] = b;
							c.validator.messages[a] = d != undefined ? d
									: c.validator.messages[a];
							b.length < 3
									&& c.validator.addClassRules(a, c.validator
											.normalizeRule(a))
						},
						methods : {
							required : function(a, b, d) {
								if (!this.depend(d, b))
									return "dependency-mismatch";
								switch (b.nodeName.toLowerCase()) {
								case "select":
									return (a = c(b).val()) && a.length > 0;
								case "input":
									if (this.checkable(b))
										return this.getLength(a, b) > 0;
								default:
									return c.trim(a).length > 0
								}
							},
							remote : function(a, b, d) {
								if (this.optional(b))
									return "dependency-mismatch";
								var e = this.previousValue(b);
								this.settings.messages[b.name]
										|| (this.settings.messages[b.name] = {});
								e.originalMessage = this.settings.messages[b.name].remote;
								this.settings.messages[b.name].remote = e.message;
								d = typeof d == "string" && {
									url : d
								} || d;
								if (this.pending[b.name])
									return "pending";
								if (e.old === a)
									return e.valid;
								e.old = a;
								var f = this;
								this.startRequest(b);
								var g = {};
								g[b.name] = a;
								c
										.ajax(c
												.extend(
														true,
														{
															url : d,
															mode : "abort",
															port : "validate"
																	+ b.name,
															dataType : "json",
															data : g,
															success : function(
																	h) {
																f.settings.messages[b.name].remote = e.originalMessage;
																var j = h === true;
																if (j) {
																	var i = f.formSubmitted;
																	f
																			.prepareElement(b);
																	f.formSubmitted = i;
																	f.successList
																			.push(b);
																	f
																			.showErrors()
																} else {
																	i = {};
																	h = h
																			|| f
																					.defaultMessage(
																							b,
																							"remote");
																	i[b.name] = e.message = c
																			.isFunction(h) ? h(a)
																			: h;
																	f
																			.showErrors(i)
																}
																e.valid = j;
																f.stopRequest(
																		b, j)
															}
														}, d));
								return "pending"
							},
							minlength : function(a, b, d) {
								return this.optional(b)
										|| this.getLength(c.trim(a), b) >= d
							},
							maxlength : function(a, b, d) {
								return this.optional(b)
										|| this.getLength(c.trim(a), b) <= d
							},
							rangelength : function(a, b, d) {
								a = this.getLength(c.trim(a), b);
								return this.optional(b) || a >= d[0]
										&& a <= d[1]
							},
							min : function(a, b, d) {
								return this.optional(b) || a >= d
							},
							max : function(a, b, d) {
								return this.optional(b) || a <= d
							},
							range : function(a, b, d) {
								return this.optional(b) || a >= d[0]
										&& a <= d[1]
							},
							email : function(a, b) {
								return this.optional(b)
										|| /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i
												.test(a)
							},
							url : function(a, b) {
								return this.optional(b)
										|| /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i
												.test(a)
							},
							date : function(a, b) {
								return this.optional(b)
										|| !/Invalid|NaN/.test(new Date(a))
							},
							dateISO : function(a, b) {
								return this.optional(b)
										|| /^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/
												.test(a)
							},
							number : function(a, b) {
								return this.optional(b)
										|| /^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/
												.test(a)
							},
							digits : function(a, b) {
								return this.optional(b) || /^\d+$/.test(a)
							},
							creditcard : function(a, b) {
								if (this.optional(b))
									return "dependency-mismatch";
								if (/[^0-9 -]+/.test(a))
									return false;
								var d = 0, e = 0, f = false;
								a = a.replace(/\D/g, "");
								for ( var g = a.length - 1; g >= 0; g--) {
									e = a.charAt(g);
									e = parseInt(e, 10);
									if (f)
										if ((e *= 2) > 9)
											e -= 9;
									d += e;
									f = !f
								}
								return d % 10 == 0
							},
							accept : function(a, b, d) {
								d = typeof d == "string" ? d.replace(/,/g, "|")
										: "png|jpe?g|gif";
								return this.optional(b)
										|| a
												.match(RegExp(".(" + d + ")$",
														"i"))
							},
							equalTo : function(a, b, d) {
								d = c(d).unbind(".validate-equalTo").bind(
										"blur.validate-equalTo", function() {
											c(b).valid()
										});
								return a == d.val()
							}
						}
					});
	c.format = c.validator.format
})(jQuery);
(function(c) {
	var a = {};
	if (c.ajaxPrefilter)
		c.ajaxPrefilter(function(d, e, f) {
			e = d.port;
			if (d.mode == "abort") {
				a[e] && a[e].abort();
				a[e] = f
			}
		});
	else {
		var b = c.ajax;
		c.ajax = function(d) {
			var e = ("port" in d ? d : c.ajaxSettings).port;
			if (("mode" in d ? d : c.ajaxSettings).mode == "abort") {
				a[e] && a[e].abort();
				return a[e] = b.apply(this, arguments)
			}
			return b.apply(this, arguments)
		}
	}
})(jQuery);
(function(c) {
	!jQuery.event.special.focusin && !jQuery.event.special.focusout
			&& document.addEventListener && c.each({
				focus : "focusin",
				blur : "focusout"
			}, function(a, b) {
				function d(e) {
					e = c.event.fix(e);
					e.type = b;
					return c.event.handle.call(this, e)
				}
				c.event.special[b] = {
					setup : function() {
						this.addEventListener(a, d, true)
					},
					teardown : function() {
						this.removeEventListener(a, d, true)
					},
					handler : function(e) {
						arguments[0] = c.event.fix(e);
						arguments[0].type = b;
						return c.event.handle.apply(this, arguments)
					}
				}
			});
	c.extend(c.fn, {
		validateDelegate : function(a, b, d) {
			return this.bind(b, function(e) {
				var f = c(e.target);
				if (f.is(a))
					return d.apply(f, arguments)
			})
		}
	})
})(jQuery);

;(function(){var f=0,l=[],n={},j={},a={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},m=/[<>&\"\']/g,b,c=window.setTimeout,d={},e;function h(){this.returnValue=false}
function k(){this.cancelBubble=true}(function(o){var p=o.split(/,/),q,s,r;for(q=0;q<p.length;q+=2){r=p[q+1].split(/ /);for(s=0;s<r.length;s++){j[r[s]]=p[q]}}})("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");var g={VERSION:"1.5.2",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:j,ua:(function(){var s=navigator,r=s.userAgent,t=s.vendor,p,o,q;p=/WebKit/.test(r);q=p&&t.indexOf("Apple")!==-1;o=window.opera&&window.opera.buildNumber;return{windows:navigator.platform.indexOf("Win")!==-1,ie:!p&&!o&&(/MSIE/gi).test(r)&&(/Explorer/gi).test(s.appName),webkit:p,gecko:!p&&/Gecko/.test(r),safari:q,opera:!!o}}()),typeOf:function(p){return({}).toString.call(p).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(o){g.each(arguments,function(p,q){if(q>0){g.each(p,function(s,r){o[r]=s})}});return o},cleanName:function(o){var p,q;q=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(p=0;p<q.length;p+=2){o=o.replace(q[p],q[p+1])}
o=o.replace(/\s+/g,"_");o=o.replace(/[^a-z0-9_\-\.]+/gi,"");return o},addRuntime:function(o,p){p.name=o;l[o]=p;l.push(p);return p},guid:function(){var o=new Date().getTime().toString(32),p;for(p=0;p<5;p++){o+=Math.floor(Math.random()*65535).toString(32)}
return(g.guidPrefix||"p")+o+(f++).toString(32)},buildUrl:function(p,o){var q="";g.each(o,function(s,r){q+=(q?"&":"")+encodeURIComponent(r)+"="+encodeURIComponent(s)});if(q){p+=(p.indexOf("?")>0?"&":"?")+q}
return p},each:function(r,s){var q,p,o;if(r){q=r.length;if(q===b){for(p in r){if(r.hasOwnProperty(p)){if(s(r[p],p)===false){return}}}}else{for(o=0;o<q;o++){if(s(r[o],o)===false){return}}}}},formatSize:function(o){if(o===b||/\D/.test(o)){return g.translate("N/A")}
if(o>1073741824){return Math.round(o/1073741824,1)+" GB"}
if(o>1048576){return Math.round(o/1048576,1)+" MB"}
if(o>1024){return Math.round(o/1024,1)+" KB"}
return o+" b"},getPos:function(p,t){var u=0,s=0,w,v=document,q,r;p=p;t=t||v.body;function o(C){var A,B,z=0,D=0;if(C){B=C.getBoundingClientRect();A=v.compatMode==="CSS1Compat"?v.documentElement:v.body;z=B.left+A.scrollLeft;D=B.top+A.scrollTop}
return{x:z,y:D}}
if(p&&p.getBoundingClientRect&&(navigator.userAgent.indexOf("MSIE")>0&&v.documentMode!==8)){q=o(p);r=o(t);return{x:q.x-r.x,y:q.y-r.y}}
w=p;while(w&&w!=t&&w.nodeType){u+=w.offsetLeft||0;s+=w.offsetTop||0;w=w.offsetParent}
w=p.parentNode;while(w&&w!=t&&w.nodeType){u-=w.scrollLeft||0;s-=w.scrollTop||0;w=w.parentNode}
return{x:u,y:s}},getSize:function(o){return{w:o.offsetWidth||o.clientWidth,h:o.offsetHeight||o.clientHeight}},parseSize:function(o){var p;if(typeof(o)=="string"){o=/^([0-9]+)([mgk]?)$/.exec(o.toLowerCase().replace(/[^0-9mkg]/g,""));p=o[2];o=+o[1];if(p=="g"){o*=1073741824}
if(p=="m"){o*=1048576}
if(p=="k"){o*=1024}}
return o},xmlEncode:function(o){return o?(""+o).replace(m,function(p){return a[p]?"&"+a[p]+";":p}):o},toArray:function(q){var p,o=[];for(p=0;p<q.length;p++){o[p]=q[p]}
return o},inArray:function(q,r){if(r){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(r,q)}
for(var o=0,p=r.length;o<p;o++){if(r[o]===q){return o}}}
return-1},addI18n:function(o){return g.extend(n,o)},translate:function(o){return n[o]||o},isEmptyObj:function(o){if(o===b){return true}
for(var p in o){return false}
return true},hasClass:function(q,p){var o;if(q.className==""){return false}
o=new RegExp("(^|\\s+)"+p+"(\\s+|$)");return o.test(q.className)},addClass:function(p,o){if(!g.hasClass(p,o)){p.className=p.className==""?o:p.className.replace(/\s+$/,"")+" "+o}},removeClass:function(q,p){var o=new RegExp("(^|\\s+)"+p+"(\\s+|$)");q.className=q.className.replace(o,function(s,r,t){return r===" "&&t===" "?" ":""})},getStyle:function(p,o){if(p.currentStyle){return p.currentStyle[o]}else{if(window.getComputedStyle){return window.getComputedStyle(p,null)[o]}}},addEvent:function(t,o,u){var s,r,q,p;p=arguments[3];o=o.toLowerCase();if(e===b){e="Plupload_"+g.guid()}
if(t.addEventListener){s=u;t.addEventListener(o,s,false)}else{if(t.attachEvent){s=function(){var v=window.event;if(!v.target){v.target=v.srcElement}
v.preventDefault=h;v.stopPropagation=k;u(v)};t.attachEvent("on"+o,s)}}
if(t[e]===b){t[e]=g.guid()}
if(!d.hasOwnProperty(t[e])){d[t[e]]={}}
r=d[t[e]];if(!r.hasOwnProperty(o)){r[o]=[]}
r[o].push({func:s,orig:u,key:p})},removeEvent:function(t,o){var r,u,q;if(typeof(arguments[2])=="function"){u=arguments[2]}else{q=arguments[2]}
o=o.toLowerCase();if(t[e]&&d[t[e]]&&d[t[e]][o]){r=d[t[e]][o]}else{return}
for(var p=r.length-1;p>=0;p--){if(r[p].key===q||r[p].orig===u){if(t.detachEvent){t.detachEvent("on"+o,r[p].func)}else{if(t.removeEventListener){t.removeEventListener(o,r[p].func,false)}}
r[p].orig=null;r[p].func=null;r.splice(p,1);if(u!==b){break}}}
if(!r.length){delete d[t[e]][o]}
if(g.isEmptyObj(d[t[e]])){delete d[t[e]];try{delete t[e]}catch(s){t[e]=b}}},removeAllEvents:function(p){var o=arguments[1];if(p[e]===b||!p[e]){return}
g.each(d[p[e]],function(r,q){g.removeEvent(p,q,o)})}};g.Uploader=function(s){var p={},v,u=[],r,q=false;v=new g.QueueProgress();s=g.extend({chunk_size:0,multipart:true,multi_selection:true,file_data_name:"file",filters:[]},s);function t(){var x,y=0,w;if(this.state==g.STARTED){for(w=0;w<u.length;w++){if(!x&&u[w].status==g.QUEUED){x=u[w];x.status=g.UPLOADING;if(this.trigger("BeforeUpload",x)){this.trigger("UploadFile",x)}}else{y++}}
if(y==u.length){this.stop();this.trigger("UploadComplete",u)}}}
function o(){var x,w;v.reset();for(x=0;x<u.length;x++){w=u[x];if(w.size!==b){v.size+=w.size;v.loaded+=w.loaded}else{v.size=b}
if(w.status==g.DONE){v.uploaded++}else{if(w.status==g.FAILED){v.failed++}else{v.queued++}}}
if(v.size===b){v.percent=u.length>0?Math.ceil(v.uploaded/u.length*100):0}else{v.bytesPerSec=Math.ceil(v.loaded/((+new Date()-r||1)/1000));v.percent=v.size>0?Math.ceil(v.loaded/v.size*100):0}}
g.extend(this,{state:g.STOPPED,runtime:"",features:{},files:u,settings:s,total:v,id:g.guid(),init:function(){var B=this,C,y,x,A=0,z;if(typeof(s.preinit)=="function"){s.preinit(B)}else{g.each(s.preinit,function(E,D){B.bind(D,E)})}
s.page_url=s.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/");if(!/^(\w+:\/\/|\/)/.test(s.url)){s.url=s.page_url+s.url}
s.chunk_size=g.parseSize(s.chunk_size);s.max_file_size=g.parseSize(s.max_file_size);B.bind("FilesAdded",function(D,G){var F,E,I=0,J,H=s.filters;if(H&&H.length){J=[];g.each(H,function(K){g.each(K.extensions.split(/,/),function(L){if(/^\s*\*\s*$/.test(L)){J.push("\\.*")}else{J.push("\\."+L.replace(new RegExp("["+("/^$.*+?|()[]{}\\".replace(/./g,"\\$&"))+"]","g"),"\\$&"))}})});J=new RegExp(J.join("|")+"$","i")}
for(F=0;F<G.length;F++){E=G[F];E.loaded=0;E.percent=0;E.status=g.QUEUED;if(J&&!J.test(E.name)){D.trigger("Error",{code:g.FILE_EXTENSION_ERROR,message:g.translate("File extension error."),file:E});continue}
if(E.size!==b&&E.size>s.max_file_size){D.trigger("Error",{code:g.FILE_SIZE_ERROR,message:g.translate("File size error."),file:E});continue}
u.push(E);I++}
if(I){c(function(){B.trigger("QueueChanged");B.refresh()},1)}else{return false}});if(s.unique_names){B.bind("UploadFile",function(D,E){var G=E.name.match(/\.([^.]+)$/),F="tmp";if(G){F=G[1]}
E.target_name=E.id+"."+F})}
B.bind("UploadProgress",function(D,E){E.percent=E.size>0?Math.ceil(E.loaded/E.size*100):100;o()});B.bind("StateChanged",function(D){if(D.state==g.STARTED){r=(+new Date())}else{if(D.state==g.STOPPED){for(C=D.files.length-1;C>=0;C--){if(D.files[C].status==g.UPLOADING){D.files[C].status=g.QUEUED;o()}}}}});B.bind("QueueChanged",o);B.bind("Error",function(D,E){if(E.file){E.file.status=g.FAILED;o();if(D.state==g.STARTED){c(function(){t.call(B)},1)}}});B.bind("FileUploaded",function(D,E){E.status=g.DONE;E.loaded=E.size;D.trigger("UploadProgress",E);c(function(){t.call(B)},1)});if(s.runtimes){y=[];z=s.runtimes.split(/\s?,\s?/);for(C=0;C<z.length;C++){if(l[z[C]]){y.push(l[z[C]])}}}else{y=l}
function w(){var G=y[A++],F,D,E;if(G){F=G.getFeatures();D=B.settings.required_features;if(D){D=D.split(",");for(E=0;E<D.length;E++){if(!F[D[E]]){w();return}}}
G.init(B,function(H){if(H&&H.success){B.features=F;B.runtime=G.name;B.trigger("Init",{runtime:G.name});B.trigger("PostInit");B.refresh()}else{w()}})}else{B.trigger("Error",{code:g.INIT_ERROR,message:g.translate("Init error.")})}}
w();if(typeof(s.init)=="function"){s.init(B)}else{g.each(s.init,function(E,D){B.bind(D,E)})}},refresh:function(){this.trigger("Refresh")},start:function(){if(this.state!=g.STARTED){this.state=g.STARTED;this.trigger("StateChanged");t.call(this)}},stop:function(){if(this.state!=g.STOPPED){this.state=g.STOPPED;this.trigger("CancelUpload");this.trigger("StateChanged")}},disableBrowse:function(){q=arguments[0]!==b?arguments[0]:true;this.trigger("DisableBrowse",q)},getFile:function(x){var w;for(w=u.length-1;w>=0;w--){if(u[w].id===x){return u[w]}}},removeFile:function(x){var w;for(w=u.length-1;w>=0;w--){if(u[w].id===x.id){return this.splice(w,1)[0]}}},splice:function(y,w){var x;x=u.splice(y===b?0:y,w===b?u.length:w);this.trigger("FilesRemoved",x);this.trigger("QueueChanged");return x},trigger:function(x){var z=p[x.toLowerCase()],y,w;if(z){w=Array.prototype.slice.call(arguments);w[0]=this;for(y=0;y<z.length;y++){if(z[y].func.apply(z[y].scope,w)===false){return false}}}
return true},hasEventListener:function(w){return!!p[w.toLowerCase()]},bind:function(w,y,x){var z;w=w.toLowerCase();z=p[w]||[];z.push({func:y,scope:x||this});p[w]=z},unbind:function(w){w=w.toLowerCase();var z=p[w],x,y=arguments[1];if(z){if(y!==b){for(x=z.length-1;x>=0;x--){if(z[x].func===y){z.splice(x,1);break}}}else{z=[]}
if(!z.length){delete p[w]}}},unbindAll:function(){var w=this;g.each(p,function(y,x){w.unbind(x)})},destroy:function(){this.stop();this.trigger("Destroy");this.unbindAll()}})};g.File=function(r,p,q){var o=this;o.id=r;o.name=p;o.size=q;o.loaded=0;o.percent=0;o.status=0};g.Runtime=function(){this.getFeatures=function(){};this.init=function(o,p){}};g.QueueProgress=function(){var o=this;o.size=0;o.loaded=0;o.uploaded=0;o.failed=0;o.queued=0;o.percent=0;o.bytesPerSec=0;o.reset=function(){o.size=o.loaded=o.uploaded=o.failed=o.queued=o.percent=o.bytesPerSec=0}};g.runtimes={};window.plupload=g})();(function(){if(window.google&&google.gears){return}
var a=null;if(typeof GearsFactory!="undefined"){a=new GearsFactory()}else{try{a=new ActiveXObject("Gears.Factory");if(a.getBuildInfo().indexOf("ie_mobile")!=-1){a.privateSetGlobalObject(this)}}catch(b){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){a=document.createElement("object");a.style.display="none";a.width=0;a.height=0;a.type="application/x-googlegears";document.documentElement.appendChild(a)}}}
if(!a){return}
if(!window.google){window.google={}}
if(!google.gears){google.gears={factory:a}}})();(function(e,b,c,d){var f={};function a(h,k,m){var g,j,l,o;j=google.gears.factory.create("beta.canvas");try{j.decode(h);if(!k.width){k.width=j.width}
if(!k.height){k.height=j.height}
o=Math.min(width/j.width,height/j.height);if(o<1||(o===1&&m==="image/jpeg")){j.resize(Math.round(j.width*o),Math.round(j.height*o));if(k.quality){return j.encode(m,{quality:k.quality/100})}
return j.encode(m)}}catch(n){}
return h}
c.runtimes.Gears=c.addRuntime("gears",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(l,n){var m,h,g=false;if(!e.google||!google.gears){return n({success:false})}
try{m=google.gears.factory.create("beta.desktop")}catch(k){return n({success:false})}
function j(q){var p,o,r=[],s;for(o=0;o<q.length;o++){p=q[o];s=c.guid();f[s]=p.blob;r.push(new c.File(s,p.name,p.blob.length))}
l.trigger("FilesAdded",r)}
l.bind("PostInit",function(){var p=l.settings,o=b.getElementById(p.drop_element);if(o){c.addEvent(o,"dragover",function(q){m.setDropEffect(q,"copy");q.preventDefault()},l.id);c.addEvent(o,"drop",function(r){var q=m.getDragData(r,"application/x-gears-files");if(q){j(q.files)}
r.preventDefault()},l.id);o=0}
c.addEvent(b.getElementById(p.browse_button),"click",function(u){var t=[],r,q,s;u.preventDefault();if(g){return}
no_type_restriction:for(r=0;r<p.filters.length;r++){s=p.filters[r].extensions.split(",");for(q=0;q<s.length;q++){if(s[q]==="*"){t=[];break no_type_restriction}
t.push("."+s[q])}}
m.openFiles(j,{singleFile:!p.multi_selection,filter:t})},l.id)});l.bind("CancelUpload",function(){if(h.abort){h.abort()}});l.bind("UploadFile",function(u,r){var w=0,v,s,t=0,q=u.settings.resize,o;if(q&&/\.(png|jpg|jpeg)$/i.test(r.name)){f[r.id]=a(f[r.id],q,/\.png$/i.test(r.name)?"image/png":"image/jpeg")}
r.size=f[r.id].length;s=u.settings.chunk_size;o=s>0;v=Math.ceil(r.size/s);if(!o){s=r.size;v=1}
function p(){var C,y=u.settings.multipart,x=0,B={name:r.target_name||r.name},z=u.settings.url;function A(E){var D,J="----pluploadboundary"+c.guid(),G="--",I="\r\n",F,H;if(y){h.setRequestHeader("Content-Type","multipart/form-data; boundary="+J);D=google.gears.factory.create("beta.blobbuilder");c.each(c.extend(B,u.settings.multipart_params),function(L,K){D.append(G+J+I+'Content-Disposition: form-data; name="'+K+'"'+I+I);D.append(L+I)});H=c.mimeTypes[r.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";D.append(G+J+I+'Content-Disposition: form-data; name="'+u.settings.file_data_name+'"; filename="'+r.name+'"'+I+"Content-Type: "+H+I+I);D.append(E);D.append(I+G+J+G+I);F=D.getAsBlob();x=F.length-E.length;E=F}
h.send(E)}
if(r.status==c.DONE||r.status==c.FAILED||u.state==c.STOPPED){return}
if(o){B.chunk=w;B.chunks=v}
C=Math.min(s,r.size-(w*s));if(!y){z=c.buildUrl(u.settings.url,B)}
h=google.gears.factory.create("beta.httprequest");h.open("POST",z);if(!y){h.setRequestHeader("Content-Disposition",'attachment; filename="'+r.name+'"');h.setRequestHeader("Content-Type","application/octet-stream")}
c.each(u.settings.headers,function(E,D){h.setRequestHeader(D,E)});h.upload.onprogress=function(D){r.loaded=t+D.loaded-x;u.trigger("UploadProgress",r)};h.onreadystatechange=function(){var D;if(h.readyState==4&&u.state!==c.STOPPED){if(h.status==200){D={chunk:w,chunks:v,response:h.responseText,status:h.status};u.trigger("ChunkUploaded",r,D);if(D.cancelled){r.status=c.FAILED;return}
t+=C;if(++w>=v){r.status=c.DONE;u.trigger("FileUploaded",r,{response:h.responseText,status:h.status})}else{p()}}else{u.trigger("Error",{code:c.HTTP_ERROR,message:c.translate("HTTP Error."),file:r,chunk:w,chunks:v,status:h.status})}}};if(w<v){A(f[r.id].slice(w*s,C))}}
p()});l.bind("DisableBrowse",function(o,p){g=p});l.bind("Destroy",function(o){var p,q,r={browseButton:o.settings.browse_button,dropElm:o.settings.drop_element};for(p in r){q=b.getElementById(r[p]);if(q){c.removeAllEvents(q,o.id)}}});n({success:true})}})})(window,document,plupload);(function(g,b,d,e){var a={},h={};function c(o){var n,m=typeof o,j,l,k;if(o===e||o===null){return"null"}
if(m==="string"){n="\bb\tt\nn\ff\rr\"\"''\\\\";return'"'+o.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(r,q){var p=n.indexOf(q);if(p+1){return"\\"+n.charAt(p+1)}
r=q.charCodeAt().toString(16);return"\\u"+"0000".substring(r.length)+r})+'"'}
if(m=="object"){j=o.length!==e;n="";if(j){for(l=0;l<o.length;l++){if(n){n+=","}
n+=c(o[l])}
n="["+n+"]"}else{for(k in o){if(o.hasOwnProperty(k)){if(n){n+=","}
n+=c(k)+":"+c(o[k])}}
n="{"+n+"}"}
return n}
return""+o}
function f(s){var v=false,j=null,o=null,k,l,m,u,n,q=0;try{try{o=new ActiveXObject("AgControl.AgControl");if(o.IsVersionSupported(s)){v=true}
o=null}catch(r){var p=navigator.plugins["Silverlight Plug-In"];if(p){k=p.description;if(k==="1.0.30226.2"){k="2.0.30226.2"}
l=k.split(".");while(l.length>3){l.pop()}
while(l.length<4){l.push(0)}
m=s.split(".");while(m.length>4){m.pop()}
do{u=parseInt(m[q],10);n=parseInt(l[q],10);q++}while(q<m.length&&u===n);if(u<=n&&!isNaN(u)){v=true}}}}catch(t){v=false}
return v}
d.silverlight={trigger:function(n,k){var m=a[n],l,j;if(m){j=d.toArray(arguments).slice(1);j[0]="Silverlight:"+k;setTimeout(function(){m.trigger.apply(m,j)},0)}}};d.runtimes.Silverlight=d.addRuntime("silverlight",{getFeatures:function(){return{jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(p,q){var o,m="",n=p.settings.filters,l,k=b.body;if(!f("2.0.31005.0")||(g.opera&&g.opera.buildNumber)){q({success:false});return}
h[p.id]=false;a[p.id]=p;o=b.createElement("div");o.id=p.id+"_silverlight_container";d.extend(o.style,{position:"absolute",top:"0px",background:p.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100px",height:"100px",overflow:"hidden",opacity:p.settings.shim_bgcolor||b.documentMode>8?"":0.01});o.className="plupload silverlight";if(p.settings.container){k=b.getElementById(p.settings.container);if(d.getStyle(k,"position")==="static"){k.style.position="relative"}}
k.appendChild(o);for(l=0;l<n.length;l++){m+=(m!=""?"|":"")+n[l].title+" | *."+n[l].extensions.replace(/,/g,";*.")}
o.innerHTML='<object id="'+p.id+'_silverlight" data="data:application/x-silverlight," type="application/x-silverlight-2" style="outline:none;" width="1024" height="1024"><param name="source" value="'+p.settings.silverlight_xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="id='+p.id+",filter="+m+",multiselect="+p.settings.multi_selection+'"/></object>';function j(){return b.getElementById(p.id+"_silverlight").content.Upload}
p.bind("Silverlight:Init",function(){var r,s={};if(h[p.id]){return}
h[p.id]=true;p.bind("Silverlight:StartSelectFiles",function(t){r=[]});p.bind("Silverlight:SelectFile",function(t,w,u,v){var x;x=d.guid();s[x]=w;s[w]=x;r.push(new d.File(x,u,v))});p.bind("Silverlight:SelectSuccessful",function(){if(r.length){p.trigger("FilesAdded",r)}});p.bind("Silverlight:UploadChunkError",function(t,w,u,x,v){p.trigger("Error",{code:d.IO_ERROR,message:"IO Error.",details:v,file:t.getFile(s[w])})});p.bind("Silverlight:UploadFileProgress",function(t,x,u,w){var v=t.getFile(s[x]);if(v.status!=d.FAILED){v.size=w;v.loaded=u;t.trigger("UploadProgress",v)}});p.bind("Refresh",function(t){var u,v,w;u=b.getElementById(t.settings.browse_button);if(u){v=d.getPos(u,b.getElementById(t.settings.container));w=d.getSize(u);d.extend(b.getElementById(t.id+"_silverlight_container").style,{top:v.y+"px",left:v.x+"px",width:w.w+"px",height:w.h+"px"})}});p.bind("Silverlight:UploadChunkSuccessful",function(t,w,u,z,y){var x,v=t.getFile(s[w]);x={chunk:u,chunks:z,response:y};t.trigger("ChunkUploaded",v,x);if(v.status!=d.FAILED&&t.state!==d.STOPPED){j().UploadNextChunk()}
if(u==z-1){v.status=d.DONE;t.trigger("FileUploaded",v,{response:y})}});p.bind("Silverlight:UploadSuccessful",function(t,w,u){var v=t.getFile(s[w]);v.status=d.DONE;t.trigger("FileUploaded",v,{response:u})});p.bind("FilesRemoved",function(t,v){var u;for(u=0;u<v.length;u++){j().RemoveFile(s[v[u].id])}});p.bind("UploadFile",function(t,v){var w=t.settings,u=w.resize||{};j().UploadFile(s[v.id],t.settings.url,c({name:v.target_name||v.name,mime:d.mimeTypes[v.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:w.chunk_size,image_width:u.width,image_height:u.height,image_quality:u.quality||90,multipart:!!w.multipart,multipart_params:w.multipart_params||{},file_data_name:w.file_data_name,headers:w.headers}))});p.bind("CancelUpload",function(){j().CancelUpload()});p.bind("Silverlight:MouseEnter",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_hover;if(u&&v){d.addClass(u,v)}});p.bind("Silverlight:MouseLeave",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_hover;if(u&&v){d.removeClass(u,v)}});p.bind("Silverlight:MouseLeftButtonDown",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_active;if(u&&v){d.addClass(u,v);d.addEvent(b.body,"mouseup",function(){d.removeClass(u,v)})}});p.bind("Sliverlight:StartSelectFiles",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_active;if(u&&v){d.removeClass(u,v)}});p.bind("DisableBrowse",function(t,u){j().DisableBrowse(u)});p.bind("Destroy",function(t){var u;d.removeAllEvents(b.body,t.id);delete h[t.id];delete a[t.id];u=b.getElementById(t.id+"_silverlight_container");if(u){k.removeChild(u)}});q({success:true})})}})})(window,document,plupload);(function(f,b,d,e){var a={},g={};function c(){var h;try{h=navigator.plugins["Shockwave Flash"];h=h.description}catch(k){try{h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(j){h="0.0"}}
h=h.match(/\d+/g);return parseFloat(h[0]+"."+h[1])}
d.flash={trigger:function(k,h,j){setTimeout(function(){var n=a[k],m,l;if(n){n.trigger("Flash:"+h,j)}},0)}};d.runtimes.Flash=d.addRuntime("flash",{getFeatures:function(){return{jpgresize:true,pngresize:true,maxWidth:8091,maxHeight:8091,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(n,p){var l,m,h=0,j=b.body;if(c()<10){p({success:false});return}
g[n.id]=false;a[n.id]=n;l=b.getElementById(n.settings.browse_button);m=b.createElement("div");m.id=n.id+"_flash_container";d.extend(m.style,{position:"absolute",top:"0px",background:n.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100%",height:"100%"});m.className="plupload flash";if(n.settings.container){j=b.getElementById(n.settings.container);if(d.getStyle(j,"position")==="static"){j.style.position="relative"}}
j.appendChild(m);(function(){var q,r;q='<object id="'+n.id+'_flash" type="application/x-shockwave-flash" data="'+n.settings.flash_swf_url+'" ';if(d.ua.ie){q+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '}
q+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+n.settings.flash_swf_url+'" /><param name="flashvars" value="id='+escape(n.id)+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>';if(d.ua.ie){r=b.createElement("div");m.appendChild(r);r.outerHTML=q;r=null}else{m.innerHTML=q}}());function o(){return b.getElementById(n.id+"_flash")}
function k(){if(h++>5000){p({success:false});return}
if(!g[n.id]){setTimeout(k,1)}}
k();l=m=null;n.bind("Flash:Init",function(){var r={},q;o().setFileFilters(n.settings.filters,n.settings.multi_selection);if(g[n.id]){return}
g[n.id]=true;n.bind("UploadFile",function(s,u){var v=s.settings,t=n.settings.resize||{};o().uploadFile(r[u.id],v.url,{name:u.target_name||u.name,mime:d.mimeTypes[u.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:v.chunk_size,width:t.width,height:t.height,quality:t.quality,multipart:v.multipart,multipart_params:v.multipart_params||{},file_data_name:v.file_data_name,format:/\.(jpg|jpeg)$/i.test(u.name)?"jpg":"png",headers:v.headers,urlstream_upload:v.urlstream_upload})});n.bind("CancelUpload",function(){o().cancelUpload()});n.bind("Flash:UploadProcess",function(t,s){var u=t.getFile(r[s.id]);if(u.status!=d.FAILED){u.loaded=s.loaded;u.size=s.size;t.trigger("UploadProgress",u)}});n.bind("Flash:UploadChunkComplete",function(s,u){var v,t=s.getFile(r[u.id]);v={chunk:u.chunk,chunks:u.chunks,response:u.text};s.trigger("ChunkUploaded",t,v);if(t.status!==d.FAILED&&s.state!==d.STOPPED){o().uploadNextChunk()}
if(u.chunk==u.chunks-1){t.status=d.DONE;s.trigger("FileUploaded",t,{response:u.text})}});n.bind("Flash:SelectFiles",function(s,v){var u,t,w=[],x;for(t=0;t<v.length;t++){u=v[t];x=d.guid();r[x]=u.id;r[u.id]=x;w.push(new d.File(x,u.name,u.size))}
if(w.length){n.trigger("FilesAdded",w)}});n.bind("Flash:SecurityError",function(s,t){n.trigger("Error",{code:d.SECURITY_ERROR,message:d.translate("Security error."),details:t.message,file:n.getFile(r[t.id])})});n.bind("Flash:GenericError",function(s,t){n.trigger("Error",{code:d.GENERIC_ERROR,message:d.translate("Generic error."),details:t.message,file:n.getFile(r[t.id])})});n.bind("Flash:IOError",function(s,t){n.trigger("Error",{code:d.IO_ERROR,message:d.translate("IO error."),details:t.message,file:n.getFile(r[t.id])})});n.bind("Flash:ImageError",function(s,t){n.trigger("Error",{code:parseInt(t.code,10),message:d.translate("Image error."),file:n.getFile(r[t.id])})});n.bind("Flash:StageEvent:rollOver",function(s){var t,u;t=b.getElementById(n.settings.browse_button);u=s.settings.browse_button_hover;if(t&&u){d.addClass(t,u)}});n.bind("Flash:StageEvent:rollOut",function(s){var t,u;t=b.getElementById(n.settings.browse_button);u=s.settings.browse_button_hover;if(t&&u){d.removeClass(t,u)}});n.bind("Flash:StageEvent:mouseDown",function(s){var t,u;t=b.getElementById(n.settings.browse_button);u=s.settings.browse_button_active;if(t&&u){d.addClass(t,u);d.addEvent(b.body,"mouseup",function(){d.removeClass(t,u)},s.id)}});n.bind("Flash:StageEvent:mouseUp",function(s){var t,u;t=b.getElementById(n.settings.browse_button);u=s.settings.browse_button_active;if(t&&u){d.removeClass(t,u)}});n.bind("Flash:ExifData",function(s,t){n.trigger("ExifData",n.getFile(r[t.id]),t.data)});n.bind("Flash:GpsData",function(s,t){n.trigger("GpsData",n.getFile(r[t.id]),t.data)});n.bind("QueueChanged",function(s){n.refresh()});n.bind("FilesRemoved",function(s,u){var t;for(t=0;t<u.length;t++){o().removeFile(r[u[t].id])}});n.bind("StateChanged",function(s){n.refresh()});n.bind("Refresh",function(s){var t,u,v;o().setFileFilters(n.settings.filters,n.settings.multi_selection);t=b.getElementById(s.settings.browse_button);if(t){u=d.getPos(t,b.getElementById(s.settings.container));v=d.getSize(t);d.extend(b.getElementById(s.id+"_flash_container").style,{top:u.y+"px",left:u.x+"px",width:v.w+"px",height:v.h+"px"})}});n.bind("DisableBrowse",function(s,t){o().disableBrowse(t)});n.bind("Destroy",function(s){var t;d.removeAllEvents(b.body,s.id);delete g[s.id];delete a[s.id];t=b.getElementById(s.id+"_flash_container");if(t){j.removeChild(t)}});p({success:true})})}})})(window,document,plupload);(function(a){a.runtimes.BrowserPlus=a.addRuntime("browserplus",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(g,j){var e=window.BrowserPlus,h={},d=g.settings,c=d.resize;function f(o){var n,m,k=[],l,p;for(m=0;m<o.length;m++){l=o[m];p=a.guid();h[p]=l;k.push(new a.File(p,l.name,l.size))}
if(m){g.trigger("FilesAdded",k)}}
function b(){var k=false;g.bind("PostInit",function(){var o,m=d.drop_element,q=g.id+"_droptarget",l=document.getElementById(m),n;function r(t,s){e.DragAndDrop.AddDropTarget({id:t},function(u){e.DragAndDrop.AttachCallbacks({id:t,hover:function(v){if(!v&&s){s()}},drop:function(v){if(s){s()}
f(v)}},function(){})})}
function p(){document.getElementById(q).style.top="-1000px"}
if(l){if(document.attachEvent&&(/MSIE/gi).test(navigator.userAgent)){o=document.createElement("div");o.setAttribute("id",q);a.extend(o.style,{position:"absolute",top:"-1000px",background:"red",filter:"alpha(opacity=0)",opacity:0});document.body.appendChild(o);a.addEvent(l,"dragenter",function(t){var s,u;s=document.getElementById(m);u=a.getPos(s);a.extend(document.getElementById(q).style,{top:u.y+"px",left:u.x+"px",width:s.offsetWidth+"px",height:s.offsetHeight+"px"})});r(q,p)}else{r(m)}}
a.addEvent(document.getElementById(d.browse_button),"click",function(y){var s=[],u,t,x=d.filters,w,v;y.preventDefault();if(k){return}
no_type_restriction:for(u=0;u<x.length;u++){w=x[u].extensions.split(",");for(t=0;t<w.length;t++){if(w[t]==="*"){s=[];break no_type_restriction}
v=a.mimeTypes[w[t]];if(v&&a.inArray(v,s)===-1){s.push(a.mimes[w[t]])}}}
e.FileBrowse.OpenBrowseDialog({mimeTypes:s},function(z){if(z.success){f(z.value)}})});l=o=null});g.bind("CancelUpload",function(){e.Uploader.cancel()});g.bind("DisableBrowse",function(l,m){k=m});g.bind("UploadFile",function(o,l){var n=h[l.id],t={},m=o.settings.chunk_size,p,q=[];function s(u,w){var v;if(l.status==a.FAILED){return}
t.name=l.target_name||l.name;if(m){t.chunk=""+u;t.chunks=""+w}
v=q.shift();e.Uploader.upload({url:o.settings.url,files:{file:v},cookies:document.cookies,postvars:a.extend(t,o.settings.multipart_params),progressCallback:function(z){var y,x=0;p[u]=parseInt(z.filePercent*v.size/100,10);for(y=0;y<p.length;y++){x+=p[y]}
l.loaded=x;o.trigger("UploadProgress",l)}},function(y){var x,z;if(y.success){x=y.value.statusCode;if(m){o.trigger("ChunkUploaded",l,{chunk:u,chunks:w,response:y.value.body,status:x})}
if(q.length>0){s(++u,w)}else{l.status=a.DONE;o.trigger("FileUploaded",l,{response:y.value.body,status:x});if(x>=400){o.trigger("Error",{code:a.HTTP_ERROR,message:a.translate("HTTP Error."),file:l,status:x})}}}else{o.trigger("Error",{code:a.GENERIC_ERROR,message:a.translate("Generic Error."),file:l,details:y.error})}})}
function r(u){l.size=u.size;if(m){e.FileAccess.chunk({file:u,chunkSize:m},function(x){if(x.success){var y=x.value,v=y.length;p=Array(v);for(var w=0;w<v;w++){p[w]=0;q.push(y[w])}
s(0,v)}})}else{p=Array(1);q.push(u);s(0,1)}}
if(c&&/\.(png|jpg|jpeg)$/i.test(l.name)){BrowserPlus.ImageAlter.transform({file:n,quality:c.quality||90,actions:[{scale:{maxwidth:c.width,maxheight:c.height}}]},function(u){if(u.success){r(u.value.file)}})}else{r(n)}});j({success:true})}
if(e){e.init(function(l){var k=[{service:"Uploader",version:"3"},{service:"DragAndDrop",version:"1"},{service:"FileBrowse",version:"1"},{service:"FileAccess",version:"2"}];if(c){k.push({service:"ImageAlter",version:"4"})}
if(l.success){e.require({services:k},function(m){if(m.success){b()}else{j()}})}else{j()}})}else{j()}}})})(plupload);(function(h,k,j,e){var c={},g;function m(o,p){var n;if("FileReader"in h){n=new FileReader();n.readAsDataURL(o);n.onload=function(){p(n.result)}}else{return p(o.getAsDataURL())}}
function l(o,p){var n;if("FileReader"in h){n=new FileReader();n.readAsBinaryString(o);n.onload=function(){p(n.result)}}else{return p(o.getAsBinary())}}
function d(r,p,n,v){var q,o,u,s,t=this;m(c[r.id],function(w){q=k.createElement("canvas");q.style.display="none";k.body.appendChild(q);o=q.getContext("2d");u=new Image();u.onerror=u.onabort=function(){v({success:false})};u.onload=function(){var B,x,z,y,A;if(!p.width){p.width=u.width}
if(!p.height){p.height=u.height}
s=Math.min(p.width/u.width,p.height/u.height);if(s<1||(s===1&&n==="image/jpeg")){B=Math.round(u.width*s);x=Math.round(u.height*s);q.width=B;q.height=x;o.drawImage(u,0,0,B,x);if(n==="image/jpeg"){y=new f(atob(w.substring(w.indexOf("base64,")+7)));if(y.headers&&y.headers.length){A=new a();if(A.init(y.get("exif")[0])){A.setExif("PixelXDimension",B);A.setExif("PixelYDimension",x);y.set("exif",A.getBinary());if(t.hasEventListener("ExifData")){t.trigger("ExifData",r,A.EXIF())}
if(t.hasEventListener("GpsData")){t.trigger("GpsData",r,A.GPS())}}}
if(p.quality){try{w=q.toDataURL(n,p.quality/100)}catch(C){w=q.toDataURL(n)}}}else{w=q.toDataURL(n)}
w=w.substring(w.indexOf("base64,")+7);w=atob(w);if(y&&y.headers&&y.headers.length){w=y.restore(w);y.purge()}
q.parentNode.removeChild(q);v({success:true,data:w})}else{v({success:false})}};u.src=w})}
j.runtimes.Html5=j.addRuntime("html5",{getFeatures:function(){var s,o,r,q,p,n;o=r=p=n=false;if(h.XMLHttpRequest){s=new XMLHttpRequest();r=!!s.upload;o=!!(s.sendAsBinary||s.upload)}
if(o){q=!!(s.sendAsBinary||(h.Uint8Array&&h.ArrayBuffer));p=!!(File&&(File.prototype.getAsDataURL||h.FileReader)&&q);n=!!(File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))}
g=j.ua.safari&&j.ua.windows;return{html5:o,dragdrop:(function(){var t=k.createElement("div");return("draggable"in t)||("ondragstart"in t&&"ondrop"in t)}()),jpgresize:p,pngresize:p,multipart:p||!!h.FileReader||!!h.FormData,canSendBinary:q,cantSendBlobInFormData:!!(j.ua.gecko&&h.FormData&&h.FileReader&&!FileReader.prototype.readAsArrayBuffer),progress:r,chunks:n,multi_selection:!(j.ua.safari&&j.ua.windows),triggerDialog:(j.ua.gecko&&h.FormData||j.ua.webkit)}},init:function(p,r){var n,q;function o(w){var u,t,v=[],x,s={};for(t=0;t<w.length;t++){u=w[t];if(s[u.name]){continue}
s[u.name]=true;x=j.guid();c[x]=u;v.push(new j.File(x,u.fileName||u.name,u.fileSize||u.size))}
if(v.length){p.trigger("FilesAdded",v)}}
n=this.getFeatures();if(!n.html5){r({success:false});return}
p.bind("Init",function(w){var G,F,C=[],v,D,t=w.settings.filters,u,B,s=k.body,E;G=k.createElement("div");G.id=w.id+"_html5_container";j.extend(G.style,{position:"absolute",background:p.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:p.settings.shim_bgcolor?"":0});G.className="plupload html5";if(p.settings.container){s=k.getElementById(p.settings.container);if(j.getStyle(s,"position")==="static"){s.style.position="relative"}}
s.appendChild(G);no_type_restriction:for(v=0;v<t.length;v++){u=t[v].extensions.split(/,/);for(D=0;D<u.length;D++){if(u[D]==="*"){C=[];break no_type_restriction}
B=j.mimeTypes[u[D]];if(B&&j.inArray(B,C)===-1){C.push(B)}}}
G.innerHTML='<input id="'+p.id+'_html5"  style="font-size:999px" type="file" accept="'+C.join(",")+'" '+(p.settings.multi_selection&&p.features.multi_selection?'multiple="multiple"':"")+" />";G.scrollTop=100;E=k.getElementById(p.id+"_html5");if(w.features.triggerDialog){j.extend(E.style,{position:"absolute",width:"100%",height:"100%"})}else{j.extend(E.style,{cssFloat:"right",styleFloat:"right"})}
E.onchange=function(){o(this.files);this.value=""};F=k.getElementById(w.settings.browse_button);if(F){var z=w.settings.browse_button_hover,A=w.settings.browse_button_active,x=w.features.triggerDialog?F:G;if(z){j.addEvent(x,"mouseover",function(){j.addClass(F,z)},w.id);j.addEvent(x,"mouseout",function(){j.removeClass(F,z)},w.id)}
if(A){j.addEvent(x,"mousedown",function(){j.addClass(F,A)},w.id);j.addEvent(k.body,"mouseup",function(){j.removeClass(F,A)},w.id)}
if(w.features.triggerDialog){j.addEvent(F,"click",function(H){var y=k.getElementById(w.id+"_html5");if(y&&!y.disabled){y.click()}
H.preventDefault()},w.id)}}});p.bind("PostInit",function(){var s=k.getElementById(p.settings.drop_element);if(s){if(g){j.addEvent(s,"dragenter",function(w){var v,t,u;v=k.getElementById(p.id+"_drop");if(!v){v=k.createElement("input");v.setAttribute("type","file");v.setAttribute("id",p.id+"_drop");v.setAttribute("multiple","multiple");j.addEvent(v,"change",function(){o(this.files);j.removeEvent(v,"change",p.id);v.parentNode.removeChild(v)},p.id);s.appendChild(v)}
t=j.getPos(s,k.getElementById(p.settings.container));u=j.getSize(s);if(j.getStyle(s,"position")==="static"){j.extend(s.style,{position:"relative"})}
j.extend(v.style,{position:"absolute",display:"block",top:0,left:0,width:u.w+"px",height:u.h+"px",opacity:0})},p.id);return}
j.addEvent(s,"dragover",function(t){t.preventDefault()},p.id);j.addEvent(s,"drop",function(u){var t=u.dataTransfer;if(t&&t.files){o(t.files)}
u.preventDefault()},p.id)}});p.bind("Refresh",function(s){var t,u,v,x,w;t=k.getElementById(p.settings.browse_button);if(t){u=j.getPos(t,k.getElementById(s.settings.container));v=j.getSize(t);x=k.getElementById(p.id+"_html5_container");j.extend(x.style,{top:u.y+"px",left:u.x+"px",width:v.w+"px",height:v.h+"px"});if(p.features.triggerDialog){if(j.getStyle(t,"position")==="static"){j.extend(t.style,{position:"relative"})}
w=parseInt(j.getStyle(t,"z-index"),10);if(isNaN(w)){w=0}
j.extend(t.style,{zIndex:w});j.extend(x.style,{zIndex:w-1})}}});p.bind("DisableBrowse",function(s,u){var t=k.getElementById(s.id+"_html5");if(t){t.disabled=u}});p.bind("CancelUpload",function(){if(q.abort){q.abort()}});p.bind("UploadFile",function(s,u){var v=s.settings,y,t;function x(A,D,z){var B;if(File.prototype.slice){try{A.slice();return A.slice(D,z)}catch(C){return A.slice(D,z-D)}}else{if(B=File.prototype.webkitSlice||File.prototype.mozSlice){return B.call(A,D,z)}else{return null}}}
function w(A){var D=0,C=0,z=("FileReader"in h)?new FileReader:null;function B(){var I,M,K,L,H,J,F,E=s.settings.url;function G(V){var T=0,N="----pluploadboundary"+j.guid(),O,P="--",U="\r\n",R="";q=new XMLHttpRequest;if(q.upload){q.upload.onprogress=function(W){u.loaded=Math.min(u.size,C+W.loaded-T);s.trigger("UploadProgress",u)}}
q.onreadystatechange=function(){var W,Y;if(q.readyState==4&&s.state!==j.STOPPED){try{W=q.status}catch(X){W=0}
if(W>=400){s.trigger("Error",{code:j.HTTP_ERROR,message:j.translate("HTTP Error."),file:u,status:W})}else{if(K){Y={chunk:D,chunks:K,response:q.responseText,status:W};s.trigger("ChunkUploaded",u,Y);C+=J;if(Y.cancelled){u.status=j.FAILED;return}
u.loaded=Math.min(u.size,(D+1)*H)}else{u.loaded=u.size}
s.trigger("UploadProgress",u);V=I=O=R=null;if(!K||++D>=K){u.status=j.DONE;s.trigger("FileUploaded",u,{response:q.responseText,status:W})}else{B()}}}};if(s.settings.multipart&&n.multipart){L.name=u.target_name||u.name;q.open("post",E,true);j.each(s.settings.headers,function(X,W){q.setRequestHeader(W,X)});if(typeof(V)!=="string"&&!!h.FormData){O=new FormData();j.each(j.extend(L,s.settings.multipart_params),function(X,W){O.append(W,X)});O.append(s.settings.file_data_name,V);q.send(O);return}
if(typeof(V)==="string"){q.setRequestHeader("Content-Type","multipart/form-data; boundary="+N);j.each(j.extend(L,s.settings.multipart_params),function(X,W){R+=P+N+U+'Content-Disposition: form-data; name="'+W+'"'+U+U;R+=unescape(encodeURIComponent(X))+U});F=j.mimeTypes[u.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";R+=P+N+U+'Content-Disposition: form-data; name="'+s.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(u.name))+'"'+U+"Content-Type: "+F+U+U+V+U+P+N+P+U;T=R.length-V.length;V=R;if(q.sendAsBinary){q.sendAsBinary(V)}else{if(n.canSendBinary){var S=new Uint8Array(V.length);for(var Q=0;Q<V.length;Q++){S[Q]=(V.charCodeAt(Q)&255)}
q.send(S.buffer)}}
return}}
E=j.buildUrl(s.settings.url,j.extend(L,s.settings.multipart_params));q.open("post",E,true);q.setRequestHeader("Content-Type","application/octet-stream");j.each(s.settings.headers,function(X,W){q.setRequestHeader(W,X)});q.send(V)}
if(u.status==j.DONE||u.status==j.FAILED||s.state==j.STOPPED){return}
L={name:u.target_name||u.name};if(v.chunk_size&&u.size>v.chunk_size&&(n.chunks||typeof(A)=="string")){H=v.chunk_size;K=Math.ceil(u.size/H);J=Math.min(H,u.size-(D*H));if(typeof(A)=="string"){I=A.substring(D*H,D*H+J)}else{I=x(A,D*H,D*H+J)}
L.chunk=D;L.chunks=K}else{J=u.size;I=A}
if(s.settings.multipart&&n.multipart&&typeof(I)!=="string"&&z&&n.cantSendBlobInFormData&&n.chunks&&s.settings.chunk_size){z.onload=function(){G(z.result)};z.readAsBinaryString(I)}else{G(I)}}
B()}
y=c[u.id];if(n.jpgresize&&s.settings.resize&&/\.(png|jpg|jpeg)$/i.test(u.name)){d.call(s,u,s.settings.resize,/\.png$/i.test(u.name)?"image/png":"image/jpeg",function(z){if(z.success){u.size=z.data.length;w(z.data)}else{if(n.chunks){w(y)}else{l(y,w)}}})}else{if(!n.chunks&&n.jpgresize){l(y,w)}else{w(y)}}});p.bind("Destroy",function(s){var u,v,t=k.body,w={inputContainer:s.id+"_html5_container",inputFile:s.id+"_html5",browseButton:s.settings.browse_button,dropElm:s.settings.drop_element};for(u in w){v=k.getElementById(w[u]);if(v){j.removeAllEvents(v,s.id)}}
j.removeAllEvents(k.body,s.id);if(s.settings.container){t=k.getElementById(s.settings.container)}
t.removeChild(k.getElementById(w.inputContainer))});r({success:true})}});function b(){var q=false,o;function r(t,v){var s=q?0:-8*(v-1),w=0,u;for(u=0;u<v;u++){w|=(o.charCodeAt(t+u)<<Math.abs(s+u*8))}
return w}
function n(u,s,t){var t=arguments.length===3?t:o.length-s-1;o=o.substr(0,s)+u+o.substr(t+s)}
function p(t,u,w){var x="",s=q?0:-8*(w-1),v;for(v=0;v<w;v++){x+=String.fromCharCode((u>>Math.abs(s+v*8))&255)}
n(x,t,w)}
return{II:function(s){if(s===e){return q}else{q=s}},init:function(s){q=false;o=s},SEGMENT:function(s,u,t){switch(arguments.length){case 1:return o.substr(s,o.length-s-1);case 2:return o.substr(s,u);case 3:n(t,s,u);break;default:return o}},BYTE:function(s){return r(s,1)},SHORT:function(s){return r(s,2)},LONG:function(s,t){if(t===e){return r(s,4)}else{p(s,t,4)}},SLONG:function(s){var t=r(s,4);return(t>2147483647?t-4294967296:t)},STRING:function(s,t){var u="";for(t+=s;s<t;s++){u+=String.fromCharCode(r(s,1))}
return u}}}
function f(s){var u={65505:{app:"EXIF",name:"APP1",signature:"Exif\0"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\0"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\0"}},t=[],r,n,p=e,q=0,o;r=new b();r.init(s);if(r.SHORT(0)!==65496){return}
n=2;o=Math.min(1048576,s.length);while(n<=o){p=r.SHORT(n);if(p>=65488&&p<=65495){n+=2;continue}
if(p===65498||p===65497){break}
q=r.SHORT(n+2)+2;if(u[p]&&r.STRING(n+4,u[p].signature.length)===u[p].signature){t.push({hex:p,app:u[p].app.toUpperCase(),name:u[p].name.toUpperCase(),start:n,length:q,segment:r.SEGMENT(n,q)})}
n+=q}
r.init(null);return{headers:t,restore:function(y){r.init(y);var w=new f(y);if(!w.headers){return false}
for(var x=w.headers.length;x>0;x--){var z=w.headers[x-1];r.SEGMENT(z.start,z.length,"")}
w.purge();n=r.SHORT(2)==65504?4+r.SHORT(4):2;for(var x=0,v=t.length;x<v;x++){r.SEGMENT(n,0,t[x].segment);n+=t[x].length}
return r.SEGMENT()},get:function(x){var y=[];for(var w=0,v=t.length;w<v;w++){if(t[w].app===x.toUpperCase()){y.push(t[w].segment)}}
return y},set:function(y,x){var z=[];if(typeof(x)==="string"){z.push(x)}else{z=x}
for(var w=ii=0,v=t.length;w<v;w++){if(t[w].app===y.toUpperCase()){t[w].segment=z[ii];t[w].length=z[ii].length;ii++}
if(ii>=z.length){break}}},purge:function(){t=[];r.init(null)}}}
function a(){var q,n,o={},t;q=new b();n={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}};t={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}};function p(u,C){var w=q.SHORT(u),z,F,G,B,A,v,x,D,E=[],y={};for(z=0;z<w;z++){x=v=u+12*z+2;G=C[q.SHORT(x)];if(G===e){continue}
B=q.SHORT(x+=2);A=q.LONG(x+=2);x+=4;E=[];switch(B){case 1:case 7:if(A>4){x=q.LONG(x)+o.tiffHeader}
for(F=0;F<A;F++){E[F]=q.BYTE(x+F)}
break;case 2:if(A>4){x=q.LONG(x)+o.tiffHeader}
y[G]=q.STRING(x,A-1);continue;case 3:if(A>2){x=q.LONG(x)+o.tiffHeader}
for(F=0;F<A;F++){E[F]=q.SHORT(x+F*2)}
break;case 4:if(A>1){x=q.LONG(x)+o.tiffHeader}
for(F=0;F<A;F++){E[F]=q.LONG(x+F*4)}
break;case 5:x=q.LONG(x)+o.tiffHeader;for(F=0;F<A;F++){E[F]=q.LONG(x+F*4)/q.LONG(x+F*4+4)}
break;case 9:x=q.LONG(x)+o.tiffHeader;for(F=0;F<A;F++){E[F]=q.SLONG(x+F*4)}
break;case 10:x=q.LONG(x)+o.tiffHeader;for(F=0;F<A;F++){E[F]=q.SLONG(x+F*4)/q.SLONG(x+F*4+4)}
break;default:continue}
D=(A==1?E[0]:E);if(t.hasOwnProperty(G)&&typeof D!="object"){y[G]=t[G][D]}else{y[G]=D}}
return y}
function s(){var v=e,u=o.tiffHeader;q.II(q.SHORT(u)==18761);if(q.SHORT(u+=2)!==42){return false}
o.IFD0=o.tiffHeader+q.LONG(u+=2);v=p(o.IFD0,n.tiff);o.exifIFD=("ExifIFDPointer"in v?o.tiffHeader+v.ExifIFDPointer:e);o.gpsIFD=("GPSInfoIFDPointer"in v?o.tiffHeader+v.GPSInfoIFDPointer:e);return true}
function r(w,u,z){var B,y,x,A=0;if(typeof(u)==="string"){var v=n[w.toLowerCase()];for(hex in v){if(v[hex]===u){u=hex;break}}}
B=o[w.toLowerCase()+"IFD"];y=q.SHORT(B);for(i=0;i<y;i++){x=B+12*i+2;if(q.SHORT(x)==u){A=x+8;break}}
if(!A){return false}
q.LONG(A,z);return true}
return{init:function(u){o={tiffHeader:10};if(u===e||!u.length){return false}
q.init(u);if(q.SHORT(0)===65505&&q.STRING(4,5).toUpperCase()==="EXIF\0"){return s()}
return false},EXIF:function(){var v;v=p(o.exifIFD,n.exif);if(v.ExifVersion&&j.typeOf(v.ExifVersion)==="array"){for(var w=0,u="";w<v.ExifVersion.length;w++){u+=String.fromCharCode(v.ExifVersion[w])}
v.ExifVersion=u}
return v},GPS:function(){var u;u=p(o.gpsIFD,n.gps);if(u.GPSVersionID){u.GPSVersionID=u.GPSVersionID.join(".")}
return u},setExif:function(u,v){if(u!=="PixelXDimension"&&u!=="PixelYDimension"){return false}
return r("exif",u,v)},getBinary:function(){return q.SEGMENT()}}}})(window,document,plupload);(function(d,a,b,c){function e(f){return a.getElementById(f)}
b.runtimes.Html4=b.addRuntime("html4",{getFeatures:function(){return{multipart:true,triggerDialog:(b.ua.gecko&&d.FormData||b.ua.webkit)}},init:function(f,g){f.bind("Init",function(p){var j=a.body,n,h="javascript",k,x,q,z=[],r=/MSIE/.test(navigator.userAgent),t=[],m=p.settings.filters,o,l,s,w;no_type_restriction:for(o=0;o<m.length;o++){l=m[o].extensions.split(/,/);for(w=0;w<l.length;w++){if(l[w]==="*"){t=[];break no_type_restriction}
s=b.mimeTypes[l[w]];if(s&&b.inArray(s,t)===-1){t.push(s)}}}
t=t.join(",");function v(){var C,A,y,B;q=b.guid();z.push(q);C=a.createElement("form");C.setAttribute("id","form_"+q);C.setAttribute("method","post");C.setAttribute("enctype","multipart/form-data");C.setAttribute("encoding","multipart/form-data");C.setAttribute("target",p.id+"_iframe");C.style.position="absolute";A=a.createElement("input");A.setAttribute("id","input_"+q);A.setAttribute("type","file");A.setAttribute("accept",t);A.setAttribute("size",1);B=e(p.settings.browse_button);if(p.features.triggerDialog&&B){b.addEvent(e(p.settings.browse_button),"click",function(D){if(!A.disabled){A.click()}
D.preventDefault()},p.id)}
b.extend(A.style,{width:"100%",height:"100%",opacity:0,fontSize:"99px"});b.extend(C.style,{overflow:"hidden"});y=p.settings.shim_bgcolor;if(y){C.style.background=y}
if(r){b.extend(A.style,{filter:"alpha(opacity=0)"})}
b.addEvent(A,"change",function(G){var E=G.target,D,F=[],H;if(E.value){e("form_"+q).style.top=-1048575+"px";D=E.value.replace(/\\/g,"/");D=D.substring(D.length,D.lastIndexOf("/")+1);F.push(new b.File(q,D));if(!p.features.triggerDialog){b.removeAllEvents(C,p.id)}else{b.removeEvent(B,"click",p.id)}
b.removeEvent(A,"change",p.id);v();if(F.length){f.trigger("FilesAdded",F)}}},p.id);C.appendChild(A);j.appendChild(C);p.refresh()}
function u(){var y=a.createElement("div");y.innerHTML='<iframe id="'+p.id+'_iframe" name="'+p.id+'_iframe" src="'+h+':&quot;&quot;" style="display:none"></iframe>';n=y.firstChild;j.appendChild(n);b.addEvent(n,"load",function(D){var E=D.target,C,A;if(!k){return}
try{C=E.contentWindow.document||E.contentDocument||d.frames[E.id].document}catch(B){p.trigger("Error",{code:b.SECURITY_ERROR,message:b.translate("Security error."),file:k});return}
A=C.body.innerHTML;if(A){k.status=b.DONE;k.loaded=1025;k.percent=100;p.trigger("UploadProgress",k);p.trigger("FileUploaded",k,{response:A})}},p.id)}
if(p.settings.container){j=e(p.settings.container);if(b.getStyle(j,"position")==="static"){j.style.position="relative"}}
p.bind("UploadFile",function(y,B){var C,A;if(B.status==b.DONE||B.status==b.FAILED||y.state==b.STOPPED){return}
C=e("form_"+B.id);A=e("input_"+B.id);A.setAttribute("name",y.settings.file_data_name);C.setAttribute("action",y.settings.url);b.each(b.extend({name:B.target_name||B.name},y.settings.multipart_params),function(F,D){var E=a.createElement("input");b.extend(E,{type:"hidden",name:D,value:F});C.insertBefore(E,C.firstChild)});k=B;e("form_"+q).style.top=-1048575+"px";C.submit();C.parentNode.removeChild(C)});p.bind("FileUploaded",function(y){y.refresh()});p.bind("StateChanged",function(y){if(y.state==b.STARTED){u()}
if(y.state==b.STOPPED){d.setTimeout(function(){b.removeEvent(n,"load",y.id);if(n.parentNode){n.parentNode.removeChild(n)}},0)}});p.bind("Refresh",function(A){var G,B,C,D,y,H,I,F,E;G=e(A.settings.browse_button);if(G){y=b.getPos(G,e(A.settings.container));H=b.getSize(G);I=e("form_"+q);F=e("input_"+q);b.extend(I.style,{top:y.y+"px",left:y.x+"px",width:H.w+"px",height:H.h+"px"});if(A.features.triggerDialog){if(b.getStyle(G,"position")==="static"){b.extend(G.style,{position:"relative"})}
E=parseInt(G.style.zIndex,10);if(isNaN(E)){E=0}
b.extend(G.style,{zIndex:E});b.extend(I.style,{zIndex:E-1})}
C=A.settings.browse_button_hover;D=A.settings.browse_button_active;B=A.features.triggerDialog?G:I;if(C){b.addEvent(B,"mouseover",function(){b.addClass(G,C)},A.id);b.addEvent(B,"mouseout",function(){b.removeClass(G,C)},A.id)}
if(D){b.addEvent(B,"mousedown",function(){b.addClass(G,D)},A.id);b.addEvent(a.body,"mouseup",function(){b.removeClass(G,D)},A.id)}}});f.bind("FilesRemoved",function(y,B){var A,C;for(A=0;A<B.length;A++){C=e("form_"+B[A].id);if(C){C.parentNode.removeChild(C)}}});f.bind("DisableBrowse",function(y,B){var A=a.getElementById("input_"+q);if(A){A.disabled=B}});f.bind("Destroy",function(y){var A,B,C,D={inputContainer:"form_"+q,inputFile:"input_"+q,browseButton:y.settings.browse_button};for(A in D){B=e(D[A]);if(B){b.removeAllEvents(B,y.id)}}
b.removeAllEvents(a.body,y.id);b.each(z,function(F,E){C=e("form_"+F);if(C){j.removeChild(C)}})});v()});g({success:true})}})})(window,document,plupload);
;(function(c){var d={};function a(e){return plupload.translate(e)||e}
function b(f,e){e.contents().each(function(g,h){h=c(h);if(!h.is(".plupload")){h.remove()}});e.prepend('<div class="plupload_wrapper plupload_scroll"><div id="'+f+'_container" class="plupload_container"><div class="plupload"><div class="plupload_content"><div class="plupload_filelist_header"><div class="plupload_file_name">'+a("Filename")+'</div><div class="plupload_file_action">&nbsp;</div><div class="plupload_file_status"><span>'+a("Status")+'</span></div><div class="plupload_file_size">'+a("Size")+'</div><div class="plupload_clearer">&nbsp;</div></div><ul id="'+f+'_filelist" class="plupload_filelist"></ul><div class="plupload_filelist_footer"><div class="plupload_file_name"><div class="plupload_buttons"><a href="#" class="btn btn-small plupload_add"><i class="icon-plus-sign"></i> '+a("Add files")+'</a>&nbsp;&nbsp;<a href="#" class="btn btn-small btn-primary plupload_start"><i class="icon-upload icon-white"></i>'+a("Start upload")+'</a></div><span class="plupload_upload_status"></span></div><div class="plupload_file_action"></div><div class="plupload_file_status"><span class="plupload_total_status">0%</span></div><div class="plupload_file_size"><span class="plupload_total_file_size">0 b</span></div><div class="plupload_progress"><div class="plupload_progress_container"><div class="plupload_progress_bar"></div></div></div><div class="plupload_clearer">&nbsp;</div></div></div></div></div><input type="hidden" id="'+f+'_count" name="'+f+'_count" value="0" /></div>')}
c.fn.pluploadQueue=function(e){if(e){this.each(function(){var j,i,k;i=c(this);k=i.attr("id");if(!k){k=plupload.guid();i.attr("id",k)}
j=new plupload.Uploader(c.extend({dragdrop:true,container:k},e));d[k]=j;function h(l){var n;if(l.status==plupload.DONE){n="plupload_done"}
if(l.status==plupload.FAILED){n="plupload_failed"}
if(l.status==plupload.QUEUED){n="plupload_delete"}
if(l.status==plupload.UPLOADING){n="plupload_uploading"}
var m=c("#"+l.id).attr("class",n).find("a").css("display","block");if(l.hint){m.attr("title",l.hint)}}
function f(){c("span.plupload_total_status",i).html(j.total.percent+"%");c("div.plupload_progress_bar",i).css("width",j.total.percent+"%");c("span.plupload_upload_status",i).text(a("Uploaded %d/%d files").replace(/%d\/%d/,j.total.uploaded+"/"+j.files.length))}
function g(){var m=c("ul.plupload_filelist",i).html(""),n=0,l;c.each(j.files,function(p,o){l="";if(o.status==plupload.DONE){if(o.target_name){l+='<input type="hidden" name="'+k+"_"+n+'_tmpname" value="'+plupload.xmlEncode(o.target_name)+'" />'}
l+='<input type="hidden" name="'+k+"_"+n+'_name" value="'+plupload.xmlEncode(o.name)+'" />';l+='<input type="hidden" name="'+k+"_"+n+'_status" value="'+(o.status==plupload.DONE?"done":"failed")+'" />';n++;c("#"+k+"_count").val(n)}
m.append('<li id="'+o.id+'"><div class="plupload_file_name"><span>'+o.name+'</span></div><div class="plupload_file_action"><a href="#"></a></div><div class="plupload_file_status">'+o.percent+'%</div><div class="plupload_file_size">'+plupload.formatSize(o.size)+'</div><div class="plupload_clearer">&nbsp;</div>'+l+"</li>");h(o);c("#"+o.id+".plupload_delete a").click(function(q){c("#"+o.id).remove();j.removeFile(o);q.preventDefault()})});c("span.plupload_total_file_size",i).html(plupload.formatSize(j.total.size));if(j.total.queued===0){c("span.plupload_add_text",i).text(a("Add files."))}else{c("span.plupload_add_text",i).text(j.total.queued+" files queued.")}
c("a.plupload_start",i).toggleClass("disabled",j.files.length==(j.total.uploaded+j.total.failed));m[0].scrollTop=m[0].scrollHeight;f();if(!j.files.length&&j.features.dragdrop&&j.settings.dragdrop){c("#"+k+"_filelist").append('<li class="plupload_droptext">'+a("Drag files here.")+"</li>")}}
j.bind("UploadFile",function(l,m){c("#"+m.id).addClass("plupload_current_file")});j.bind("Init",function(l,m){b(k,i);if(!e.unique_names&&e.rename){c("#"+k+"_filelist div.plupload_file_name span",i).live("click",function(s){var q=c(s.target),o,r,n,p="";o=l.getFile(q.parents("li")[0].id);n=o.name;r=/^(.+)(\.[^.]+)$/.exec(n);if(r){n=r[1];p=r[2]}
q.hide().after('<input type="text" />');q.next().val(n).focus().blur(function(){q.show().next().remove()}).keydown(function(u){var t=c(this);if(u.keyCode==13){u.preventDefault();o.name=t.val()+p;q.text(o.name);t.blur()}})})}
c("a.plupload_add",i).attr("id",k+"_browse");l.settings.browse_button=k+"_browse";if(l.features.dragdrop&&l.settings.dragdrop){l.settings.drop_element=k+"_filelist";c("#"+k+"_filelist").append('<li class="plupload_droptext">'+a("Drag files here.")+"</li>")}
c("#"+k+"_container").attr("title","Using runtime: "+m.runtime);c("a.plupload_start",i).click(function(n){if(!c(this).hasClass("disabled")){j.start()}
n.preventDefault()});c("a.plupload_stop",i).click(function(n){n.preventDefault();j.stop()});c("a.plupload_start",i).addClass("disabled")});j.init();j.bind("Error",function(l,o){var m=o.file,n;if(m){n=o.message;if(o.details){n+=" ("+o.details+")"}
if(o.code==plupload.FILE_SIZE_ERROR){alert(a("Error: File too large: ")+m.name)}
if(o.code==plupload.FILE_EXTENSION_ERROR){alert(a("Error: Invalid file extension: ")+m.name)}
m.hint=n;c("#"+m.id).attr("class","plupload_failed").find("a").css("display","block").attr("title",n)}});j.bind("StateChanged",function(){if(j.state===plupload.STARTED){c("li.plupload_delete a,div.plupload_buttons",i).hide();c("span.plupload_upload_status,div.plupload_progress,a.plupload_stop",i).css("display","block");c("span.plupload_upload_status",i).text("Uploaded "+j.total.uploaded+"/"+j.files.length+" files");if(e.multiple_queues){c("span.plupload_total_status,span.plupload_total_file_size",i).show()}}else{g();c("a.plupload_stop,div.plupload_progress",i).hide();c("a.plupload_delete",i).css("display","block")}});j.bind("QueueChanged",g);j.bind("FileUploaded",function(l,m){h(m)});j.bind("UploadProgress",function(l,m){c("#"+m.id+" div.plupload_file_status",i).html(m.percent+"%");h(m);f();if(e.multiple_queues&&j.total.uploaded+j.total.failed==j.files.length){c(".plupload_buttons,.plupload_upload_status",i).css("display","inline");c(".plupload_start",i).addClass("disabled");c("span.plupload_total_status,span.plupload_total_file_size",i).hide();}else{console.log('working');if(j.total.uploaded+j.total.failed==j.files.length){console.log('fin');}}});if(e.setup){e.setup(j)}});return this}else{return d[c(this[0]).attr("id")]}}})(jQuery);
;;(function($){$.fn.mask=function(label,delay){$(this).each(function(){if(delay!==undefined&&delay>0){var element=$(this);element.data("_mask_timeout",setTimeout(function(){$.maskElement(element,label)},delay));}else{$.maskElement($(this),label);}});};$.fn.unmask=function(){$(this).each(function(){$.unmaskElement($(this));});};$.fn.isMasked=function(){return this.hasClass("masked");};$.maskElement=function(element,label){if(element.data("_mask_timeout")!==undefined){clearTimeout(element.data("_mask_timeout"));element.removeData("_mask_timeout");}
if(element.isMasked()){$.unmaskElement(element);}
if(element.css("position")=="static"){element.addClass("masked-relative");}
element.addClass("masked");var maskDiv=$('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1){maskDiv.height(element.height()+parseInt(element.css("padding-top"))+parseInt(element.css("padding-bottom")));maskDiv.width(element.width()+parseInt(element.css("padding-left"))+parseInt(element.css("padding-right")));}
if(navigator.userAgent.toLowerCase().indexOf("msie 6")>-1){element.find("select").addClass("masked-hidden");}
element.append(maskDiv);if(label!==undefined){var maskMsgDiv=$('<div class="loadmask-msg" style="display:none;"></div>');maskMsgDiv.append('<div>'+label+'</div>');element.append(maskMsgDiv);maskMsgDiv.css("top",(Math.round(element.height()/2-(maskMsgDiv.height()-parseInt(maskMsgDiv.css("padding-top"))-parseInt(maskMsgDiv.css("padding-bottom")))/2)-5)+"px");maskMsgDiv.css("left",(Math.round(element.width()/2-(maskMsgDiv.width()-parseInt(maskMsgDiv.css("padding-left"))-parseInt(maskMsgDiv.css("padding-right")))/2)-40)+"px");maskMsgDiv.show();}};$.unmaskElement=function(element){if(element.data("_mask_timeout")!==undefined){clearTimeout(element.data("_mask_timeout"));element.removeData("_mask_timeout");}
element.find(".loadmask-msg,.loadmask").remove();element.removeClass("masked");element.removeClass("masked-relative");element.find("select").removeClass("masked-hidden");};})(jQuery);
;(function($){$.fn.editable=function(target,options){if('disable'==target){$(this).data('disabled.editable',true);return;}
if('enable'==target){$(this).data('disabled.editable',false);return;}
if('destroy'==target){$(this).unbind($(this).data('event.editable')).removeData('disabled.editable').removeData('event.editable');return;}
var settings=$.extend({},$.fn.editable.defaults,{target:target},options);var plugin=$.editable.types[settings.type].plugin||function(){};var submit=$.editable.types[settings.type].submit||function(){};var buttons=$.editable.types[settings.type].buttons||$.editable.types['defaults'].buttons;var content=$.editable.types[settings.type].content||$.editable.types['defaults'].content;var element=$.editable.types[settings.type].element||$.editable.types['defaults'].element;var reset=$.editable.types[settings.type].reset||$.editable.types['defaults'].reset;var callback=settings.callback||function(){};var onedit=settings.onedit||function(){};var onsubmit=settings.onsubmit||function(){};var onreset=settings.onreset||function(){};var onerror=settings.onerror||reset;if(settings.tooltip){$(this).attr('title',settings.tooltip);}
settings.autowidth='auto'==settings.width;settings.autoheight='auto'==settings.height;return this.each(function(){var self=this;var savedwidth=$(self).width();var savedheight=$(self).height();$(this).data('event.editable',settings.event);if(!$.trim($(this).html())){$(this).html(settings.placeholder);}
$(this).bind(settings.event,function(e){if(true===$(this).data('disabled.editable')){return;}
if(self.editing){return;}
if(false===onedit.apply(this,[settings,self])){return;}
e.preventDefault();e.stopPropagation();if(settings.tooltip){$(self).removeAttr('title');}
if(0==$(self).width()){settings.width=savedwidth;settings.height=savedheight;}else{if(settings.width!='none'){settings.width=settings.autowidth?$(self).width():settings.width;}
if(settings.height!='none'){settings.height=settings.autoheight?$(self).height():settings.height;}}
if($(this).html().toLowerCase().replace(/(;|")/g,'')==settings.placeholder.toLowerCase().replace(/(;|")/g,'')){$(this).html('');}
self.editing=true;self.revert=$(self).html();$(self).html('');var form=$('<form />');if(settings.cssclass){if('inherit'==settings.cssclass){form.attr('class',$(self).attr('class'));}else{form.attr('class',settings.cssclass);}}
if(settings.style){if('inherit'==settings.style){form.attr('style',$(self).attr('style'));form.css('display',$(self).css('display'));}else{form.attr('style',settings.style);}}
var input=element.apply(form,[settings,self]);var input_content;if(settings.loadurl){var t=setTimeout(function(){input.disabled=true;content.apply(form,[settings.loadtext,settings,self]);},100);var loaddata={};loaddata[settings.id]=self.id;if($.isFunction(settings.loaddata)){$.extend(loaddata,settings.loaddata.apply(self,[self.revert,settings]));}else{$.extend(loaddata,settings.loaddata);}
$.ajax({type:settings.loadtype,url:settings.loadurl,data:loaddata,async:false,success:function(result){window.clearTimeout(t);input_content=result;input.disabled=false;}});}else if(settings.data){input_content=settings.data;if($.isFunction(settings.data)){input_content=settings.data.apply(self,[self.revert,settings]);}}else{input_content=self.revert;}
content.apply(form,[input_content,settings,self]);input.attr('name',settings.name);buttons.apply(form,[settings,self]);$(self).append(form);plugin.apply(form,[settings,self]);$(':input:visible:enabled:first',form).focus();if(settings.select){input.select();}
input.keydown(function(e){if(e.keyCode==27){e.preventDefault();reset.apply(form,[settings,self]);}});var t;if('cancel'==settings.onblur){input.blur(function(e){t=setTimeout(function(){reset.apply(form,[settings,self]);},500);});}else if('submit'==settings.onblur){input.blur(function(e){t=setTimeout(function(){form.submit();},200);});}else if($.isFunction(settings.onblur)){input.blur(function(e){settings.onblur.apply(self,[input.val(),settings]);});}else{input.blur(function(e){});}
form.submit(function(e){if(t){clearTimeout(t);}
e.preventDefault();if(false!==onsubmit.apply(form,[settings,self])){if(false!==submit.apply(form,[settings,self])){if($.isFunction(settings.target)){var str=settings.target.apply(self,[input.val(),settings]);$(self).html(str);self.editing=false;callback.apply(self,[self.innerHTML,settings]);if(!$.trim($(self).html())){$(self).html(settings.placeholder);}}else{var submitdata={};submitdata[settings.name]=input.val();submitdata[settings.id]=self.id;if($.isFunction(settings.submitdata)){$.extend(submitdata,settings.submitdata.apply(self,[self.revert,settings]));}else{$.extend(submitdata,settings.submitdata);}
if('PUT'==settings.method){submitdata['_method']='put';}
$(self).html(settings.indicator);var ajaxoptions={type:'POST',data:submitdata,dataType:'html',url:settings.target,success:function(result,status){if(ajaxoptions.dataType=='html'){$(self).html(result);}
self.editing=false;callback.apply(self,[result,settings]);if(!$.trim($(self).html())){$(self).html(settings.placeholder);}},error:function(xhr,status,error){onerror.apply(form,[settings,self,xhr]);}};$.extend(ajaxoptions,settings.ajaxoptions);$.ajax(ajaxoptions);}}}
$(self).attr('title',settings.tooltip);return false;});});this.reset=function(form){if(this.editing){if(false!==onreset.apply(form,[settings,self])){$(self).html(self.revert);self.editing=false;if(!$.trim($(self).html())){$(self).html(settings.placeholder);}
if(settings.tooltip){$(self).attr('title',settings.tooltip);}}}};});};$.editable={types:{defaults:{element:function(settings,original){var input=$('<input type="hidden"></input>');$(this).append(input);return(input);},content:function(string,settings,original){$(':input:first',this).val(string);},reset:function(settings,original){original.reset(this);},buttons:function(settings,original){var form=this;if(settings.submit){if(settings.submit.match(/>$/)){var submit=$(settings.submit).click(function(){if(submit.attr("type")!="submit"){form.submit();}});}else{var submit=$('<button type="submit" />');submit.html(settings.submit);}
$(this).append(submit);}
if(settings.cancel){if(settings.cancel.match(/>$/)){var cancel=$(settings.cancel);}else{var cancel=$('<button type="cancel" />');cancel.html(settings.cancel);}
$(this).append(cancel);$(cancel).click(function(event){if($.isFunction($.editable.types[settings.type].reset)){var reset=$.editable.types[settings.type].reset;}else{var reset=$.editable.types['defaults'].reset;}
reset.apply(form,[settings,original]);return false;});}}},text:{element:function(settings,original){var input=$('<input />');if(settings.width!='none'){input.width(settings.width);}
if(settings.height!='none'){input.height(settings.height);}
input.attr('autocomplete','off');$(this).append(input);return(input);}},textarea:{element:function(settings,original){var textarea=$('<textarea />');if(settings.rows){textarea.attr('rows',settings.rows);}else if(settings.height!="none"){textarea.height(settings.height);}
if(settings.cols){textarea.attr('cols',settings.cols);}else if(settings.width!="none"){textarea.width(settings.width);}
$(this).append(textarea);return(textarea);}},select:{element:function(settings,original){var select=$('<select />');$(this).append(select);return(select);},content:function(data,settings,original){if(String==data.constructor){eval('var json = '+data);}else{var json=data;}
for(var key in json){if(!json.hasOwnProperty(key)){continue;}
if('selected'==key){continue;}
var option=$('<option />').val(key).append(json[key]);$('select',this).append(option);}
$('select',this).children().each(function(){if($(this).val()==json['selected']||$(this).text()==$.trim(original.revert)){$(this).attr('selected','selected');}});}}},addInputType:function(name,input){$.editable.types[name]=input;}};$.fn.editable.defaults={name:'value',id:'id',type:'text',width:'auto',height:'auto',event:'click.editable',onblur:'cancel',loadtype:'GET',loadtext:'Loading...',placeholder:'Click to edit',loaddata:{},submitdata:{},ajaxoptions:{}};})(jQuery);
;;(function($,undefined){var tag2attr={a:'href',img:'src',form:'action',base:'href',script:'src',iframe:'src',link:'href'},key=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],aliases={"anchor":"fragment"},parser={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},querystring_parser=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g,fragment_parser=/(?:^|&|;)([^&=;]*)=?([^&;]*)/g;function parseUri(url,strictMode)
{var str=decodeURI(url),res=parser[strictMode||false?"strict":"loose"].exec(str),uri={attr:{},param:{},seg:{}},i=14;while(i--)
{uri.attr[key[i]]=res[i]||"";}
uri.param['query']={};uri.param['fragment']={};uri.attr['query'].replace(querystring_parser,function($0,$1,$2){if($1)
{uri.param['query'][$1]=$2;}});uri.attr['fragment'].replace(fragment_parser,function($0,$1,$2){if($1)
{uri.param['fragment'][$1]=$2;}});uri.seg['path']=uri.attr.path.replace(/^\/+|\/+$/g,'').split('/');uri.seg['fragment']=uri.attr.fragment.replace(/^\/+|\/+$/g,'').split('/');uri.attr['base']=uri.attr.host?uri.attr.protocol+"://"+uri.attr.host+(uri.attr.port?":"+uri.attr.port:''):'';return uri;};function getAttrName(elm)
{var tn=elm.tagName;if(tn!==undefined)return tag2attr[tn.toLowerCase()];return tn;}
$.fn.url=function(strictMode)
{var url='';if(this.length)
{url=$(this).attr(getAttrName(this[0]))||'';}
return $.url(url,strictMode);};$.url=function(url,strictMode)
{if(arguments.length===1&&url===true)
{strictMode=true;url=undefined;}
strictMode=strictMode||false;url=url||window.location.toString();return{data:parseUri(url,strictMode),attr:function(attr)
{attr=aliases[attr]||attr;return attr!==undefined?this.data.attr[attr]:this.data.attr;},param:function(param)
{return param!==undefined?this.data.param.query[param]:this.data.param.query;},fparam:function(param)
{return param!==undefined?this.data.param.fragment[param]:this.data.param.fragment;},segment:function(seg)
{if(seg===undefined)
{return this.data.seg.path;}
else
{seg=seg<0?this.data.seg.path.length+seg:seg-1;return this.data.seg.path[seg];}},fsegment:function(seg)
{if(seg===undefined)
{return this.data.seg.fragment;}
else
{seg=seg<0?this.data.seg.fragment.length+seg:seg-1;return this.data.seg.fragment[seg];}}};};})(jQuery);
;/*
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright 2011, Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(a){var r=a.fn.domManip,d="_tmplitem",q=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,b={},f={},e,p={key:0,data:{}},i=0,c=0,l=[];function g(g,d,h,e){var c={data:e||(e===0||e===false)?e:d?d.data:{},_wrap:d?d._wrap:null,tmpl:null,parent:d||null,nodes:[],calls:u,nest:w,wrap:x,html:v,update:t};g&&a.extend(c,g,{nodes:[],parent:d});if(h){c.tmpl=h;c._ctnt=c._ctnt||c.tmpl(a,c);c.key=++i;(l.length?f:b)[i]=c}return c}a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(f,d){a.fn[f]=function(n){var g=[],i=a(n),k,h,m,l,j=this.length===1&&this[0].parentNode;e=b||{};if(j&&j.nodeType===11&&j.childNodes.length===1&&i.length===1){i[d](this[0]);g=this}else{for(h=0,m=i.length;h<m;h++){c=h;k=(h>0?this.clone(true):this).get();a(i[h])[d](k);g=g.concat(k)}c=0;g=this.pushStack(g,f,i.selector)}l=e;e=null;a.tmpl.complete(l);return g}});a.fn.extend({tmpl:function(d,c,b){return a.tmpl(this[0],d,c,b)},tmplItem:function(){return a.tmplItem(this[0])},template:function(b){return a.template(b,this[0])},domManip:function(d,m,k){if(d[0]&&a.isArray(d[0])){var g=a.makeArray(arguments),h=d[0],j=h.length,i=0,f;while(i<j&&!(f=a.data(h[i++],"tmplItem")));if(f&&c)g[2]=function(b){a.tmpl.afterManip(this,b,k)};r.apply(this,g)}else r.apply(this,arguments);c=0;!e&&a.tmpl.complete(b);return this}});a.extend({tmpl:function(d,h,e,c){var i,k=!c;if(k){c=p;d=a.template[d]||a.template(null,d);f={}}else if(!d){d=c.tmpl;b[c.key]=c;c.nodes=[];c.wrapped&&n(c,c.wrapped);return a(j(c,null,c.tmpl(a,c)))}if(!d)return[];if(typeof h==="function")h=h.call(c||{});e&&e.wrapped&&n(e,e.wrapped);i=a.isArray(h)?a.map(h,function(a){return a?g(e,c,d,a):null}):[g(e,c,d,h)];return k?a(j(c,null,i)):i},tmplItem:function(b){var c;if(b instanceof a)b=b[0];while(b&&b.nodeType===1&&!(c=a.data(b,"tmplItem"))&&(b=b.parentNode));return c||p},template:function(c,b){if(b){if(typeof b==="string")b=o(b);else if(b instanceof a)b=b[0]||{};if(b.nodeType)b=a.data(b,"tmpl")||a.data(b,"tmpl",o(b.innerHTML));return typeof c==="string"?(a.template[c]=b):b}return c?typeof c!=="string"?a.template(null,c):a.template[c]||a.template(null,q.test(c)?c:a(c)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});a.extend(a.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){b={}},afterManip:function(f,b,d){var e=b.nodeType===11?a.makeArray(b.childNodes):b.nodeType===1?[b]:[];d.call(f,b);m(e);c++}});function j(e,g,f){var b,c=f?a.map(f,function(a){return typeof a==="string"?e.key?a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+d+'="'+e.key+'" $2'):a:j(a,e,a._ctnt)}):e;if(g)return c;c=c.join("");c.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(f,c,e,d){b=a(e).get();m(b);if(c)b=k(c).concat(b);if(d)b=b.concat(k(d))});return b?b:k(c)}function k(c){var b=document.createElement("div");b.innerHTML=c;return a.makeArray(b.childNodes)}function o(b){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+a.trim(b).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(m,l,k,g,b,c,d){var j=a.tmpl.tag[k],i,e,f;if(!j)throw"Unknown template tag: "+k;i=j._default||[];if(c&&!/\w$/.test(b)){b+=c;c=""}if(b){b=h(b);d=d?","+h(d)+")":c?")":"";e=c?b.indexOf(".")>-1?b+h(c):"("+b+").call($item"+d:b;f=c?e:"(typeof("+b+")==='function'?("+b+").call($item):("+b+"))"}else f=e=i.$1||"null";g=h(g);return"');"+j[l?"close":"open"].split("$notnull_1").join(b?"typeof("+b+")!=='undefined' && ("+b+")!=null":"true").split("$1a").join(f).split("$1").join(e).split("$2").join(g||i.$2||"")+"__.push('"})+"');}return __;")}function n(c,b){c._wrap=j(c,true,a.isArray(b)?b:[q.test(b)?b:a(b).html()]).join("")}function h(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function s(b){var a=document.createElement("div");a.appendChild(b.cloneNode(true));return a.innerHTML}function m(o){var n="_"+c,k,j,l={},e,p,h;for(e=0,p=o.length;e<p;e++){if((k=o[e]).nodeType!==1)continue;j=k.getElementsByTagName("*");for(h=j.length-1;h>=0;h--)m(j[h]);m(k)}function m(j){var p,h=j,k,e,m;if(m=j.getAttribute(d)){while(h.parentNode&&(h=h.parentNode).nodeType===1&&!(p=h.getAttribute(d)));if(p!==m){h=h.parentNode?h.nodeType===11?0:h.getAttribute(d)||0:0;if(!(e=b[m])){e=f[m];e=g(e,b[h]||f[h]);e.key=++i;b[i]=e}c&&o(m)}j.removeAttribute(d)}else if(c&&(e=a.data(j,"tmplItem"))){o(e.key);b[e.key]=e;h=a.data(j.parentNode,"tmplItem");h=h?h.key:0}if(e){k=e;while(k&&k.key!=h){k.nodes.push(j);k=k.parent}delete e._ctnt;delete e._wrap;a.data(j,"tmplItem",e)}function o(a){a=a+n;e=l[a]=l[a]||g(e,b[e.parent.key+n]||e.parent)}}}function u(a,d,c,b){if(!a)return l.pop();l.push({_:a,tmpl:d,item:this,data:c,options:b})}function w(d,c,b){return a.tmpl(a.template(d),c,b,this)}function x(b,d){var c=b.options||{};c.wrapped=d;return a.tmpl(a.template(b.tmpl),b.data,c,b.item)}function v(d,c){var b=this._wrap;return a.map(a(a.isArray(b)?b.join(""):b).filter(d||"*"),function(a){return c?a.innerText||a.textContent:a.outerHTML||s(a)})}function t(){var b=this.nodes;a.tmpl(null,null,null,this).insertBefore(b[0]);a(b).remove()}})(jQuery);
;(function(jQuery){var self=null;jQuery.fn.autogrow=function(o)
{return this.each(function(){new jQuery.autogrow(this,o);});};jQuery.autogrow=function(e,o)
{this.options=o||{};this.dummy=null;this.interval=null;this.line_height=this.options.lineHeight||parseInt(jQuery(e).css('line-height'));this.min_height=this.options.minHeight||parseInt(jQuery(e).css('min-height'));this.max_height=this.options.maxHeight||parseInt(jQuery(e).css('max-height'));;this.textarea=jQuery(e);if(this.line_height==NaN)
this.line_height=0;this.init();};jQuery.autogrow.fn=jQuery.autogrow.prototype={autogrow:'1.2.2'};jQuery.autogrow.fn.extend=jQuery.autogrow.extend=jQuery.extend;jQuery.autogrow.fn.extend({init:function(){var self=this;this.textarea.css({overflow:'hidden',display:'block'});this.textarea.bind('focus',function(){self.startExpand()}).bind('blur',function(){self.stopExpand()});this.checkExpand();},startExpand:function(){var self=this;this.interval=window.setInterval(function(){self.checkExpand()},400);},stopExpand:function(){clearInterval(this.interval);},checkExpand:function(){if(this.dummy==null)
{this.dummy=jQuery('<div></div>');this.dummy.css({'font-size':this.textarea.css('font-size'),'font-family':this.textarea.css('font-family'),'width':this.textarea.css('width'),'padding':this.textarea.css('padding'),'line-height':this.line_height+'px','overflow-x':'hidden','position':'absolute','top':0,'left':-9999}).appendTo('body');}
var html=this.textarea.val().replace(/(<|>)/g,'');if($.browser.msie)
{html=html.replace(/\n/g,'<BR>new');}
else
{html=html.replace(/\n/g,'<br>new');}
if(this.dummy.html()!=html)
{this.dummy.html(html);if(this.max_height>0&&(this.dummy.height()+this.line_height>this.max_height))
{this.textarea.css('overflow-y','auto');}
else
{this.textarea.css('overflow-y','hidden');if(this.textarea.height()<this.dummy.height()+this.line_height||(this.dummy.height()<this.textarea.height()))
{this.textarea.animate({height:(this.dummy.height()+this.line_height)+'px'},100);}}}}});})(jQuery);
;;(function(d){var k=d.scrollTo=function(a,i,e){d(window).scrollTo(a,i,e)};k.defaults={axis:'xy',duration:parseFloat(d.fn.jquery)>=1.3?0:1};k.window=function(a){return d(window)._scrollable()};d.fn._scrollable=function(){return this.map(function(){var a=this,i=!a.nodeName||d.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!i)return a;var e=(a.contentWindow||a).document||a.ownerDocument||a;return d.browser.safari||e.compatMode=='BackCompat'?e.body:e.documentElement})};d.fn.scrollTo=function(n,j,b){if(typeof j=='object'){b=j;j=0}if(typeof b=='function')b={onAfter:b};if(n=='max')n=9e9;b=d.extend({},k.defaults,b);j=j||b.speed||b.duration;b.queue=b.queue&&b.axis.length>1;if(b.queue)j/=2;b.offset=p(b.offset);b.over=p(b.over);return this._scrollable().each(function(){var q=this,r=d(q),f=n,s,g={},u=r.is('html,body');switch(typeof f){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(f)){f=p(f);break}f=d(f,this);case'object':if(f.is||f.style)s=(f=d(f)).offset()}d.each(b.axis.split(''),function(a,i){var e=i=='x'?'Left':'Top',h=e.toLowerCase(),c='scroll'+e,l=q[c],m=k.max(q,i);if(s){g[c]=s[h]+(u?0:l-r.offset()[h]);if(b.margin){g[c]-=parseInt(f.css('margin'+e))||0;g[c]-=parseInt(f.css('border'+e+'Width'))||0}g[c]+=b.offset[h]||0;if(b.over[h])g[c]+=f[i=='x'?'width':'height']()*b.over[h]}else{var o=f[h];g[c]=o.slice&&o.slice(-1)=='%'?parseFloat(o)/100*m:o}if(/^\d+$/.test(g[c]))g[c]=g[c]<=0?0:Math.min(g[c],m);if(!a&&b.queue){if(l!=g[c])t(b.onAfterFirst);delete g[c]}});t(b.onAfter);function t(a){r.animate(g,j,b.easing,a&&function(){a.call(this,n,b)})}}).end()};k.max=function(a,i){var e=i=='x'?'Width':'Height',h='scroll'+e;if(!d(a).is('html,body'))return a[h]-d(a)[e.toLowerCase()]();var c='client'+e,l=a.ownerDocument.documentElement,m=a.ownerDocument.body;return Math.max(l[h],m[h])-Math.min(l[c],m[c])};function p(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);
;jQuery.timer=function(interval,callback)
{var interval=interval||100;if(!callback)
return false;_timer=function(interval,callback){this.stop=function(){clearInterval(self.id);};this.internalCallback=function(){callback(self);};this.reset=function(val){if(self.id)
clearInterval(self.id);var val=val||100;this.id=setInterval(this.internalCallback,val);};this.interval=interval;this.id=setInterval(this.internalCallback,this.interval);var self=this;};return new _timer(interval,callback);};
;var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();
;if(typeof jwplayer=="undefined"){var jwplayer=function(b){if(jwplayer.api){return jwplayer.api.selectPlayer(b)}};var $jw=jwplayer;jwplayer.version="5.9.2118 (Licensed version)";jwplayer.vid=document.createElement("video");jwplayer.audio=document.createElement("audio");jwplayer.source=document.createElement("source");(function(c){c.utils=function(){};c.utils.typeOf=function(a){var b=typeof a;if(b==="object"){if(a){if(a instanceof Array){b="array"}}else{b="null"}}return b};c.utils.extend=function(){var f=c.utils.extend["arguments"];if(f.length>1){for(var a=1;a<f.length;a++){for(var b in f[a]){f[0][b]=f[a][b]}}return f[0]}return null};c.utils.clone=function(a){var h;var g=c.utils.clone["arguments"];if(g.length==1){switch(c.utils.typeOf(g[0])){case"object":h={};for(var b in g[0]){h[b]=c.utils.clone(g[0][b])}break;case"array":h=[];for(var b in g[0]){h[b]=c.utils.clone(g[0][b])}break;default:return g[0];break}}return h};c.utils.extension=function(a){if(!a){return""}a=a.substring(a.lastIndexOf("/")+1,a.length);a=a.split("?")[0];if(a.lastIndexOf(".")>-1){return a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase()}return};c.utils.html=function(b,a){b.innerHTML=a};c.utils.wrap=function(b,a){if(b.parentNode){b.parentNode.replaceChild(a,b)}a.appendChild(b)};c.utils.ajax=function(a,b,k){var h;if(window.XMLHttpRequest){h=new XMLHttpRequest()}else{h=new ActiveXObject("Microsoft.XMLHTTP")}h.onreadystatechange=function(){if(h.readyState===4){if(h.status===200){if(b){if(!c.utils.exists(h.responseXML)){try{if(window.DOMParser){var f=(new DOMParser()).parseFromString(h.responseText,"text/xml");if(f){h=c.utils.extend({},h,{responseXML:f})}}else{f=new ActiveXObject("Microsoft.XMLDOM");f.async="false";f.loadXML(h.responseText);h=c.utils.extend({},h,{responseXML:f})}}catch(e){if(k){k(a)}}}b(h)}}else{if(k){k(a)}}}};try{h.open("GET",a,true);h.send(null)}catch(j){if(k){k(a)}}return h};c.utils.load=function(b,a,f){b.onreadystatechange=function(){if(b.readyState===4){if(b.status===200){if(a){a()}}else{if(f){f()}}}}};c.utils.find=function(a,b){return a.getElementsByTagName(b)};c.utils.append=function(b,a){b.appendChild(a)};c.utils.isIE=function(){return((!+"\v1")||(typeof window.ActiveXObject!="undefined"))};c.utils.userAgentMatch=function(a){var b=navigator.userAgent.toLowerCase();return(b.match(a)!==null)};c.utils.isIOS=function(){return c.utils.userAgentMatch(/iP(hone|ad|od)/i)};c.utils.isIPad=function(){return c.utils.userAgentMatch(/iPad/i)};c.utils.isIPod=function(){return c.utils.userAgentMatch(/iP(hone|od)/i)};c.utils.isAndroid=function(){return c.utils.userAgentMatch(/android/i)};c.utils.isLegacyAndroid=function(){return c.utils.userAgentMatch(/android 2.[012]/i)};c.utils.isBlackberry=function(){return c.utils.userAgentMatch(/blackberry/i)};c.utils.isMobile=function(){return c.utils.userAgentMatch(/(iP(hone|ad|od))|android/i)};c.utils.getFirstPlaylistItemFromConfig=function(f){var b={};var a;if(f.playlist&&f.playlist.length){a=f.playlist[0]}else{a=f}b.file=a.file;b.levels=a.levels;b.streamer=a.streamer;b.playlistfile=a.playlistfile;b.provider=a.provider;if(!b.provider){if(b.file&&(b.file.toLowerCase().indexOf("youtube.com")>-1||b.file.toLowerCase().indexOf("youtu.be")>-1)){b.provider="youtube"}if(b.streamer&&b.streamer.toLowerCase().indexOf("rtmp://")==0){b.provider="rtmp"}if(a.type){b.provider=a.type.toLowerCase()}}if(b.provider=="audio"){b.provider="sound"}return b};c.utils.getOuterHTML=function(b){if(b.outerHTML){return b.outerHTML}else{try{return new XMLSerializer().serializeToString(b)}catch(a){return""}}};c.utils.setOuterHTML=function(b,h){if(b.outerHTML){b.outerHTML=h}else{var a=document.createElement("div");a.innerHTML=h;var k=document.createRange();k.selectNodeContents(a);var j=k.extractContents();b.parentNode.insertBefore(j,b);b.parentNode.removeChild(b)}};c.utils.hasFlash=function(){if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]!="undefined"){return true}if(typeof window.ActiveXObject!="undefined"){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return true}catch(a){}}return false};c.utils.getPluginName=function(a){if(a.lastIndexOf("/")>=0){a=a.substring(a.lastIndexOf("/")+1,a.length)}if(a.lastIndexOf("-")>=0){a=a.substring(0,a.lastIndexOf("-"))}if(a.lastIndexOf(".swf")>=0){a=a.substring(0,a.lastIndexOf(".swf"))}if(a.lastIndexOf(".js")>=0){a=a.substring(0,a.lastIndexOf(".js"))}return a};c.utils.getPluginVersion=function(a){if(a.lastIndexOf("-")>=0){if(a.lastIndexOf(".js")>=0){return a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".js"))}else{if(a.lastIndexOf(".swf")>=0){return a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".swf"))}else{return a.substring(a.lastIndexOf("-")+1)}}}return""};c.utils.getAbsolutePath=function(b,l){if(!c.utils.exists(l)){l=document.location.href}if(!c.utils.exists(b)){return undefined}if(d(b)){return b}var a=l.substring(0,l.indexOf("://")+3);var m=l.substring(a.length,l.indexOf("/",a.length+1));var p;if(b.indexOf("/")===0){p=b.split("/")}else{var o=l.split("?")[0];o=o.substring(a.length+m.length+1,o.lastIndexOf("/"));p=o.split("/").concat(b.split("/"))}var q=[];for(var n=0;n<p.length;n++){if(!p[n]||!c.utils.exists(p[n])||p[n]=="."){continue}else{if(p[n]==".."){q.pop()}else{q.push(p[n])}}}return a+m+"/"+q.join("/")};function d(b){if(!c.utils.exists(b)){return}var a=b.indexOf("://");var f=b.indexOf("?");return(a>0&&(f<0||(f>a)))}c.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"};c.utils.getPluginPathType=function(g){if(typeof g!="string"){return}g=g.split("?")[0];var b=g.indexOf("://");if(b>0){return c.utils.pluginPathType.ABSOLUTE}var h=g.indexOf("/");var a=c.utils.extension(g);if(b<0&&h<0&&(!a||!isNaN(a))){return c.utils.pluginPathType.CDN}return c.utils.pluginPathType.RELATIVE};c.utils.mapEmpty=function(b){for(var a in b){return false}return true};c.utils.mapLength=function(b){var f=0;for(var a in b){f++}return f};c.utils.log=function(a,b){if(typeof console!="undefined"&&typeof console.log!="undefined"){if(b){console.log(a,b)}else{console.log(a)}}};c.utils.css=function(j,a,k){if(c.utils.exists(j)){for(var h in a){try{if(typeof a[h]==="undefined"){continue}else{if(typeof a[h]=="number"&&!(h=="zIndex"||h=="opacity")){if(isNaN(a[h])){continue}if(h.match(/color/i)){a[h]="#"+c.utils.strings.pad(a[h].toString(16),6)}else{a[h]=Math.ceil(a[h])+"px"}}}j.style[h]=a[h]}catch(b){}}}};c.utils.isYouTube=function(a){return(a.indexOf("youtube.com")>-1||a.indexOf("youtu.be")>-1)};c.utils.transform=function(k,l,m,b,a){if(!c.utils.exists(l)){l=1}if(!c.utils.exists(m)){m=1}if(!c.utils.exists(b)){b=0}if(!c.utils.exists(a)){a=0}if(l==1&&m==1&&b==0&&a==0){k.style.webkitTransform="";k.style.MozTransform="";k.style.OTransform=""}else{var j="scale("+l+","+m+") translate("+b+"px,"+a+"px)";k.style.webkitTransform=j;k.style.MozTransform=j;k.style.OTransform=j}};c.utils.stretch=function(v,a,b,y,s,x){if(typeof b=="undefined"||typeof y=="undefined"||typeof s=="undefined"||typeof x=="undefined"){return}var B=b/s;var z=y/x;var t=0;var u=0;var A=false;var C={};if(a.parentElement){a.parentElement.style.overflow="hidden"}c.utils.transform(a);switch(v.toUpperCase()){case c.utils.stretching.NONE:C.width=s;C.height=x;C.top=(y-C.height)/2;C.left=(b-C.width)/2;break;case c.utils.stretching.UNIFORM:if(B>z){C.width=s*z;C.height=x*z;if(C.width/b>0.95){A=true;B=Math.ceil(100*b/C.width)/100;z=1;C.width=b}}else{C.width=s*B;C.height=x*B;if(C.height/y>0.95){A=true;B=1;z=Math.ceil(100*y/C.height)/100;C.height=y}}C.top=(y-C.height)/2;C.left=(b-C.width)/2;break;case c.utils.stretching.FILL:if(B>z){C.width=s*B;C.height=x*B}else{C.width=s*z;C.height=x*z}C.top=(y-C.height)/2;C.left=(b-C.width)/2;break;case c.utils.stretching.EXACTFIT:C.width=s;C.height=x;var r=Math.round((s/2)*(1-1/B));var w=Math.round((x/2)*(1-1/z));A=true;C.top=C.left=0;break;default:break}if(A){c.utils.transform(a,B,z,r,w)}c.utils.css(a,C)};c.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"};c.utils.deepReplaceKeyName=function(a,o,q){switch(c.utils.typeOf(a)){case"array":for(var m=0;m<a.length;m++){a[m]=c.utils.deepReplaceKeyName(a[m],o,q)}break;case"object":for(var n in a){var b,l;if(o instanceof Array&&q instanceof Array){if(o.length!=q.length){continue}else{b=o;l=q}}else{b=[o];l=[q]}var p=n;for(var m=0;m<b.length;m++){p=p.replace(new RegExp(o[m],"g"),q[m])}a[p]=c.utils.deepReplaceKeyName(a[n],o,q);if(n!=p){delete a[n]}}break}return a};c.utils.isInArray=function(a,b){if(!(a)||!(a instanceof Array)){return false}for(var f=0;f<a.length;f++){if(b===a[f]){return true}}return false};c.utils.exists=function(a){switch(typeof(a)){case"string":return(a.length>0);break;case"object":return(a!==null);case"undefined":return false}return true};c.utils.empty=function(a){if(typeof a.hasChildNodes=="function"){while(a.hasChildNodes()){a.removeChild(a.firstChild)}}};c.utils.parseDimension=function(a){if(typeof a=="string"){if(a===""){return 0}else{if(a.lastIndexOf("%")>-1){return a}else{return parseInt(a.replace("px",""),10)}}}return a};c.utils.getDimensions=function(a){if(a&&a.style){return{x:c.utils.parseDimension(a.style.left),y:c.utils.parseDimension(a.style.top),width:c.utils.parseDimension(a.style.width),height:c.utils.parseDimension(a.style.height)}}else{return{}}};c.utils.getElementWidth=function(a){if(!a){return null}else{if(a==document.body){return c.utils.parentNode(a).clientWidth}else{if(a.clientWidth>0){return a.clientWidth}else{if(a.style){return c.utils.parseDimension(a.style.width)}else{return null}}}}};c.utils.getElementHeight=function(a){if(!a){return null}else{if(a==document.body){return c.utils.parentNode(a).clientHeight}else{if(a.clientHeight>0){return a.clientHeight}else{if(a.style){return c.utils.parseDimension(a.style.height)}else{return null}}}}};c.utils.timeFormat=function(a){str="00:00";if(a>0){str=Math.floor(a/60)<10?"0"+Math.floor(a/60)+":":Math.floor(a/60)+":";str+=Math.floor(a%60)<10?"0"+Math.floor(a%60):Math.floor(a%60)}return str};c.utils.useNativeFullscreen=function(){return(navigator&&navigator.vendor&&navigator.vendor.indexOf("Apple")==0)};c.utils.parentNode=function(a){if(!a){return docuemnt.body}else{if(a.parentNode){return a.parentNode}else{if(a.parentElement){return a.parentElement}else{return a}}}};c.utils.getBoundingClientRect=function(a){if(typeof a.getBoundingClientRect=="function"){return a.getBoundingClientRect()}else{return{left:a.offsetLeft+document.body.scrollLeft,top:a.offsetTop+document.body.scrollTop,width:a.offsetWidth,height:a.offsetHeight}}};c.utils.translateEventResponse=function(h,k){var a=c.utils.extend({},k);if(h==c.api.events.JWPLAYER_FULLSCREEN&&!a.fullscreen){a.fullscreen=a.message=="true"?true:false;delete a.message}else{if(typeof a.data=="object"){a=c.utils.extend(a,a.data);delete a.data}else{if(typeof a.metadata=="object"){c.utils.deepReplaceKeyName(a.metadata,["__dot__","__spc__","__dsh__"],["."," ","-"])}}}var j=["position","duration","offset"];for(var b in j){if(a[j[b]]){a[j[b]]=Math.round(a[j[b]]*1000)/1000}}return a};c.utils.saveCookie=function(b,a){document.cookie="jwplayer."+b+"="+a+"; path=/"};c.utils.getCookies=function(){var a={};var b=document.cookie.split("; ");for(var g=0;g<b.length;g++){var h=b[g].split("=");if(h[0].indexOf("jwplayer.")==0){a[h[0].substring(9,h[0].length)]=h[1]}}return a};c.utils.readCookie=function(a){return c.utils.getCookies()[a]}})(jwplayer);(function(b){b.events=function(){};b.events.COMPLETE="COMPLETE";b.events.ERROR="ERROR"})(jwplayer);(function(jwplayer){jwplayer.events.eventdispatcher=function(debug){var _debug=debug;var _listeners;var _globallisteners;this.resetEventListeners=function(){_listeners={};_globallisteners=[]};this.resetEventListeners();this.addEventListener=function(type,listener,count){try{if(!jwplayer.utils.exists(_listeners[type])){_listeners[type]=[]}if(typeof(listener)=="string"){eval("listener = "+listener)}_listeners[type].push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return false};this.removeEventListener=function(type,listener){if(!_listeners[type]){return}try{for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){if(_listeners[type][listenerIndex].listener.toString()==listener.toString()){_listeners[type].splice(listenerIndex,1);break}}}catch(err){jwplayer.utils.log("error",err)}return false};this.addGlobalListener=function(listener,count){try{if(typeof(listener)=="string"){eval("listener = "+listener)}_globallisteners.push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return false};this.removeGlobalListener=function(listener){if(!listener){return}try{for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){if(_globallisteners[globalListenerIndex].listener.toString()==listener.toString()){_globallisteners.splice(globalListenerIndex,1);break}}}catch(err){jwplayer.utils.log("error",err)}return false};this.sendEvent=function(type,data){if(!jwplayer.utils.exists(data)){data={}}if(_debug){jwplayer.utils.log(type,data)}if(typeof _listeners[type]!="undefined"){for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){try{_listeners[type][listenerIndex].listener(data)}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_listeners[type][listenerIndex].listener)}if(_listeners[type][listenerIndex]){if(_listeners[type][listenerIndex].count===1){delete _listeners[type][listenerIndex]}else{if(_listeners[type][listenerIndex].count>0){_listeners[type][listenerIndex].count=_listeners[type][listenerIndex].count-1}}}}}for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){try{_globallisteners[globalListenerIndex].listener(data)}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_globallisteners[globalListenerIndex].listener)}if(_globallisteners[globalListenerIndex]){if(_globallisteners[globalListenerIndex].count===1){delete _globallisteners[globalListenerIndex]}else{if(_globallisteners[globalListenerIndex].count>0){_globallisteners[globalListenerIndex].count=_globallisteners[globalListenerIndex].count-1}}}}}}})(jwplayer);(function(d){var c={};d.utils.animations=function(){};d.utils.animations.transform=function(b,a){b.style.webkitTransform=a;b.style.MozTransform=a;b.style.OTransform=a;b.style.msTransform=a};d.utils.animations.transformOrigin=function(b,a){b.style.webkitTransformOrigin=a;b.style.MozTransformOrigin=a;b.style.OTransformOrigin=a;b.style.msTransformOrigin=a};d.utils.animations.rotate=function(b,a){d.utils.animations.transform(b,["rotate(",a,"deg)"].join(""))};d.utils.cancelAnimation=function(a){delete c[a.id]};d.utils.fadeTo=function(a,r,s,o,p,t){if(c[a.id]!=t&&d.utils.exists(t)){return}if(a.style.opacity==r){return}var u=new Date().getTime();if(t>u){setTimeout(function(){d.utils.fadeTo(a,r,s,o,0,t)},t-u)}if(a.style.display=="none"){a.style.display="block"}if(!d.utils.exists(o)){o=a.style.opacity===""?1:a.style.opacity}if(a.style.opacity==r&&a.style.opacity!==""&&d.utils.exists(t)){if(r===0){a.style.display="none"}return}if(!d.utils.exists(t)){t=u;c[a.id]=t}if(!d.utils.exists(p)){p=0}var n=(s>0)?((u-t)/(s*1000)):0;n=n>1?1:n;var b=r-o;var q=o+(n*b);if(q>1){q=1}else{if(q<0){q=0}}a.style.opacity=q;if(p>0){c[a.id]=t+p*1000;d.utils.fadeTo(a,r,s,o,0,c[a.id]);return}setTimeout(function(){d.utils.fadeTo(a,r,s,o,0,t)},10)}})(jwplayer);(function(b){b.utils.arrays=function(){};b.utils.arrays.indexOf=function(f,e){for(var a=0;a<f.length;a++){if(f[a]==e){return a}}return-1};b.utils.arrays.remove=function(f,e){var a=b.utils.arrays.indexOf(f,e);if(a>-1){f.splice(a,1)}}})(jwplayer);(function(b){b.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},oga:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}}})(jwplayer);(function(o){o.utils.mediaparser=function(){};var m={element:{width:"width",height:"height",id:"id","class":"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-jw-width":"width","data-jw-bitrate":"bitrate"},video:{poster:"image"}};var n={};o.utils.mediaparser.parseMedia=function(a){return p(a)};function q(a,b){if(!o.utils.exists(b)){b=m[a]}else{o.utils.extend(b,m[a])}return b}function p(f,d){if(n[f.tagName.toLowerCase()]&&!o.utils.exists(d)){return n[f.tagName.toLowerCase()](f)}else{d=q("element",d);var e={};for(var c in d){if(c!="length"){var a=f.getAttribute(c);if(o.utils.exists(a)){e[d[c]]=a}}}var b=f.style["#background-color"];if(b&&!(b=="transparent"||b=="rgba(0, 0, 0, 0)")){e.screencolor=b}return e}}function l(f,c){c=q("media",c);var b=[];var d=o.utils.selectors("source",f);for(var a in d){if(!isNaN(a)){b.push(k(d[a]))}}var e=p(f,c);if(o.utils.exists(e.file)){b[0]={file:e.file}}e.levels=b;return e}function k(a,b){b=q("source",b);var c=p(a,b);c.width=c.width?c.width:0;c.bitrate=c.bitrate?c.bitrate:0;return c}function j(a,b){b=q("video",b);var c=l(a,b);return c}n.media=l;n.audio=l;n.source=k;n.video=j})(jwplayer);(function(b){b.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"};b.utils.scriptloader=function(f){var e=b.utils.loaderstatus.NEW;var a=new b.events.eventdispatcher();b.utils.extend(this,a);this.load=function(){if(e==b.utils.loaderstatus.NEW){e=b.utils.loaderstatus.LOADING;var c=document.createElement("script");c.onload=function(d){e=b.utils.loaderstatus.COMPLETE;a.sendEvent(b.events.COMPLETE)};c.onerror=function(d){e=b.utils.loaderstatus.ERROR;a.sendEvent(b.events.ERROR)};c.onreadystatechange=function(){if(c.readyState=="loaded"||c.readyState=="complete"){e=b.utils.loaderstatus.COMPLETE;a.sendEvent(b.events.COMPLETE)}};document.getElementsByTagName("head")[0].appendChild(c);c.src=f}};this.getStatus=function(){return e}}})(jwplayer);(function(b){b.utils.selectors=function(a,f){if(!b.utils.exists(f)){f=document}a=b.utils.strings.trim(a);var h=a.charAt(0);if(h=="#"){return f.getElementById(a.substr(1))}else{if(h=="."){if(f.getElementsByClassName){return f.getElementsByClassName(a.substr(1))}else{return b.utils.selectors.getElementsByTagAndClass("*",a.substr(1))}}else{if(a.indexOf(".")>0){var g=a.split(".");return b.utils.selectors.getElementsByTagAndClass(g[0],g[1])}else{return f.getElementsByTagName(a)}}}return null};b.utils.selectors.getElementsByTagAndClass=function(o,l,m){var k=[];if(!b.utils.exists(m)){m=document}var n=m.getElementsByTagName(o);for(var p=0;p<n.length;p++){if(b.utils.exists(n[p].className)){var q=n[p].className.split(" ");for(var a=0;a<q.length;a++){if(q[a]==l){k.push(n[p])}}}}return k}})(jwplayer);(function(b){b.utils.strings=function(){};b.utils.strings.trim=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")};b.utils.strings.pad=function(f,e,a){if(!a){a="0"}while(f.length<e){f=a+f}return f};b.utils.strings.serialize=function(a){if(a==null){return null}else{if(a=="true"){return true}else{if(a=="false"){return false}else{if(isNaN(Number(a))||a.length>5||a.length==0){return a}else{return Number(a)}}}}};b.utils.strings.seconds=function(e){e=e.replace(",",".");var a=e.split(":");var f=0;if(e.substr(-1)=="s"){f=Number(e.substr(0,e.length-1))}else{if(e.substr(-1)=="m"){f=Number(e.substr(0,e.length-1))*60}else{if(e.substr(-1)=="h"){f=Number(e.substr(0,e.length-1))*3600}else{if(a.length>1){f=Number(a[a.length-1]);f+=Number(a[a.length-2])*60;if(a.length==3){f+=Number(a[a.length-3])*3600}}else{f=Number(e)}}}}return f};b.utils.strings.xmlAttribute=function(a,f){for(var e=0;e<a.attributes.length;e++){if(a.attributes[e].name&&a.attributes[e].name.toLowerCase()==f.toLowerCase()){return a.attributes[e].value.toString()}}return""};b.utils.strings.jsonToString=function(l){var j=j||{};if(j&&j.stringify){return j.stringify(l)}var o=typeof(l);if(o!="object"||l===null){if(o=="string"){l='"'+l.replace(/"/g,'\\"')+'"'}else{return String(l)}}else{var k=[],a=(l&&l.constructor==Array);for(var n in l){var m=l[n];switch(typeof(m)){case"string":m='"'+m.replace(/"/g,'\\"')+'"';break;case"object":if(b.utils.exists(m)){m=b.utils.strings.jsonToString(m)}break}if(a){if(typeof(m)!="function"){k.push(String(m))}}else{if(typeof(m)!="function"){k.push('"'+n+'":'+String(m))}}}if(a){return"["+String(k)+"]"}else{return"{"+String(k)+"}"}}}})(jwplayer);(function(k){var j=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);k.utils.typechecker=function(a,b){b=!k.utils.exists(b)?f(a):b;return h(a,b)};function f(b){var a=["true","false","t","f"];if(a.toString().indexOf(b.toLowerCase().replace(" ",""))>=0){return"boolean"}else{if(j.test(b)){return"color"}else{if(!isNaN(parseInt(b,10))&&parseInt(b,10).toString().length==b.length){return"integer"}else{if(!isNaN(parseFloat(b))&&parseFloat(b).toString().length==b.length){return"float"}}}}return"string"}function h(a,b){if(!k.utils.exists(b)){return a}switch(b){case"color":if(a.length>0){return g(a)}return null;case"integer":return parseInt(a,10);case"float":return parseFloat(a);case"boolean":if(a.toLowerCase()=="true"){return true}else{if(a=="1"){return true}}return false}return a}function g(a){switch(a.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("000000",16);case"white":return parseInt("FFFFFF",16);default:a=a.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2");if(a.length==3){a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)}return parseInt(a,16)}return parseInt("000000",16)}})(jwplayer);(function(b){b.utils.parsers=function(){};b.utils.parsers.localName=function(a){if(!a){return""}else{if(a.localName){return a.localName}else{if(a.baseName){return a.baseName}else{return""}}}};b.utils.parsers.textContent=function(a){if(!a){return""}else{if(a.textContent){return a.textContent}else{if(a.text){return a.text}else{return""}}}}})(jwplayer);(function(b){b.utils.parsers.jwparser=function(){};b.utils.parsers.jwparser.PREFIX="jwplayer";b.utils.parsers.jwparser.parseEntry=function(f,e){for(var a=0;a<f.childNodes.length;a++){if(f.childNodes[a].prefix==b.utils.parsers.jwparser.PREFIX){e[b.utils.parsers.localName(f.childNodes[a])]=b.utils.strings.serialize(b.utils.parsers.textContent(f.childNodes[a]));if(b.utils.parsers.localName(f.childNodes[a])=="file"&&e.levels){delete e.levels}}if(!e.file&&String(e.link).toLowerCase().indexOf("youtube")>-1){e.file=e.link}}return e};b.utils.parsers.jwparser.getProvider=function(d){if(d.type){return d.type}else{if(d.file.indexOf("youtube.com/w")>-1||d.file.indexOf("youtube.com/v")>-1||d.file.indexOf("youtu.be/")>-1){return"youtube"}else{if(d.streamer&&d.streamer.indexOf("rtmp")==0){return"rtmp"}else{if(d.streamer&&d.streamer.indexOf("http")==0){return"http"}else{var a=b.utils.strings.extension(d.file);if(extensions.hasOwnProperty(a)){return extensions[a]}}}}}return""}})(jwplayer);(function(b){b.utils.parsers.mediaparser=function(){};b.utils.parsers.mediaparser.PREFIX="media";b.utils.parsers.mediaparser.parseGroup=function(j,g){var h=false;for(var k=0;k<j.childNodes.length;k++){if(j.childNodes[k].prefix==b.utils.parsers.mediaparser.PREFIX){if(!b.utils.parsers.localName(j.childNodes[k])){continue}switch(b.utils.parsers.localName(j.childNodes[k]).toLowerCase()){case"content":if(!h){g.file=b.utils.strings.xmlAttribute(j.childNodes[k],"url")}if(b.utils.strings.xmlAttribute(j.childNodes[k],"duration")){g.duration=b.utils.strings.seconds(b.utils.strings.xmlAttribute(j.childNodes[k],"duration"))}if(b.utils.strings.xmlAttribute(j.childNodes[k],"start")){g.start=b.utils.strings.seconds(b.utils.strings.xmlAttribute(j.childNodes[k],"start"))}if(j.childNodes[k].childNodes&&j.childNodes[k].childNodes.length>0){g=b.utils.parsers.mediaparser.parseGroup(j.childNodes[k],g)}if(b.utils.strings.xmlAttribute(j.childNodes[k],"width")||b.utils.strings.xmlAttribute(j.childNodes[k],"bitrate")||b.utils.strings.xmlAttribute(j.childNodes[k],"url")){if(!g.levels){g.levels=[]}g.levels.push({width:b.utils.strings.xmlAttribute(j.childNodes[k],"width"),bitrate:b.utils.strings.xmlAttribute(j.childNodes[k],"bitrate"),file:b.utils.strings.xmlAttribute(j.childNodes[k],"url")})}break;case"title":g.title=b.utils.parsers.textContent(j.childNodes[k]);break;case"description":g.description=b.utils.parsers.textContent(j.childNodes[k]);break;case"keywords":g.tags=b.utils.parsers.textContent(j.childNodes[k]);break;case"thumbnail":g.image=b.utils.strings.xmlAttribute(j.childNodes[k],"url");break;case"credit":g.author=b.utils.parsers.textContent(j.childNodes[k]);break;case"player":var a=j.childNodes[k].url;if(a.indexOf("youtube.com")>=0||a.indexOf("youtu.be")>=0){h=true;g.file=b.utils.strings.xmlAttribute(j.childNodes[k],"url")}break;case"group":b.utils.parsers.mediaparser.parseGroup(j.childNodes[k],g);break}}}return g}})(jwplayer);(function(c){c.utils.parsers.rssparser=function(){};c.utils.parsers.rssparser.parse=function(a){var h=[];for(var b=0;b<a.childNodes.length;b++){if(c.utils.parsers.localName(a.childNodes[b]).toLowerCase()=="channel"){for(var g=0;g<a.childNodes[b].childNodes.length;g++){if(c.utils.parsers.localName(a.childNodes[b].childNodes[g]).toLowerCase()=="item"){h.push(d(a.childNodes[b].childNodes[g]))}}}}return h};function d(b){var a={};for(var f=0;f<b.childNodes.length;f++){if(!c.utils.parsers.localName(b.childNodes[f])){continue}switch(c.utils.parsers.localName(b.childNodes[f]).toLowerCase()){case"enclosure":a.file=c.utils.strings.xmlAttribute(b.childNodes[f],"url");break;case"title":a.title=c.utils.parsers.textContent(b.childNodes[f]);break;case"pubdate":a.date=c.utils.parsers.textContent(b.childNodes[f]);break;case"description":a.description=c.utils.parsers.textContent(b.childNodes[f]);break;case"link":a.link=c.utils.parsers.textContent(b.childNodes[f]);break;case"category":if(a.tags){a.tags+=c.utils.parsers.textContent(b.childNodes[f])}else{a.tags=c.utils.parsers.textContent(b.childNodes[f])}break}}a=c.utils.parsers.mediaparser.parseGroup(b,a);a=c.utils.parsers.jwparser.parseEntry(b,a);return new c.html5.playlistitem(a)}})(jwplayer);(function(e){var f={};var d={};e.plugins=function(){};e.plugins.loadPlugins=function(a,b){d[a]=new e.plugins.pluginloader(new e.plugins.model(f),b);return d[a]};e.plugins.registerPlugin=function(a,c,j){var k=e.utils.getPluginName(a);if(f[k]){f[k].registerPlugin(a,c,j)}else{e.utils.log("A plugin ("+a+") was registered with the player that was not loaded. Please check your configuration.");for(var b in d){d[b].pluginFailed()}}}})(jwplayer);(function(b){b.plugins.model=function(a){this.addPlugin=function(f){var e=b.utils.getPluginName(f);if(!a[e]){a[e]=new b.plugins.plugin(f)}return a[e]}}})(jwplayer);(function(b){b.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"};b.plugins.plugin=function(u){var s="http://lp.longtailvideo.com";var n=b.utils.loaderstatus.NEW;var m;var o;var a;var t=new b.events.eventdispatcher();b.utils.extend(this,t);function r(){switch(b.utils.getPluginPathType(u)){case b.utils.pluginPathType.ABSOLUTE:return u;case b.utils.pluginPathType.RELATIVE:return b.utils.getAbsolutePath(u,window.location.href);case b.utils.pluginPathType.CDN:var d=b.utils.getPluginName(u);var e=b.utils.getPluginVersion(u);var c=(window.location.href.indexOf("https://")==0)?s.replace("http://","https://secure"):s;return c+"/"+b.version.split(".")[0]+"/"+d+"/"+d+(e!==""?("-"+e):"")+".js"}}function p(c){a=setTimeout(function(){n=b.utils.loaderstatus.COMPLETE;t.sendEvent(b.events.COMPLETE)},1000)}function q(c){n=b.utils.loaderstatus.ERROR;t.sendEvent(b.events.ERROR)}this.load=function(){if(n==b.utils.loaderstatus.NEW){if(u.lastIndexOf(".swf")>0){m=u;n=b.utils.loaderstatus.COMPLETE;t.sendEvent(b.events.COMPLETE);return}n=b.utils.loaderstatus.LOADING;var c=new b.utils.scriptloader(r());c.addEventListener(b.events.COMPLETE,p);c.addEventListener(b.events.ERROR,q);c.load()}};this.registerPlugin=function(d,e,c){if(a){clearTimeout(a);a=undefined}if(e&&c){m=c;o=e}else{if(typeof e=="string"){m=e}else{if(typeof e=="function"){o=e}else{if(!e&&!c){m=d}}}}n=b.utils.loaderstatus.COMPLETE;t.sendEvent(b.events.COMPLETE)};this.getStatus=function(){return n};this.getPluginName=function(){return b.utils.getPluginName(u)};this.getFlashPath=function(){if(m){switch(b.utils.getPluginPathType(m)){case b.utils.pluginPathType.ABSOLUTE:return m;case b.utils.pluginPathType.RELATIVE:if(u.lastIndexOf(".swf")>0){return b.utils.getAbsolutePath(m,window.location.href)}return b.utils.getAbsolutePath(m,r());case b.utils.pluginPathType.CDN:if(m.indexOf("-")>-1){return m+"h"}return m+"-h"}}return null};this.getJS=function(){return o};this.getPluginmode=function(){if(typeof m!="undefined"&&typeof o!="undefined"){return b.plugins.pluginmodes.HYBRID}else{if(typeof m!="undefined"){return b.plugins.pluginmodes.FLASH}else{if(typeof o!="undefined"){return b.plugins.pluginmodes.JAVASCRIPT}}}};this.getNewInstance=function(e,c,d){return new o(e,c,d)};this.getURL=function(){return u}}})(jwplayer);(function(b){b.plugins.pluginloader=function(m,p){var n={};var a=b.utils.loaderstatus.NEW;var q=false;var s=false;var r=new b.events.eventdispatcher();b.utils.extend(this,r);function o(){if(!s){s=true;a=b.utils.loaderstatus.COMPLETE;r.sendEvent(b.events.COMPLETE)}}function l(){if(!s){var c=0;for(plugin in n){var d=n[plugin].getStatus();if(d==b.utils.loaderstatus.LOADING||d==b.utils.loaderstatus.NEW){c++}}if(c==0){o()}}}this.setupPlugins=function(k,d,e){var c={length:0,plugins:{}};var h={length:0,plugins:{}};for(var j in n){var g=n[j].getPluginName();if(n[j].getFlashPath()){c.plugins[n[j].getFlashPath()]=d.plugins[j];c.plugins[n[j].getFlashPath()].pluginmode=n[j].getPluginmode();c.length++}if(n[j].getJS()){var f=document.createElement("div");f.id=k.id+"_"+g;f.style.position="absolute";f.style.zIndex=h.length+10;h.plugins[g]=n[j].getNewInstance(k,d.plugins[j],f);h.length++;if(typeof h.plugins[g].resize!="undefined"){k.onReady(e(h.plugins[g],f,true));k.onResize(e(h.plugins[g],f))}}}k.plugins=h.plugins;return c};this.load=function(){a=b.utils.loaderstatus.LOADING;q=true;for(var c in p){if(b.utils.exists(c)){n[c]=m.addPlugin(c);n[c].addEventListener(b.events.COMPLETE,l);n[c].addEventListener(b.events.ERROR,l)}}for(c in n){n[c].load()}q=false;l()};this.pluginFailed=function(){o()};this.getStatus=function(){return a}}})(jwplayer);(function(c){var d=[];c.api=function(E){this.container=E;this.id=E.id;var w={};var G={};var t={};var F=[];var B=undefined;var y=false;var A=[];var b=undefined;var u=c.utils.getOuterHTML(E);var a={};var z={};this.getBuffer=function(){return this.callInternal("jwGetBuffer")};this.getContainer=function(){return this.container};function D(e,f){return function(k,j,h,g){if(e.renderingMode=="flash"||e.renderingMode=="html5"){var l;if(j){z[k]=j;l="jwplayer('"+e.id+"').callback('"+k+"')"}else{if(!j&&z[k]){delete z[k]}}B.jwDockSetButton(k,l,h,g)}return f}}this.getPlugin=function(g){var e=this;var f={};if(g=="dock"){return c.utils.extend(f,{setButton:D(e,f),show:function(){e.callInternal("jwDockShow");return f},hide:function(){e.callInternal("jwDockHide");return f},onShow:function(h){e.componentListener("dock",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f},onHide:function(h){e.componentListener("dock",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f}})}else{if(g=="controlbar"){return c.utils.extend(f,{show:function(){e.callInternal("jwControlbarShow");return f},hide:function(){e.callInternal("jwControlbarHide");return f},onShow:function(h){e.componentListener("controlbar",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f},onHide:function(h){e.componentListener("controlbar",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f}})}else{if(g=="display"){return c.utils.extend(f,{show:function(){e.callInternal("jwDisplayShow");return f},hide:function(){e.callInternal("jwDisplayHide");return f},onShow:function(h){e.componentListener("display",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f},onHide:function(h){e.componentListener("display",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f}})}else{return this.plugins[g]}}}};this.callback=function(e){if(z[e]){return z[e]()}};this.getDuration=function(){return this.callInternal("jwGetDuration")};this.getFullscreen=function(){return this.callInternal("jwGetFullscreen")};this.getHeight=function(){return this.callInternal("jwGetHeight")};this.getLockState=function(){return this.callInternal("jwGetLockState")};this.getMeta=function(){return this.getItemMeta()};this.getMute=function(){return this.callInternal("jwGetMute")};this.getPlaylist=function(){var e=this.callInternal("jwGetPlaylist");if(this.renderingMode=="flash"){c.utils.deepReplaceKeyName(e,["__dot__","__spc__","__dsh__"],["."," ","-"])}for(var f=0;f<e.length;f++){if(!c.utils.exists(e[f].index)){e[f].index=f}}return e};this.getPlaylistItem=function(e){if(!c.utils.exists(e)){e=this.getCurrentItem()}return this.getPlaylist()[e]};this.getPosition=function(){return this.callInternal("jwGetPosition")};this.getRenderingMode=function(){return this.renderingMode};this.getState=function(){return this.callInternal("jwGetState")};this.getVolume=function(){return this.callInternal("jwGetVolume")};this.getWidth=function(){return this.callInternal("jwGetWidth")};this.setFullscreen=function(e){if(!c.utils.exists(e)){this.callInternal("jwSetFullscreen",!this.callInternal("jwGetFullscreen"))}else{this.callInternal("jwSetFullscreen",e)}return this};this.setMute=function(e){if(!c.utils.exists(e)){this.callInternal("jwSetMute",!this.callInternal("jwGetMute"))}else{this.callInternal("jwSetMute",e)}return this};this.lock=function(){return this};this.unlock=function(){return this};this.load=function(e){this.callInternal("jwLoad",e);return this};this.playlistItem=function(e){this.callInternal("jwPlaylistItem",e);return this};this.playlistPrev=function(){this.callInternal("jwPlaylistPrev");return this};this.playlistNext=function(){this.callInternal("jwPlaylistNext");return this};this.resize=function(f,g){if(this.renderingMode=="html5"){B.jwResize(f,g)}else{this.container.width=f;this.container.height=g;var e=document.getElementById(this.id+"_wrapper");if(e){e.style.width=f+"px";e.style.height=g+"px"}}return this};this.play=function(e){if(typeof e=="undefined"){e=this.getState();if(e==c.api.events.state.PLAYING||e==c.api.events.state.BUFFERING){this.callInternal("jwPause")}else{this.callInternal("jwPlay")}}else{this.callInternal("jwPlay",e)}return this};this.pause=function(e){if(typeof e=="undefined"){e=this.getState();if(e==c.api.events.state.PLAYING||e==c.api.events.state.BUFFERING){this.callInternal("jwPause")}else{this.callInternal("jwPlay")}}else{this.callInternal("jwPause",e)}return this};this.stop=function(){this.callInternal("jwStop");return this};this.seek=function(e){this.callInternal("jwSeek",e);return this};this.setVolume=function(e){this.callInternal("jwSetVolume",e);return this};this.loadInstream=function(e,f){b=new c.api.instream(this,B,e,f);return b};this.onBufferChange=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BUFFER,e)};this.onBufferFull=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BUFFER_FULL,e)};this.onError=function(e){return this.eventListener(c.api.events.JWPLAYER_ERROR,e)};this.onFullscreen=function(e){return this.eventListener(c.api.events.JWPLAYER_FULLSCREEN,e)};this.onMeta=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_META,e)};this.onMute=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_MUTE,e)};this.onPlaylist=function(e){return this.eventListener(c.api.events.JWPLAYER_PLAYLIST_LOADED,e)};this.onPlaylistItem=function(e){return this.eventListener(c.api.events.JWPLAYER_PLAYLIST_ITEM,e)};this.onReady=function(e){return this.eventListener(c.api.events.API_READY,e)};this.onResize=function(e){return this.eventListener(c.api.events.JWPLAYER_RESIZE,e)};this.onComplete=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_COMPLETE,e)};this.onSeek=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_SEEK,e)};this.onTime=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_TIME,e)};this.onVolume=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_VOLUME,e)};this.onBeforePlay=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BEFOREPLAY,e)};this.onBeforeComplete=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE,e)};this.onBuffer=function(e){return this.stateListener(c.api.events.state.BUFFERING,e)};this.onPause=function(e){return this.stateListener(c.api.events.state.PAUSED,e)};this.onPlay=function(e){return this.stateListener(c.api.events.state.PLAYING,e)};this.onIdle=function(e){return this.stateListener(c.api.events.state.IDLE,e)};this.remove=function(){w={};A=[];if(c.utils.getOuterHTML(this.container)!=u){c.api.destroyPlayer(this.id,u)}};this.setup=function(f){if(c.embed){var g=this.id;this.remove();var e=c(g);e.config=f;return new c.embed(e)}return this};this.registerPlugin=function(e,f,g){c.plugins.registerPlugin(e,f,g)};this.setPlayer=function(f,e){B=f;this.renderingMode=e};this.stateListener=function(f,e){if(!G[f]){G[f]=[];this.eventListener(c.api.events.JWPLAYER_PLAYER_STATE,C(f))}G[f].push(e);return this};this.detachMedia=function(){if(this.renderingMode=="html5"){return this.callInternal("jwDetachMedia")}};this.attachMedia=function(){if(this.renderingMode=="html5"){return this.callInternal("jwAttachMedia")}};function C(e){return function(h){var j=h.newstate,f=h.oldstate;if(j==e){var g=G[j];if(g){for(var k=0;k<g.length;k++){if(typeof g[k]=="function"){g[k].call(this,{oldstate:f,newstate:j})}}}}}}this.componentListener=function(g,f,e){if(!t[g]){t[g]={}}if(!t[g][f]){t[g][f]=[];this.eventListener(f,x(g,f))}t[g][f].push(e);return this};function x(f,e){return function(h){if(f==h.component){var j=t[f][e];if(j){for(var g=0;g<j.length;g++){if(typeof j[g]=="function"){j[g].call(this,h)}}}}}}this.addInternalListener=function(f,e){f.jwAddEventListener(e,'function(dat) { jwplayer("'+this.id+'").dispatchEvent("'+e+'", dat); }')};this.eventListener=function(f,e){if(!w[f]){w[f]=[];if(B&&y){this.addInternalListener(B,f)}}w[f].push(e);return this};this.dispatchEvent=function(e){if(w[e]){var f=_utils.translateEventResponse(e,arguments[1]);for(var g=0;g<w[e].length;g++){if(typeof w[e][g]=="function"){w[e][g].call(this,f)}}}};this.dispatchInstreamEvent=function(e){if(b){b.dispatchEvent(e,arguments)}};this.callInternal=function(){if(y){var e=arguments[0],g=[];for(var f=1;f<arguments.length;f++){g.push(arguments[f])}if(typeof B!="undefined"&&typeof B[e]=="function"){if(g.length==2){return(B[e])(g[0],g[1])}else{if(g.length==1){return(B[e])(g[0])}else{return(B[e])()}}}return null}else{A.push(arguments)}};this.playerReady=function(e){y=true;if(!B){this.setPlayer(document.getElementById(e.id))}this.container=document.getElementById(this.id);for(var f in w){this.addInternalListener(B,f)}this.eventListener(c.api.events.JWPLAYER_PLAYLIST_ITEM,function(g){a={}});this.eventListener(c.api.events.JWPLAYER_MEDIA_META,function(g){c.utils.extend(a,g.metadata)});this.dispatchEvent(c.api.events.API_READY);while(A.length>0){this.callInternal.apply(this,A.shift())}};this.getItemMeta=function(){return a};this.getCurrentItem=function(){return this.callInternal("jwGetPlaylistIndex")};function v(g,e,f){var j=[];if(!e){e=0}if(!f){f=g.length-1}for(var h=e;h<=f;h++){j.push(g[h])}return j}return this};c.api.selectPlayer=function(b){var f;if(!c.utils.exists(b)){b=0}if(b.nodeType){f=b}else{if(typeof b=="string"){f=document.getElementById(b)}}if(f){var a=c.api.playerById(f.id);if(a){return a}else{return c.api.addPlayer(new c.api(f))}}else{if(typeof b=="number"){return c.getPlayers()[b]}}return null};c.api.events={API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed"};c.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"};c.api.playerById=function(a){for(var b=0;b<d.length;b++){if(d[b].id==a){return d[b]}}return null};c.api.addPlayer=function(b){for(var a=0;a<d.length;a++){if(d[a]==b){return b}}d.push(b);return b};c.api.destroyPlayer=function(k,n){var l=-1;for(var a=0;a<d.length;a++){if(d[a].id==k){l=a;continue}}if(l>=0){var o=document.getElementById(d[l].id);if(document.getElementById(d[l].id+"_wrapper")){o=document.getElementById(d[l].id+"_wrapper")}if(o){if(n){c.utils.setOuterHTML(o,n)}else{var b=document.createElement("div");var m=o.id;if(o.id.indexOf("_wrapper")==o.id.length-8){newID=o.id.substring(0,o.id.length-8)}b.setAttribute("id",m);o.parentNode.replaceChild(b,o)}}d.splice(l,1)}return null};c.getPlayers=function(){return d.slice(0)}})(jwplayer);var _userPlayerReady=(typeof playerReady=="function")?playerReady:undefined;playerReady=function(c){var d=jwplayer.api.playerById(c.id);if(d){d.playerReady(c)}else{jwplayer.api.selectPlayer(c.id).playerReady(c)}if(_userPlayerReady){_userPlayerReady.call(this,c)}};(function(b){b.api.instream=function(D,x,t,a){var y=D;var E=x;var z=t;var w=a;var B={};var r={};function A(){y.callInternal("jwLoadInstream",t,a)}function u(d,c){E.jwInstreamAddEventListener(c,'function(dat) { jwplayer("'+y.id+'").dispatchInstreamEvent("'+c+'", dat); }')}function C(d,c){if(!B[d]){B[d]=[];u(E,d)}B[d].push(c);return this}function s(d,c){if(!r[d]){r[d]=[];C(b.api.events.JWPLAYER_PLAYER_STATE,v(d))}r[d].push(c);return this}function v(c){return function(g){var h=g.newstate,e=g.oldstate;if(h==c){var f=r[h];if(f){for(var d=0;d<f.length;d++){if(typeof f[d]=="function"){f[d].call(this,{oldstate:e,newstate:h,type:g.type})}}}}}}this.dispatchEvent=function(c,d){if(B[c]){var e=_utils.translateEventResponse(c,d[1]);for(var f=0;f<B[c].length;f++){if(typeof B[c][f]=="function"){B[c][f].call(this,e)}}}};this.onError=function(c){return C(b.api.events.JWPLAYER_ERROR,c)};this.onFullscreen=function(c){return C(b.api.events.JWPLAYER_FULLSCREEN,c)};this.onMeta=function(c){return C(b.api.events.JWPLAYER_MEDIA_META,c)};this.onMute=function(c){return C(b.api.events.JWPLAYER_MEDIA_MUTE,c)};this.onComplete=function(c){return C(b.api.events.JWPLAYER_MEDIA_COMPLETE,c)};this.onSeek=function(c){return C(b.api.events.JWPLAYER_MEDIA_SEEK,c)};this.onTime=function(c){return C(b.api.events.JWPLAYER_MEDIA_TIME,c)};this.onVolume=function(c){return C(b.api.events.JWPLAYER_MEDIA_VOLUME,c)};this.onBuffer=function(c){return s(b.api.events.state.BUFFERING,c)};this.onPause=function(c){return s(b.api.events.state.PAUSED,c)};this.onPlay=function(c){return s(b.api.events.state.PLAYING,c)};this.onIdle=function(c){return s(b.api.events.state.IDLE,c)};this.onInstreamClick=function(c){return C(b.api.events.JWPLAYER_INSTREAM_CLICK,c)};this.onInstreamDestroyed=function(c){return C(b.api.events.JWPLAYER_INSTREAM_DESTROYED,c)};this.play=function(c){E.jwInstreamPlay(c)};this.pause=function(c){E.jwInstreamPause(c)};this.seek=function(c){E.jwInstreamSeek(c)};this.destroy=function(){E.jwInstreamDestroy()};this.getState=function(){return E.jwInstreamGetState()};this.getDuration=function(){return E.jwInstreamGetDuration()};this.getPosition=function(){return E.jwInstreamGetPosition()};A()}})(jwplayer);(function(e){var f=e.utils;e.embed=function(c){var a={width:400,height:300,components:{controlbar:{position:"over"}}};var l=f.mediaparser.parseMedia(c.container);var m=new e.embed.config(f.extend(a,l,c.config),this);var b=e.plugins.loadPlugins(c.id,m.plugins);function o(j,g){for(var h in g){if(typeof j[h]=="function"){(j[h]).call(j,g[h])}}}function n(){if(b.getStatus()==f.loaderstatus.COMPLETE){for(var u=0;u<m.modes.length;u++){if(m.modes[u].type&&e.embed[m.modes[u].type]){var j=m.modes[u].config;var x=m;if(j){x=f.extend(f.clone(m),j);var y=["file","levels","playlist"];for(var v=0;v<y.length;v++){var h=y[v];if(f.exists(j[h])){for(var w=0;w<y.length;w++){if(w!=v){var k=y[w];if(f.exists(x[k])&&!f.exists(j[k])){delete x[k]}}}}}}var g=new e.embed[m.modes[u].type](document.getElementById(c.id),m.modes[u],x,b,c);if(g.supportsConfig()){g.embed();o(c,m.events);return c}}}f.log("No suitable players found");new e.embed.logo(f.extend({hide:true},m.components.logo),"none",c.id)}}b.addEventListener(e.events.COMPLETE,n);b.addEventListener(e.events.ERROR,n);b.load();return c};function d(){if(!document.body){return setTimeout(d,15)}var c=f.selectors.getElementsByTagAndClass("video","jwplayer");for(var b=0;b<c.length;b++){var a=c[b];if(a.id==""){a.id="jwplayer_"+Math.round(Math.random()*100000)}e(a.id).setup({})}}d()})(jwplayer);(function(q){var l=q.utils;function n(a){var b=[{type:"flash",src:a?a:"/jwplayer/player.swf"},{type:"html5"},{type:"download"}];if(l.isAndroid()){b[0]=b.splice(1,1,b[0])[0]}return b}var u={players:"modes",autoplay:"autostart"};function t(c){var d=c.toLowerCase();var a=["left","right","top","bottom"];for(var b=0;b<a.length;b++){if(d==a[b]){return true}}return false}function s(a){var b=false;b=(a instanceof Array)||(typeof a=="object"&&!a.position&&!a.size);return b}function m(a){if(typeof a=="string"){if(parseInt(a).toString()==a||a.toLowerCase().indexOf("px")>-1){return parseInt(a)}}return a}var o=["playlist","dock","controlbar","logo","display"];function p(b){var d={};switch(l.typeOf(b.plugins)){case"object":for(var e in b.plugins){d[l.getPluginName(e)]=e}break;case"string":var c=b.plugins.split(",");for(var a=0;a<c.length;a++){d[l.getPluginName(c[a])]=c[a]}break}return d}function r(d,e,f,b){if(l.typeOf(d[e])!="object"){d[e]={}}var a=d[e][f];if(l.typeOf(a)!="object"){d[e][f]=a={}}if(b){if(e=="plugins"){var c=l.getPluginName(f);a[b]=d[c+"."+b];delete d[c+"."+b]}else{a[b]=d[f+"."+b];delete d[f+"."+b]}}}q.embed.deserialize=function(a){var f=p(a);for(var b in f){r(a,"plugins",f[b])}for(var c in a){if(c.indexOf(".")>-1){var d=c.split(".");var e=d[0];var c=d[1];if(l.isInArray(o,e)){r(a,"components",e,c)}else{if(f[e]){r(a,"plugins",f[e],c)}}}}return a};q.embed.config=function(g,h){var j=l.extend({},g);var w;if(s(j.playlist)){w=j.playlist;delete j.playlist}j=q.embed.deserialize(j);j.height=m(j.height);j.width=m(j.width);if(typeof j.plugins=="string"){var f=j.plugins.split(",");if(typeof j.plugins!="object"){j.plugins={}}for(var b=0;b<f.length;b++){var a=l.getPluginName(f[b]);if(typeof j[a]=="object"){j.plugins[f[b]]=j[a];delete j[a]}else{j.plugins[f[b]]={}}}}for(var k=0;k<o.length;k++){var c=o[k];if(l.exists(j[c])){if(typeof j[c]!="object"){if(!j.components[c]){j.components[c]={}}if(c=="logo"){j.components[c].file=j[c]}else{j.components[c].position=j[c]}delete j[c]}else{if(!j.components[c]){j.components[c]={}}l.extend(j.components[c],j[c]);delete j[c]}}if(typeof j[c+"size"]!="undefined"){if(!j.components[c]){j.components[c]={}}j.components[c].size=j[c+"size"];delete j[c+"size"]}}if(typeof j.icons!="undefined"){if(!j.components.display){j.components.display={}}j.components.display.icons=j.icons;delete j.icons}for(var d in u){if(j[d]){if(!j[u[d]]){j[u[d]]=j[d]}delete j[d]}}var e;if(j.flashplayer&&!j.modes){e=n(j.flashplayer);delete j.flashplayer}else{if(j.modes){if(typeof j.modes=="string"){e=n(j.modes)}else{if(j.modes instanceof Array){e=j.modes}else{if(typeof j.modes=="object"&&j.modes.type){e=[j.modes]}}}delete j.modes}else{e=n()}}j.modes=e;if(w){j.playlist=w}return j}})(jwplayer);(function(b){b.embed.download=function(m,h,a,l,j){this.embed=function(){var x=b.utils.extend({},a);var d={};var y=a.width?a.width:480;if(typeof y!="number"){y=parseInt(y,10)}var v=a.height?a.height:320;if(typeof v!="number"){v=parseInt(v,10)}var A,f,g;var C={};if(a.playlist&&a.playlist.length){C.file=a.playlist[0].file;f=a.playlist[0].image;C.levels=a.playlist[0].levels}else{C.file=a.file;f=a.image;C.levels=a.levels}if(C.file){A=C.file}else{if(C.levels&&C.levels.length){A=C.levels[0].file}}g=A?"pointer":"auto";var w={display:{style:{cursor:g,width:y,height:v,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:g,position:"absolute",display:A?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:g,position:"absolute",display:A?"block":"none",top:((v-50)/2),left:((y-50)/2),border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:y,height:v,display:f?"block":"none",position:"absolute",cursor:g,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}};var z=function(p,n,q){var o=document.createElement(p);if(q){o.id=q}else{o.id=m.id+"_jwplayer_"+n}b.utils.css(o,w[n].style);return o};d.display=z("a","display",m.id);if(A){d.display.setAttribute("href",b.utils.getAbsolutePath(A))}d.display_image=z("img","display_image");d.display_image.setAttribute("alt","Click to download...");if(f){d.display_image.setAttribute("src",b.utils.getAbsolutePath(f))}if(true){d.display_icon=z("div","display_icon");d.display_iconBackground=z("div","display_iconBackground");d.display.appendChild(d.display_image);d.display_iconBackground.appendChild(d.display_icon);d.display.appendChild(d.display_iconBackground)}_css=b.utils.css;_hide=function(n){_css(n,{display:"none"})};function c(n){_imageWidth=d.display_image.naturalWidth;_imageHeight=d.display_image.naturalHeight;B()}function B(){b.utils.stretch(b.utils.stretching.UNIFORM,d.display_image,y,v,_imageWidth,_imageHeight)}d.display_image.onerror=function(n){_hide(d.display_image)};d.display_image.onload=c;m.parentNode.replaceChild(d.display,m);var e=(a.plugins&&a.plugins.logo)?a.plugins.logo:{};d.display.appendChild(new b.embed.logo(a.components.logo,"download",m.id));j.container=document.getElementById(j.id);j.setPlayer(d.display,"download")};this.supportsConfig=function(){if(a){var c=b.utils.getFirstPlaylistItemFromConfig(a);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true}else{if(c.file){return k(c.file,c.provider,c.playlistfile)}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&k(c.levels[d].file,c.provider,c.playlistfile)){return true}}}}}}else{return true}};function k(f,d,g){if(g){return false}var e=["image","sound","youtube","http"];if(d&&(e.toString().indexOf(d)>-1)){return true}if(!d||(d&&d=="video")){var c=b.utils.extension(f);if(c&&b.utils.extensionmap[c]){return true}}return false}}})(jwplayer);(function(b){b.embed.flash=function(s,r,n,t,p){function a(e,f,d){var c=document.createElement("param");c.setAttribute("name",f);c.setAttribute("value",d);e.appendChild(c)}function o(d,c,e){return function(h){if(e){document.getElementById(p.id+"_wrapper").appendChild(c)}var f=document.getElementById(p.id).getPluginConfig("display");d.resize(f.width,f.height);var g={left:f.x,top:f.y};b.utils.css(c,g)}}function u(e){if(!e){return{}}var c={};for(var f in e){var g=e[f];for(var d in g){c[f+"."+d]=g[d]}}return c}function q(e,f){if(e[f]){var c=e[f];for(var g in c){var h=c[g];if(typeof h=="string"){if(!e[g]){e[g]=h}}else{for(var d in h){if(!e[g+"."+d]){e[g+"."+d]=h[d]}}}}delete e[f]}}function w(f){if(!f){return{}}var c={},d=[];for(var j in f){var g=b.utils.getPluginName(j);var h=f[j];d.push(j);for(var e in h){c[g+"."+e]=h[e]}}c.plugins=d.join(",");return c}function v(c){var e=c.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&";for(var d in c){if(typeof(c[d])=="object"){e+=d+"="+encodeURIComponent("[[JSON]]"+b.utils.strings.jsonToString(c[d]))+"&"}else{e+=d+"="+encodeURIComponent(c[d])+"&"}}return e.substring(0,e.length-1)}this.embed=function(){n.id=p.id;var g;var c=b.utils.extend({},n);var f=c.width;var k=c.height;if(s.id+"_wrapper"==s.parentNode.id){g=document.getElementById(s.id+"_wrapper")}else{g=document.createElement("div");g.id=s.id+"_wrapper";b.utils.wrap(s,g);b.utils.css(g,{position:"relative",width:f,height:k})}var e=t.setupPlugins(p,c,o);if(e.length>0){b.utils.extend(c,w(e.plugins))}else{delete c.plugins}var E=["height","width","modes","events"];for(var B=0;B<E.length;B++){delete c[E[B]]}var d="opaque";if(c.wmode){d=c.wmode}q(c,"components");q(c,"providers");if(typeof c["dock.position"]!="undefined"){if(c["dock.position"].toString().toLowerCase()=="false"){c.dock=c["dock.position"];delete c["dock.position"]}}var l=b.utils.getCookies();for(var h in l){if(typeof(c[h])=="undefined"){c[h]=l[h]}}var j="#000000";var C;if(b.utils.isIE()){var m='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="'+j+'" width="100%" height="100%" id="'+s.id+'" name="'+s.id+'" tabindex=0"">';m+='<param name="movie" value="'+r.src+'">';m+='<param name="allowfullscreen" value="true">';m+='<param name="allowscriptaccess" value="always">';m+='<param name="seamlesstabbing" value="true">';m+='<param name="wmode" value="'+d+'">';m+='<param name="flashvars" value="'+v(c)+'">';m+="</object>";b.utils.setOuterHTML(s,m);C=document.getElementById(s.id)}else{var D=document.createElement("object");D.setAttribute("type","application/x-shockwave-flash");D.setAttribute("data",r.src);D.setAttribute("width","100%");D.setAttribute("height","100%");D.setAttribute("bgcolor","#000000");D.setAttribute("id",s.id);D.setAttribute("name",s.id);D.setAttribute("tabindex",0);a(D,"allowfullscreen","true");a(D,"allowscriptaccess","always");a(D,"seamlesstabbing","true");a(D,"wmode",d);a(D,"flashvars",v(c));s.parentNode.replaceChild(D,s);C=D}p.container=C;p.setPlayer(C,"flash")};this.supportsConfig=function(){if(b.utils.hasFlash()){if(n){var c=b.utils.getFirstPlaylistItemFromConfig(n);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true}else{if(c.file){return flashCanPlay(c.file,c.provider)}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&flashCanPlay(c.levels[d].file,c.provider)){return true}}}}}}else{return true}}return false};flashCanPlay=function(f,d){var e=["video","http","sound","image"];if(d&&(e.toString().indexOf(d)<0)){return true}var c=b.utils.extension(f);if(!c){return true}if(b.utils.exists(b.utils.extensionmap[c])&&!b.utils.exists(b.utils.extensionmap[c].flash)){return false}return true}}})(jwplayer);(function(b){b.embed.html5=function(m,h,a,l,j){function k(d,c,e){return function(g){var f=document.getElementById(m.id+"_displayarea");if(e){f.appendChild(c)}d.resize(f.clientWidth,f.clientHeight);c.left=f.style.left;c.top=f.style.top}}this.embed=function(){if(b.html5){l.setupPlugins(j,a,k);m.innerHTML="";var e=b.utils.extend({screencolor:"0x000000"},a);var f=["plugins","modes","events"];for(var d=0;d<f.length;d++){delete e[f[d]]}if(e.levels&&!e.sources){e.sources=a.levels}if(e.skin&&e.skin.toLowerCase().indexOf(".zip")>0){e.skin=e.skin.replace(/\.zip/i,".xml")}var c=new(b.html5(m)).setup(e);j.container=document.getElementById(j.id);j.setPlayer(c,"html5")}else{return null}};this.supportsConfig=function(){if(!!b.vid.canPlayType){if(a){var c=b.utils.getFirstPlaylistItemFromConfig(a);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true}else{if(c.file){return html5CanPlay(b.vid,c.file,c.provider,c.playlistfile)}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&html5CanPlay(b.vid,c.levels[d].file,c.provider,c.playlistfile)){return true}}}}}}else{return true}}return false};html5CanPlay=function(e,f,d,g){if(g){return false}if(d&&d=="youtube"){return true}if(d&&d!="video"&&d!="http"&&d!="sound"){return false}if(navigator.userAgent.match(/BlackBerry/i)!==null){return false}var c=b.utils.extension(f);if(!b.utils.exists(c)||!b.utils.exists(b.utils.extensionmap[c])){return true}if(!b.utils.exists(b.utils.extensionmap[c].html5)){return false}if(b.utils.isLegacyAndroid()&&c.match(/m4v|mp4/)){return true}return browserCanPlay(e,b.utils.extensionmap[c].html5)};browserCanPlay=function(c,d){if(!d){return true}if(c.canPlayType(d)){return true}else{if(d=="audio/mp3"&&navigator.userAgent.match(/safari/i)){return c.canPlayType("audio/mpeg")}else{return false}}}}})(jwplayer);(function(b){b.embed.logo=function(s,t,A){var v={prefix:"http://l.longtailvideo.com/"+t+"/",file:"",link:"",linktarget:"_top",margin:8,out:0.5,over:1,timeout:5,hide:false,position:"bottom-left"};_css=b.utils.css;var C;var w;u();function u(){q();B();y()}function q(){if(v.prefix){var c=b.version.split(/\W/).splice(0,2).join("/");if(v.prefix.indexOf(c)<0){v.prefix+=c+"/"}}w=b.utils.extend({},v,s)}function a(){var c={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10};c.display=w.hide?"none":"block";var d=w.position.toLowerCase().split("-");for(var e in d){c[d[e]]=w.margin}return c}function B(){C=document.createElement("img");C.id=A+"_jwplayer_logo";C.style.display="none";C.onload=function(c){_css(C,a());z()};if(!w.file){return}if(w.file.indexOf("http://")===0){C.src=w.file}else{C.src=w.prefix+w.file}}if(!w.file){return}function y(){if(w.link){C.onmouseover=x;C.onmouseout=z;C.onclick=r}else{this.mouseEnabled=false}}function r(c){if(typeof c!="undefined"){c.preventDefault();c.stopPropagation()}if(w.link){window.open(w.link,w.linktarget)}return}function z(c){if(w.link){C.style.opacity=w.out}return}function x(c){if(w.hide){C.style.opacity=w.over}return}return C}})(jwplayer);(function(b){b.html5=function(a){var d=a;this.setup=function(c){b.utils.extend(this,new b.html5.api(d,c));return this};return this}})(jwplayer);(function(e){var f=e.utils;var d=f.css;e.html5.view=function(V,X,ap){var ah=V;var ai=X;var ac=ap;var af;var ao;var b;var T;var a;var ab;var Q;var Z=false;var W,ad;var R,aq,ar;function Y(){af=document.createElement("div");af.id=ai.id;af.className=ai.className;_videowrapper=document.createElement("div");_videowrapper.id=af.id+"_video_wrapper";ai.id=af.id+"_video";d(af,{position:"relative",height:ac.height,width:ac.width,padding:0,backgroundColor:g(),zIndex:0});function g(){if(ah.skin.getComponentSettings("display")&&ah.skin.getComponentSettings("display").backgroundcolor){return ah.skin.getComponentSettings("display").backgroundcolor}return parseInt("000000",16)}d(ai,{width:"100%",height:"100%",top:0,left:0,zIndex:1,margin:"auto",display:"block"});d(_videowrapper,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0});f.wrap(ai,af);f.wrap(ai,_videowrapper);T=document.createElement("div");T.id=af.id+"_displayarea";af.appendChild(T);_instreamArea=document.createElement("div");_instreamArea.id=af.id+"_instreamarea";d(_instreamArea,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:100,background:"000000",display:"none"});af.appendChild(_instreamArea)}function al(){for(var h=0;h<ac.plugins.order.length;h++){var g=ac.plugins.order[h];if(f.exists(ac.plugins.object[g].getDisplayElement)){ac.plugins.object[g].height=f.parseDimension(ac.plugins.object[g].getDisplayElement().style.height);ac.plugins.object[g].width=f.parseDimension(ac.plugins.object[g].getDisplayElement().style.width);ac.plugins.config[g].currentPosition=ac.plugins.config[g].position}}N()}function aj(g){if(aq){return}if(ac.getMedia()&&ac.getMedia().hasChrome()){T.style.display="none"}else{switch(g.newstate){case g.newstate==e.api.events.state.PLAYING:T.style.display="none";break;default:T.style.display="block";break}}}function N(j){var g=ac.getMedia()?ac.getMedia().getDisplayElement():null;if(f.exists(g)){if(Q!=g){if(Q&&Q.parentNode){Q.parentNode.replaceChild(g,Q)}Q=g}for(var k=0;k<ac.plugins.order.length;k++){var h=ac.plugins.order[k];if(f.exists(ac.plugins.object[h].getDisplayElement)){ac.plugins.config[h].currentPosition=ac.plugins.config[h].position}}}am(ac.width,ac.height)}this.setup=function(){if(ac&&ac.getMedia()){ai=ac.getMedia().getDisplayElement()}Y();al();ah.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,aj);ah.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_LOADED,N);ah.jwAddEventListener(e.api.events.JWPLAYER_MEDIA_META,function(h){aa()});var g;if(f.exists(window.onresize)){g=window.onresize}window.onresize=function(k){if(f.exists(g)){try{g(k)}catch(h){}}if(ah.jwGetFullscreen()){if(!U()){var j=f.getBoundingClientRect(document.body);ac.width=Math.abs(j.left)+Math.abs(j.right);ac.height=window.innerHeight;am(ac.width,ac.height)}}else{am(ac.width,ac.height)}}};function an(g){switch(g.keyCode){case 27:if(ah.jwGetFullscreen()){ah.jwSetFullscreen(false)}break;case 32:if(ah.jwGetState()!=e.api.events.state.IDLE&&ah.jwGetState()!=e.api.events.state.PAUSED){ah.jwPause()}else{ah.jwPlay()}break}}function am(r,h){if(af.style.display=="none"){return}var o=[].concat(ac.plugins.order);o.reverse();a=o.length+2;if(U()){try{if(ac.fullscreen&&!ac.getMedia().getDisplayElement().webkitDisplayingFullscreen){ac.fullscreen=false}}catch(l){}}if(!ac.fullscreen){ao=r;b=h;if(typeof r=="string"&&r.indexOf("%")>0){ao=f.getElementWidth(f.parentNode(af))*parseInt(r.replace("%"),"")/100}else{ao=r}if(typeof h=="string"&&h.indexOf("%")>0){b=f.getElementHeight(f.parentNode(af))*parseInt(h.replace("%"),"")/100}else{b=h}var n={top:0,bottom:0,left:0,right:0,width:ao,height:b,position:"absolute"};d(T,n);var g={};var k;try{k=ac.plugins.object.display.getDisplayElement()}catch(l){}if(k){g.width=f.parseDimension(k.style.width);g.height=f.parseDimension(k.style.height)}var j=f.extend({},n,g,{zIndex:_instreamArea.style.zIndex,display:_instreamArea.style.display});d(_instreamArea,j);d(af,{height:b,width:ao});var m=ae(P,o);if(m.length>0){a+=m.length;var p=m.indexOf("playlist"),q=m.indexOf("controlbar");if(p>=0&&q>=0){m[p]=m.splice(q,1,m[p])[0]}ae(ak,m,true)}W=f.getElementWidth(T);ad=f.getElementHeight(T)}else{if(!U()){ae(c,o,true)}}aa()}function ae(h,m,l){var k=[];for(var n=0;n<m.length;n++){var j=m[n];if(f.exists(ac.plugins.object[j].getDisplayElement)){if(ac.plugins.config[j].currentPosition!=e.html5.view.positions.NONE){var p=h(j,a--);if(!p){k.push(j)}else{var o=p.width;var g=p.height;if(l){delete p.width;delete p.height}d(ac.plugins.object[j].getDisplayElement(),p);ac.plugins.object[j].resize(o,g)}}else{d(ac.plugins.object[j].getDisplayElement(),{display:"none"})}}}return k}function P(h,g){if(f.exists(ac.plugins.object[h].getDisplayElement)){if(ac.plugins.config[h].position&&S(ac.plugins.config[h].position)){if(!f.exists(ac.plugins.object[h].getDisplayElement().parentNode)){af.appendChild(ac.plugins.object[h].getDisplayElement())}var j=at(h);j.zIndex=g;return j}}return false}function ak(h,g){if(!f.exists(ac.plugins.object[h].getDisplayElement().parentNode)){T.appendChild(ac.plugins.object[h].getDisplayElement())}return{position:"absolute",width:(f.getElementWidth(T)-f.parseDimension(T.style.left)-f.parseDimension(T.style.right)),height:(f.getElementHeight(T)-f.parseDimension(T.style.top)-f.parseDimension(T.style.bottom)),zIndex:g}}function c(h,g){return{position:"fixed",width:ac.width,height:ac.height,zIndex:g}}var aa=this.resizeMedia=function(){T.style.position="absolute";var g=ac.getMedia()?ac.getMedia().getDisplayElement():ar;if(!g){return}if(g&&g.tagName.toLowerCase()=="video"){if(!g.videoWidth||!g.videoHeight){return}g.style.position="absolute";f.fadeTo(g,1,0.25);if(g.parentNode){g.parentNode.style.left=T.style.left;g.parentNode.style.top=T.style.top}if(ac.fullscreen&&ah.jwGetStretching()==e.utils.stretching.EXACTFIT&&!f.isMobile()){var j=document.createElement("div");f.stretch(e.utils.stretching.UNIFORM,j,f.getElementWidth(T),f.getElementHeight(T),W,ad);f.stretch(e.utils.stretching.EXACTFIT,g,f.parseDimension(j.style.width),f.parseDimension(j.style.height),g.videoWidth?g.videoWidth:400,g.videoHeight?g.videoHeight:300);d(g,{left:j.style.left,top:j.style.top})}else{f.stretch(ah.jwGetStretching(),g,f.getElementWidth(T),f.getElementHeight(T),g.videoWidth?g.videoWidth:400,g.videoHeight?g.videoHeight:300)}}else{var h=ac.plugins.object.display.getDisplayElement();if(h){ac.getMedia().resize(f.parseDimension(h.style.width),f.parseDimension(h.style.height))}else{ac.getMedia().resize(f.parseDimension(T.style.width),f.parseDimension(T.style.height))}}};var at=this.getComponentPosition=function(h){var g={position:"absolute",margin:0,padding:0,top:null};var j=ac.plugins.config[h].currentPosition.toLowerCase();switch(j.toUpperCase()){case e.html5.view.positions.TOP:g.top=f.parseDimension(T.style.top);g.left=f.parseDimension(T.style.left);g.width=f.getElementWidth(T)-f.parseDimension(T.style.left)-f.parseDimension(T.style.right);g.height=ac.plugins.object[h].height;T.style[j]=f.parseDimension(T.style[j])+ac.plugins.object[h].height+"px";T.style.height=f.getElementHeight(T)-g.height+"px";break;case e.html5.view.positions.RIGHT:g.top=f.parseDimension(T.style.top);g.right=f.parseDimension(T.style.right);g.width=ac.plugins.object[h].width;g.height=f.getElementHeight(T)-f.parseDimension(T.style.top)-f.parseDimension(T.style.bottom);T.style.width=f.getElementWidth(T)-g.width+"px";break;case e.html5.view.positions.BOTTOM:g.bottom=f.parseDimension(T.style.bottom);g.left=f.parseDimension(T.style.left);g.width=f.getElementWidth(T)-f.parseDimension(T.style.left)-f.parseDimension(T.style.right);g.height=ac.plugins.object[h].height;T.style.height=f.getElementHeight(T)-g.height+"px";break;case e.html5.view.positions.LEFT:g.top=f.parseDimension(T.style.top);g.left=f.parseDimension(T.style.left);g.width=ac.plugins.object[h].width;g.height=f.getElementHeight(T)-f.parseDimension(T.style.top)-f.parseDimension(T.style.bottom);T.style[j]=f.parseDimension(T.style[j])+ac.plugins.object[h].width+"px";T.style.width=f.getElementWidth(T)-g.width+"px";break;default:break}return g};this.resize=am;var ag;this.fullscreen=function(j){var g;try{g=ac.getMedia().getDisplayElement()}catch(h){}if(U()&&g&&g.webkitSupportsFullscreen){if(j&&!g.webkitDisplayingFullscreen){try{f.transform(g);ag=T.style.display;T.style.display="none";g.webkitEnterFullscreen()}catch(k){}}else{if(!j){aa();if(g.webkitDisplayingFullscreen){try{g.webkitExitFullscreen()}catch(k){}}T.style.display=ag}}Z=false}else{if(j){document.onkeydown=an;clearInterval(ab);var l=f.getBoundingClientRect(document.body);ac.width=Math.abs(l.left)+Math.abs(l.right);ac.height=window.innerHeight;var m={position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:2147483000};d(af,m);m.zIndex=1;if(ac.getMedia()&&ac.getMedia().getDisplayElement()){d(ac.getMedia().getDisplayElement(),m)}m.zIndex=2;d(T,m);Z=true}else{document.onkeydown="";ac.width=ao;ac.height=b;d(af,{position:"relative",height:ac.height,width:ac.width,zIndex:0});Z=false}am(ac.width,ac.height)}};function S(g){return([e.html5.view.positions.TOP,e.html5.view.positions.RIGHT,e.html5.view.positions.BOTTOM,e.html5.view.positions.LEFT].toString().indexOf(g.toUpperCase())>-1)}function U(){if(ah.jwGetState()!=e.api.events.state.IDLE&&!Z&&(ac.getMedia()&&ac.getMedia().getDisplayElement()&&ac.getMedia().getDisplayElement().webkitSupportsFullscreen)&&f.useNativeFullscreen()){return true}return false}this.setupInstream=function(h,g){f.css(_instreamArea,{display:"block",position:"absolute"});T.style.display="none";_instreamArea.appendChild(h);ar=g;aq=true};var O=this.destroyInstream=function(){_instreamArea.style.display="none";_instreamArea.innerHTML="";T.style.display="block";ar=null;aq=false;am(ac.width,ac.height)}};e.html5.view.positions={TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM",LEFT:"LEFT",OVER:"OVER",NONE:"NONE"}})(jwplayer);(function(d){var c={backgroundcolor:"",margin:10,font:"Arial,sans-serif",fontsize:10,fontcolor:parseInt("000000",16),fontstyle:"normal",fontweight:"bold",buttoncolor:parseInt("ffffff",16),position:d.html5.view.positions.BOTTOM,idlehide:false,hideplaylistcontrols:false,forcenextprev:false,layout:{left:{position:"left",elements:[{name:"play",type:"button"},{name:"divider",type:"divider"},{name:"prev",type:"button"},{name:"divider",type:"divider"},{name:"next",type:"button"},{name:"divider",type:"divider"},{name:"elapsed",type:"text"}]},center:{position:"center",elements:[{name:"time",type:"slider"}]},right:{position:"right",elements:[{name:"duration",type:"text"},{name:"blank",type:"button"},{name:"divider",type:"divider"},{name:"mute",type:"button"},{name:"volume",type:"slider"},{name:"divider",type:"divider"},{name:"fullscreen",type:"button"}]}}};_utils=d.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"})};_show=function(a){_css(a,{display:"block"})};d.html5.controlbar=function(ba,am){window.controlbar=this;var bb=ba;var aP=_utils.extend({},c,bb.skin.getComponentSettings("controlbar"),am);if(aP.position==d.html5.view.positions.NONE||typeof d.html5.view.positions[aP.position]=="undefined"){return}if(_utils.mapLength(bb.skin.getComponentLayout("controlbar"))>0){aP.layout=bb.skin.getComponentLayout("controlbar")}var aM;var au;var aO;var aN;var a0="none";var be;var bc;var aL;var bf;var bg;var aX;var at={};var a6=false;var bj={};var aU;var bd=false;var a7;var bi;var ap=false;var aJ=false;var aH;var a=new d.html5.eventdispatcher();_utils.extend(this,a);function aB(){if(!aU){aU=bb.skin.getSkinElement("controlbar","background");if(!aU){aU={width:0,height:0,src:null}}}return aU}function aw(){aO=0;aN=0;au=0;if(!a6){var e={height:aB().height,backgroundColor:aP.backgroundcolor};aM=document.createElement("div");aM.id=bb.id+"_jwplayer_controlbar";_css(aM,e)}var f=(bb.skin.getSkinElement("controlbar","capLeft"));var g=(bb.skin.getSkinElement("controlbar","capRight"));if(f){aY("capLeft","left",false,aM)}aT("background",aM,{position:"absolute",height:aB().height,left:(f?f.width:0),zIndex:0},"img");if(aB().src){at.background.src=aB().src}aT("elements",aM,{position:"relative",height:aB().height,zIndex:1});if(g){aY("capRight","right",false,aM)}}this.getDisplayElement=function(){return aM};this.resize=function(e,g){ar();_utils.cancelAnimation(aM);bg=e;aX=g;if(aJ!=bb.jwGetFullscreen()){aJ=bb.jwGetFullscreen();if(!aJ){b()}bi=undefined}var f=aZ();aC({id:bb.id,duration:aL,position:bc});a1({id:bb.id,bufferPercent:bf});return f};this.show=function(){if(bd){bd=false;_show(aM);ao()}};this.hide=function(){if(!bd){bd=true;_hide(aM);aR()}};function a5(){var f=["timeSlider","volumeSlider","timeSliderRail","volumeSliderRail"];for(var e in f){var g=f[e];if(typeof at[g]!="undefined"){bj[g]=_utils.getBoundingClientRect(at[g])}}}var bh;function b(e){if(bd){return}clearTimeout(a7);if(aP.position==d.html5.view.positions.OVER||bb.jwGetFullscreen()){switch(bb.jwGetState()){case d.api.events.state.PAUSED:case d.api.events.state.IDLE:if(aM&&aM.style.opacity<1&&(!aP.idlehide||_utils.exists(e))){bh=false;setTimeout(function(){if(!bh){an()}},100)}if(aP.idlehide){a7=setTimeout(function(){aV()},2000)}break;default:bh=true;if(e){an()}a7=setTimeout(function(){aV()},2000);break}}else{an()}}function aV(){if(!bd){aR();if(aM.style.opacity==1){_utils.cancelAnimation(aM);_utils.fadeTo(aM,0,0.1,1,0)}}}function an(){if(!bd){ao();if(aM.style.opacity==0){_utils.cancelAnimation(aM);_utils.fadeTo(aM,1,0.1,0,0)}}}function aF(e){return function(){if(ap&&bi!=e){bi=e;a.sendEvent(e,{component:"controlbar",boundingRect:av()})}}}var ao=aF(d.api.events.JWPLAYER_COMPONENT_SHOW);var aR=aF(d.api.events.JWPLAYER_COMPONENT_HIDE);function av(){if(aP.position==d.html5.view.positions.OVER||bb.jwGetFullscreen()){return _utils.getDimensions(aM)}else{return{x:0,y:0,width:0,height:0}}}function aT(e,f,g,j){var h;if(!a6){if(!j){j="div"}h=document.createElement(j);at[e]=h;h.id=aM.id+"_"+e;f.appendChild(h)}else{h=document.getElementById(aM.id+"_"+e)}if(_utils.exists(g)){_css(h,g)}return h}function ax(){if(bb.jwGetHeight()<=40){aP.layout=_utils.clone(aP.layout);for(var e=0;e<aP.layout.left.elements.length;e++){if(aP.layout.left.elements[e].name=="fullscreen"){aP.layout.left.elements.splice(e,1)}}for(e=0;e<aP.layout.right.elements.length;e++){if(aP.layout.right.elements[e].name=="fullscreen"){aP.layout.right.elements.splice(e,1)}}a8()}aA(aP.layout.left);aA(aP.layout.center);aA(aP.layout.right)}function aA(f,j){var e=f.position=="right"?"right":"left";var g=_utils.extend([],f.elements);if(_utils.exists(j)){g.reverse()}var f=aT(f.position+"Group",at.elements,{"float":"left",styleFloat:"left",cssFloat:"left",height:"100%"});for(var h=0;h<g.length;h++){aQ(g[h],e,f)}}function az(){return au++}function aQ(k,h,f){var l,n,m,o,e;if(!f){f=at.elements}if(k.type=="divider"){aY("divider"+az(),h,true,f,undefined,k.width,k.element);return}switch(k.name){case"play":aY("playButton",h,false,f);aY("pauseButton",h,true,f);aq("playButton","jwPlay");aq("pauseButton","jwPause");break;case"prev":aY("prevButton",h,true,f);aq("prevButton","jwPlaylistPrev");break;case"stop":aY("stopButton",h,true,f);aq("stopButton","jwStop");break;case"next":aY("nextButton",h,true,f);aq("nextButton","jwPlaylistNext");break;case"elapsed":aY("elapsedText",h,true,f,null,null,bb.skin.getSkinElement("controlbar","elapsedBackground"));break;case"time":n=!_utils.exists(bb.skin.getSkinElement("controlbar","timeSliderCapLeft"))?0:bb.skin.getSkinElement("controlbar","timeSliderCapLeft").width;m=!_utils.exists(bb.skin.getSkinElement("controlbar","timeSliderCapRight"))?0:bb.skin.getSkinElement("controlbar","timeSliderCapRight").width;l=h=="left"?n:m;e={height:aB().height,position:"relative","float":"left",styleFloat:"left",cssFloat:"left"};var j=aT("timeSlider",f,e);aY("timeSliderCapLeft",h,true,j,"relative");aY("timeSliderRail",h,false,j,"relative");aY("timeSliderBuffer",h,false,j,"absolute");aY("timeSliderProgress",h,false,j,"absolute");aY("timeSliderThumb",h,false,j,"absolute");aY("timeSliderCapRight",h,true,j,"relative");aW("time");break;case"fullscreen":aY("fullscreenButton",h,false,f);aY("normalscreenButton",h,true,f);aq("fullscreenButton","jwSetFullscreen",true);aq("normalscreenButton","jwSetFullscreen",false);break;case"volume":n=!_utils.exists(bb.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?0:bb.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;m=!_utils.exists(bb.skin.getSkinElement("controlbar","volumeSliderCapRight"))?0:bb.skin.getSkinElement("controlbar","volumeSliderCapRight").width;l=h=="left"?n:m;o=bb.skin.getSkinElement("controlbar","volumeSliderRail").width+n+m;e={height:aB().height,position:"relative",width:o,"float":"left",styleFloat:"left",cssFloat:"left"};var g=aT("volumeSlider",f,e);aY("volumeSliderCapLeft",h,false,g,"relative");aY("volumeSliderRail",h,false,g,"relative");aY("volumeSliderProgress",h,false,g,"absolute");aY("volumeSliderThumb",h,false,g,"absolute");aY("volumeSliderCapRight",h,false,g,"relative");aW("volume");break;case"mute":aY("muteButton",h,false,f);aY("unmuteButton",h,true,f);aq("muteButton","jwSetMute",true);aq("unmuteButton","jwSetMute",false);break;case"duration":aY("durationText",h,true,f,null,null,bb.skin.getSkinElement("controlbar","durationBackground"));break}}function aY(m,j,o,f,l,p,n){if(_utils.exists(bb.skin.getSkinElement("controlbar",m))||m.indexOf("Text")>0||m.indexOf("divider")===0){var k={height:"100%",position:l?l:"relative",display:"block","float":"left",styleFloat:"left",cssFloat:"left"};if((m.indexOf("next")===0||m.indexOf("prev")===0)&&(bb.jwGetPlaylist().length<2||aP.hideplaylistcontrols.toString()=="true")){if(aP.forcenextprev.toString()!="true"){o=false;k.display="none"}}var e;if(m.indexOf("Text")>0){m.innerhtml="00:00";k.font=aP.fontsize+"px/"+(aB().height+1)+"px "+aP.font;k.color=aP.fontcolor;k.textAlign="center";k.fontWeight=aP.fontweight;k.fontStyle=aP.fontstyle;k.cursor="default";if(n){k.background="url("+n.src+") no-repeat center";k.backgroundSize="100% "+aB().height+"px"}k.padding="0 5px"}else{if(m.indexOf("divider")===0){if(p){if(!isNaN(parseInt(p))){e=parseInt(p)}}else{if(n){var h=bb.skin.getSkinElement("controlbar",n);if(h){k.background="url("+h.src+") repeat-x center left";e=h.width}}else{k.background="url("+bb.skin.getSkinElement("controlbar","divider").src+") repeat-x center left";e=bb.skin.getSkinElement("controlbar","divider").width}}}else{k.background="url("+bb.skin.getSkinElement("controlbar",m).src+") repeat-x center left";e=bb.skin.getSkinElement("controlbar",m).width}}if(j=="left"){if(o){aO+=e}}else{if(j=="right"){if(o){aN+=e}}}if(_utils.typeOf(f)=="undefined"){f=at.elements}k.width=e;if(a6){_css(at[m],k)}else{var g=aT(m,f,k);if(_utils.exists(bb.skin.getSkinElement("controlbar",m+"Over"))){g.onmouseover=function(q){g.style.backgroundImage=["url(",bb.skin.getSkinElement("controlbar",m+"Over").src,")"].join("")};g.onmouseout=function(q){g.style.backgroundImage=["url(",bb.skin.getSkinElement("controlbar",m).src,")"].join("")}}if(m.indexOf("divider")==0){g.setAttribute("class","divider")}g.innerHTML="&nbsp;"}}}function aK(){bb.jwAddEventListener(d.api.events.JWPLAYER_PLAYLIST_LOADED,aS);bb.jwAddEventListener(d.api.events.JWPLAYER_PLAYLIST_ITEM,a3);bb.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER,a1);bb.jwAddEventListener(d.api.events.JWPLAYER_PLAYER_STATE,a4);bb.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_TIME,aC);bb.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_MUTE,aD);bb.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_VOLUME,a9);bb.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,ay)}function aS(){if(!aP.hideplaylistcontrols){if(bb.jwGetPlaylist().length>1||aP.forcenextprev.toString()=="true"){_show(at.nextButton);_show(at.prevButton)}else{_hide(at.nextButton);_hide(at.prevButton)}aZ();aI()}}function a3(e){aL=bb.jwGetPlaylist()[e.index].duration;aC({id:bb.id,duration:aL,position:0});a1({id:bb.id,bufferProgress:0})}function aI(){aC({id:bb.id,duration:bb.jwGetDuration(),position:0});a1({id:bb.id,bufferProgress:0});aD({id:bb.id,mute:bb.jwGetMute()});a4({id:bb.id,newstate:d.api.events.state.IDLE});a9({id:bb.id,volume:bb.jwGetVolume()})}function aq(f,e,g){if(a6){return}if(_utils.exists(bb.skin.getSkinElement("controlbar",f))){var h=at[f];if(_utils.exists(h)){_css(h,{cursor:"pointer"});if(e=="fullscreen"){h.onmouseup=function(j){j.stopPropagation();bb.jwSetFullscreen(!bb.jwGetFullscreen())}}else{h.onmouseup=function(j){j.stopPropagation();if(_utils.exists(g)){bb[e](g)}else{bb[e]()}}}}}}function aW(f){if(a6){return}var e=at[f+"Slider"];_css(at.elements,{cursor:"pointer"});_css(e,{cursor:"pointer"});e.onmousedown=function(g){a0=f};e.onmouseup=function(g){g.stopPropagation();aE(g.pageX)};e.onmousemove=function(h){if(a0=="time"){be=true;var g=h.pageX-bj[f+"Slider"].left-window.pageXOffset;_css(at[a0+"SliderThumb"],{left:g})}}}function aE(g){be=false;var h;if(a0=="time"){h=g-bj.timeSliderRail.left+window.pageXOffset;var e=h/bj.timeSliderRail.width*aL;if(e<0){e=0}else{if(e>aL){e=aL-3}}if(bb.jwGetState()==d.api.events.state.PAUSED||bb.jwGetState()==d.api.events.state.IDLE){bb.jwPlay()}bb.jwSeek(e)}else{if(a0=="volume"){h=g-bj.volumeSliderRail.left-window.pageXOffset;var f=Math.round(h/bj.volumeSliderRail.width*100);if(f<10){f=0}else{if(f>100){f=100}}if(bb.jwGetMute()){bb.jwSetMute(false)}bb.jwSetVolume(f)}}a0="none"}function a1(g){if(_utils.exists(g.bufferPercent)){bf=g.bufferPercent}if(bj.timeSliderRail){var e=bb.skin.getSkinElement("controlbar","timeSliderCapLeft");var f=bj.timeSliderRail.width;var h=isNaN(Math.round(f*bf/100))?0:Math.round(f*bf/100);_css(at.timeSliderBuffer,{width:h,left:e?e.width:0})}}function aD(e){if(e.mute){_hide(at.muteButton);_show(at.unmuteButton);_hide(at.volumeSliderProgress)}else{_show(at.muteButton);_hide(at.unmuteButton);_show(at.volumeSliderProgress)}}function a4(e){if(e.newstate==d.api.events.state.BUFFERING||e.newstate==d.api.events.state.PLAYING){_show(at.pauseButton);_hide(at.playButton)}else{_hide(at.pauseButton);_show(at.playButton)}b();if(e.newstate==d.api.events.state.IDLE){_hide(at.timeSliderBuffer);_hide(at.timeSliderProgress);_hide(at.timeSliderThumb);aC({id:bb.id,duration:bb.jwGetDuration(),position:0})}else{_show(at.timeSliderBuffer);if(e.newstate!=d.api.events.state.BUFFERING){_show(at.timeSliderProgress);_show(at.timeSliderThumb)}}}function ay(e){a1({bufferPercent:0});aC(_utils.extend(e,{position:0,duration:aL}))}function aC(g){if(_utils.exists(g.position)){bc=g.position}if(_utils.exists(g.duration)){aL=g.duration}var j=(bc===aL===0)?0:bc/aL;var e=bj.timeSliderRail;if(e){var k=isNaN(Math.round(e.width*j))?0:Math.round(e.width*j);var f=bb.skin.getSkinElement("controlbar","timeSliderCapLeft");var h=k+(f?f.width:0);if(at.timeSliderProgress){_css(at.timeSliderProgress,{width:k,left:f?f.width:0});if(!be){if(at.timeSliderThumb){at.timeSliderThumb.style.left=h+"px"}}}}if(at.durationText){at.durationText.innerHTML=_utils.timeFormat(aL)}if(at.elapsedText){at.elapsedText.innerHTML=_utils.timeFormat(bc)}}function a8(){var k=at.elements.childNodes;var e,g;for(var h=0;h<k.length;h++){var f=k[h].childNodes;for(var j in f){if(isNaN(parseInt(j,10))){continue}if(f[j].id.indexOf(aM.id+"_divider")===0&&g&&g.id.indexOf(aM.id+"_divider")===0&&f[j].style.backgroundImage==g.style.backgroundImage){f[j].style.display="none"}else{if(f[j].id.indexOf(aM.id+"_divider")===0&&e&&e.style.display!="none"){f[j].style.display="block"}}if(f[j].style.display!="none"){g=f[j]}e=f[j]}}}function aG(){if(bb.jwGetFullscreen()){_show(at.normalscreenButton);_hide(at.fullscreenButton)}else{_hide(at.normalscreenButton);_show(at.fullscreenButton)}if(bb.jwGetState()==d.api.events.state.BUFFERING||bb.jwGetState()==d.api.events.state.PLAYING){_show(at.pauseButton);_hide(at.playButton)}else{_hide(at.pauseButton);_show(at.playButton)}if(bb.jwGetMute()==true){_hide(at.muteButton);_show(at.unmuteButton);_hide(at.volumeSliderProgress)}else{_show(at.muteButton);_hide(at.unmuteButton);_show(at.volumeSliderProgress)}}function aZ(){a8();aG();var m={width:bg};var e={"float":"left",styleFloat:"left",cssFloat:"left"};if(aP.position==d.html5.view.positions.OVER||bb.jwGetFullscreen()){m.left=aP.margin;m.width-=2*aP.margin;m.top=aX-aB().height-aP.margin;m.height=aB().height}var k=bb.skin.getSkinElement("controlbar","capLeft");var g=bb.skin.getSkinElement("controlbar","capRight");e.width=m.width-(k?k.width:0)-(g?g.width:0);var l=_utils.getBoundingClientRect(at.leftGroup).width;var h=_utils.getBoundingClientRect(at.rightGroup).width;var j=e.width-l-h-1;var n=j;var o=bb.skin.getSkinElement("controlbar","timeSliderCapLeft");var f=bb.skin.getSkinElement("controlbar","timeSliderCapRight");if(_utils.exists(o)){n-=o.width}if(_utils.exists(f)){n-=f.width}at.timeSlider.style.width=j+"px";at.timeSliderRail.style.width=n+"px";_css(aM,m);_css(at.elements,e);_css(at.background,e);a5();return m}function a9(f){if(_utils.exists(at.volumeSliderRail)){var j=isNaN(f.volume/100)?1:f.volume/100;var h=_utils.parseDimension(at.volumeSliderRail.style.width);var l=isNaN(Math.round(h*j))?0:Math.round(h*j);var e=_utils.parseDimension(at.volumeSliderRail.style.right);var k=(!_utils.exists(bb.skin.getSkinElement("controlbar","volumeSliderCapLeft")))?0:bb.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;_css(at.volumeSliderProgress,{width:l,left:k});if(at.volumeSliderThumb){var g=(l-Math.round(_utils.parseDimension(at.volumeSliderThumb.style.width)/2));g=Math.min(Math.max(g,0),h-_utils.parseDimension(at.volumeSliderThumb.style.width));_css(at.volumeSliderThumb,{left:g})}if(_utils.exists(at.volumeSliderCapLeft)){_css(at.volumeSliderCapLeft,{left:0})}}}function ar(){try{var e=(bb.id.indexOf("_instream")>0?bb.id.replace("_instream",""):bb.id);aH=document.getElementById(e);aH.addEventListener("mousemove",b)}catch(f){_utils.log("Could not add mouse listeners to controlbar: "+f)}}function a2(){aw();ax();a5();a6=true;aK();aP.idlehide=(aP.idlehide.toString().toLowerCase()=="true");if(aP.position==d.html5.view.positions.OVER&&aP.idlehide){aM.style.opacity=0;ap=true}else{aM.style.opacity=1;setTimeout((function(){ap=true;ao()}),1)}ar();aI()}a2();return this}})(jwplayer);(function(d){var e=["width","height","state","playlist","item","position","buffer","duration","volume","mute","fullscreen"];var f=d.utils;d.html5.controller=function(av,Y,aD,aB){var aw=av,ax=aD,aA=aB,ak=Y,W=true,ac=-1,ai=false,aF=false,T,ag=[],at=false;var af=(f.exists(ax.config.debug)&&(ax.config.debug.toString().toLowerCase()=="console")),V=new d.html5.eventdispatcher(ak.id,af);f.extend(this,V);function X(g){if(at){V.sendEvent(g.type,g)}else{ag.push(g)}}function aq(j){if(!at){at=true;V.sendEvent(d.api.events.JWPLAYER_READY,j);if(d.utils.exists(window.playerReady)){playerReady(j)}if(d.utils.exists(window[aD.config.playerReady])){window[aD.config.playerReady](j)}while(ag.length>0){var g=ag.shift();V.sendEvent(g.type,g)}if(aD.config.autostart&&!d.utils.isIOS()){U()}while(al.length>0){var h=al.shift();ah(h.method,h.arguments)}}}ax.addGlobalListener(X);ax.addEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER_FULL,function(){ax.getMedia().play()});ax.addEventListener(d.api.events.JWPLAYER_MEDIA_TIME,function(g){if(g.position>=ax.playlist[ax.item].start&&ac>=0){ax.playlist[ax.item].start=ac;ac=-1}});ax.addEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,function(g){setTimeout(ae,25)});ax.addEventListener(d.api.events.JWPLAYER_PLAYLIST_LOADED,U);ax.addEventListener(d.api.events.JWPLAYER_FULLSCREEN,au);function ad(){try{T=ad;if(!ai){ai=true;V.sendEvent(d.api.events.JWPLAYER_MEDIA_BEFOREPLAY);ai=false;if(aF){aF=false;T=null;return}}an(ax.item);if(ax.playlist[ax.item].levels[0].file.length>0){if(W||ax.state==d.api.events.state.IDLE){ax.getMedia().load(ax.playlist[ax.item]);W=false}else{if(ax.state==d.api.events.state.PAUSED){ax.getMedia().play()}}}return true}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g);T=null}return false}function aE(){try{if(ax.playlist[ax.item].levels[0].file.length>0){switch(ax.state){case d.api.events.state.PLAYING:case d.api.events.state.BUFFERING:if(ax.getMedia()){ax.getMedia().pause()}break;default:if(ai){aF=true}}}return true}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g)}return false}function aj(h){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(typeof h!="number"){h=parseFloat(h)}switch(ax.state){case d.api.events.state.IDLE:if(ac<0){ac=ax.playlist[ax.item].start;ax.playlist[ax.item].start=h}if(!ai){ad()}break;case d.api.events.state.PLAYING:case d.api.events.state.PAUSED:case d.api.events.state.BUFFERING:ax.seek(h);break}}return true}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g)}return false}function am(h){T=null;if(!f.exists(h)){h=true}try{if((ax.state!=d.api.events.state.IDLE||h)&&ax.getMedia()){ax.getMedia().stop(h)}if(ai){aF=true}return true}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g)}return false}function az(){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(ax.config.shuffle){an(a())}else{if(ax.item+1==ax.playlist.length){an(0)}else{an(ax.item+1)}}}if(ax.state!=d.api.events.state.IDLE){var g=ax.state;ax.state=d.api.events.state.IDLE;V.sendEvent(d.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:d.api.events.state.IDLE})}ad();return true}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h)}return false}function aa(){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(ax.config.shuffle){an(a())}else{if(ax.item===0){an(ax.playlist.length-1)}else{an(ax.item-1)}}}if(ax.state!=d.api.events.state.IDLE){var g=ax.state;ax.state=d.api.events.state.IDLE;V.sendEvent(d.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:d.api.events.state.IDLE})}ad();return true}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h)}return false}function a(){var g=null;if(ax.playlist.length>1){while(!f.exists(g)){g=Math.floor(Math.random()*ax.playlist.length);if(g==ax.item){g=null}}}else{g=0}return g}function ab(h){if(!ax.playlist||!ax.playlist[h]){return false}try{if(ax.playlist[h].levels[0].file.length>0){var g=ax.state;if(g!==d.api.events.state.IDLE){if(ax.playlist[ax.item]&&ax.playlist[ax.item].provider==ax.playlist[h].provider){am(false)}else{am()}}an(h);ad()}return true}catch(j){V.sendEvent(d.api.events.JWPLAYER_ERROR,j)}return false}function an(g){if(!ax.playlist[g]){return}ax.setActiveMediaProvider(ax.playlist[g]);if(ax.item!=g){ax.item=g;W=true;V.sendEvent(d.api.events.JWPLAYER_PLAYLIST_ITEM,{index:g})}}function aC(h){try{an(ax.item);var g=ax.getMedia();switch(typeof(h)){case"number":g.volume(h);break;case"string":g.volume(parseInt(h,10));break}ax.setVolume(h);return true}catch(j){V.sendEvent(d.api.events.JWPLAYER_ERROR,j)}return false}function ar(h){try{an(ax.item);var g=ax.getMedia();if(typeof h=="undefined"){g.mute(!ax.mute);ax.setMute(!ax.mute)}else{if(h.toString().toLowerCase()=="true"){g.mute(true);ax.setMute(true)}else{g.mute(false);ax.setMute(false)}}return true}catch(j){V.sendEvent(d.api.events.JWPLAYER_ERROR,j)}return false}function Z(h,j){try{ax.width=h;ax.height=j;aA.resize(h,j);V.sendEvent(d.api.events.JWPLAYER_RESIZE,{width:ax.width,height:ax.height});return true}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g)}return false}function ao(h,g){try{if(typeof h=="undefined"){h=!ax.fullscreen}if(typeof g=="undefined"){g=true}if(h!=ax.fullscreen){ax.fullscreen=(h.toString().toLowerCase()=="true");aA.fullscreen(ax.fullscreen);if(g){V.sendEvent(d.api.events.JWPLAYER_FULLSCREEN,{fullscreen:ax.fullscreen})}V.sendEvent(d.api.events.JWPLAYER_RESIZE,{width:ax.width,height:ax.height})}return true}catch(j){V.sendEvent(d.api.events.JWPLAYER_ERROR,j)}return false}function b(h){try{am();if(ai){aF=false}ax.loadPlaylist(h);if(ax.playlist[ax.item].provider){an(ax.item);if(ax.config.autostart.toString().toLowerCase()=="true"&&!f.isIOS()&&!ai){ad()}return true}else{return false}}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g)}return false}function U(g){if(!f.isIOS()){an(ax.item);if(ax.config.autostart.toString().toLowerCase()=="true"&&!f.isIOS()){ad()}}}function au(g){ao(g.fullscreen,false)}function ap(){try{return ax.getMedia().detachMedia()}catch(g){return null}}function ay(){try{var h=ax.getMedia().attachMedia();if(typeof T=="function"){T()}}catch(g){return null}}d.html5.controller.repeatoptions={LIST:"LIST",ALWAYS:"ALWAYS",SINGLE:"SINGLE",NONE:"NONE"};function ae(){if(ax.state!=d.api.events.state.IDLE){return}T=ae;switch(ax.config.repeat.toUpperCase()){case d.html5.controller.repeatoptions.SINGLE:ad();break;case d.html5.controller.repeatoptions.ALWAYS:if(ax.item==ax.playlist.length-1&&!ax.config.shuffle){ab(0)}else{az()}break;case d.html5.controller.repeatoptions.LIST:if(ax.item==ax.playlist.length-1&&!ax.config.shuffle){am();an(0)}else{az()}break;default:am();break}}var al=[];function c(g){return function(){if(at){ah(g,arguments)}else{al.push({method:g,arguments:arguments})}}}function ah(g,h){var j=[];for(i=0;i<h.length;i++){j.push(h[i])}g.apply(this,j)}this.play=c(ad);this.pause=c(aE);this.seek=c(aj);this.stop=c(am);this.next=c(az);this.prev=c(aa);this.item=c(ab);this.setVolume=c(aC);this.setMute=c(ar);this.resize=c(Z);this.setFullscreen=c(ao);this.load=c(b);this.playerReady=aq;this.detachMedia=ap;this.attachMedia=ay;this.beforePlay=function(){return ai}}})(jwplayer);(function(b){b.html5.defaultSkin=function(){this.text='<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.1"><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/><setting name="fontcolor" value="0x000000"/></settings><layout><group position="left"><button name="play"/><divider name="divider"/><button name="prev"/><divider name="divider"/><button name="next"/><divider name="divider"/><text name="elapsed"/></group><group position="center"><slider name="time"/></group><group position="right"><text name="duration"/><divider name="divider"/><button name="blank"/><divider name="divider"/><button name="mute"/><slider name="volume"/><divider name="divider"/><button name="fullscreen"/></group></layout><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUOI3t1LERACAMQlFgGvcfxNIhHMK4gsUvUviOmgtNsiAZkBSEKxKEnCYkkQrJn/YwbUNiSDDYRZaQRDaShv+oX9GBZEIuK+8hXVLs+/YAAAAASUVORK5CYII="/><element name="blankButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUCB0FwcENgEAAw7Aq+893g8APUILNOQcbFRktVGqUVFRkWNz3xTa2sUaLNUosKlRUvvf5AdbWOTtzmzyWAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAANUlEQVR42u2RsQkAAAjD/NTTPaW6dXLrINJA1kBpGPMAjDWmOgp1HFQXx+b1KOefO4oxY57R73YnVYCQUCQAAAAASUVORK5CYII="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAIUlEQVQ4jWNgGAWjYOiD/0gYG3/U0FFDB4Oho2AUDAYAAEwiL9HrpdMVAAAAAElFTkSuQmCC"/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQklEQVQ4y2NgGAWjYOiD/1AMA/JAfB5NjCJD/YH4PRaLyDa0H4lNNUP/DxlD59PCUBCIp3ZEwYA+NZLUKBgFgwEAAN+HLX9sB8u8AAAAAElFTkSuQmCC"/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQElEQVQ4y2NgGAWjYOiD/0B8Hojl0cT+U2ooCL8HYn9qGwrD/bQw9P+QMXQ+tSMqnpoRBUpS+tRMUqNgFAwGAADxZy1/mHvFnAAAAABJRU5ErkJggg=="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAOElEQVRIDe3BwQkAIRADwAhhw/nU/kWwUK+KPITMABFh19Y+F0acY8CJvX9wYpXgRElwolSIiMf9ZWEDhtwurFsAAAAASUVORK5CYII="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAN0lEQVRIDe3BwQkAMQwDMBcc55mRe9zi7RR+FCwBEWG39vcfGHFm4MTuhhMlwYlVBSdKhYh43AW/LQMKm1spzwAAAABJRU5ErkJggg=="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAIElEQVRIiWNgGAWjYBTQBfynMR61YCRYMApGwSigMQAAiVWPcbq6UkIAAAAASUVORK5CYII="/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAYCAYAAAA/OUfnAAAAO0lEQVQYlWP4//8/Awwz0JgDBP/BeN6Cxf/hnI2btiI4u/fsQ3AOHjqK4Jw4eQbBOX/hEoKDYjSd/AMA4cS4mfLsorgAAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAJklEQVQ4y2NgGAUjDcwH4v/kaPxPikZkxcNVI9mBQ5XoGAWDFwAAsKAXKQQmfbUAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAMklEQVQ4y2NgGAWDHPyntub5xBr6Hwv/Pzk2/yfVG/8psRFE25Oq8T+tQnsIaB4FVAcAi2YVysVY52AAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAACmpqampqbBXAu8AAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAAAAAAAAACDY+nAAAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderCapRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAQklEQVRIiWNgGAWjYMiD/0iYFDmSLbDHImdPLQtgBpEiR7Zl2NijAA5oEkT/0Whi5UiyAJ8BVMsHNMtoo2AUDAIAAGdcIN3IDNXoAAAAAElFTkSuQmCC"/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAP0lEQVRIx2NgGAWjYMiD/1RSQ5QB/wmIUWzJfzx8qhj+n4DYCAY0DyJ7PBbYU8sHMEvwiZFtODXUjIJRMJgBACpWIN2ZxdPTAAAAAElFTkSuQmCC"/></elements></component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAiUlEQVR42u3XSw2AMBREURwgAQlIQAISKgUpSEFKJeCg5b0E0kWBTVcD9ySTsL0Jn9IBAAAA+K2UUrBlW/Rr5ZDoIeeuoFkxJD9ss03aIXXQqB9SttoG7ZA6qNcOKdttiwcJh9RB+iFl4SshkRBuLR72+9cvH0SOKI2HRo7x/Fi1/uoCAAAAwLsD8ki99IlO2dQAAAAASUVORK5CYII="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAVUlEQVR42u3WMQrAIAxAUW/g/SdvGmvpoOBeSHgPsjj5QTANAACARCJilIhYM0tEvJM+Ik3Id9E957kQIb+F3OdCPC0hPkQriqWx9hp/x/QGAABQyAPLB22VGrpLDgAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAA/0lEQVR42u2U0QmEMBAF7cASLMESUoIlpARLSCkpwRJSgiWkhOvAXD4WsgRkyaG5DbyB+Yvg8KITAAAAAAAYk+u61mwk15EjPtlEfihmqIiZR1Qx80ghjgdUuiHXGHSVsoag0x6x8DUoyjD5KovmEJ9NTDMRPIT0mtdIUkjlonuNohO+Ha99DTmkuGgKCTcvebAzx82ZoCWC3/3aIMWSRucaxcjORSFY4xpFdjYJGp1rFGcyCYZ/RVh6AUnfcNZ2zih3/mGj1jVCdiNDwyrq1rA/xMdeEXvDVdnYc1vDc3uPkDObXrlaxbNHSOohQhr/WOeLEWfWTgAAAAAAADzNF9sHJ7PJ57MlAAAAAElFTkSuQmCC"/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACBklEQVR42u3Zv0sCYRzH8USTzOsHHEWGkC1HgaDgkktGDjUYtDQ01RDSljQ1BLU02+rk1NTm2NLq4Nx/0L/h9fnCd3j4cnZe1/U8xiO8h3uurufF0/3COd/3/0UWYiEWYiEWYiGJQ+J8xuPxKhXjEMZANinjIZhkGuVRNioE4wVURo4JkHm0xKWmhRAc1bh1EyCUw5BcBIjHiApKa4CErko6DEJwuRo6IRKzyJD8FJAyI3Zp2zRImiBcRhlfo5RtlxCcE3CcDNpGrhYIT2IhAJKilO0VRmzJ32fAMTpBTS0QMfGwlcuKMRftE0DJ0wCJdcOsCkBdXP3Mh9CEFUBTPS9mDZJBG6io4aqVzMdCokCw9H3kT6j/C/9iDdSeUMNC7DkyyxAs/Rk6Qss8FPWRZgdVtUH4DjxEn1zxh+/zj1wHlf4MQhNGrwqA6sY40U8JonRJwEQh+AO3AvCG6gHv4U7IY4krxkroWoAOkoQMGfCBrgIm+YBGqPENpIJ66CJg3x66Y0gnSUidAEEnNr9jjLiWMn5DiWP0OC/oAsCgkq43xBdGDMQr7YASP/vEkHvdl1+JOCcEV5sC4hGEOzTlPuKgd0b0xD4JkRcOgnRRTjdErkYhAsQVq6IdUuPJtmk7BCL3t/h88cx91pKQkI/pkDx6pmYTIjEoxiHsN1YWYiEWYiEWknhflZ5IErA5nr8AAAAASUVORK5CYII="/></elements></component><component name="dock"><settings><setting name="fontcolor" value="0xffffff"/></settings><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/></elements></component><component name="playlist"><settings><setting name="backgroundcolor" value="0xe8e8e8"/></settings><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUaN7t2MENwCAMBEEe9N8wSKYC/D8YV7CyJoRkVtVImxkZPQInMxoP0XiIxkM0HsGbjjSNBx544IEHHnjggUe/6UQeey0PIh7XTftGxKPj4eXCtLsHHh+ZxkO0Iw8PR55Ni8ZD9Hu/EAoP0dc5RRg9qeRjVF8AAAAASUVORK5CYII="/><element name="sliderCapTop" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAKElEQVQ4y2P4//8/Az68bNmy/+iYkB6GUUNHDR01dNTQUUNHDaXcUABUDOKhcxnsSwAAAABJRU5ErkJggg=="/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAJUlEQVQ4T2P4//8/Ay4MBP9xYbz6Rg0dNXTU0FFDRw0dNZRyQwHH4NBa7GJsXAAAAABJRU5ErkJggg=="/><element name="sliderCapBottom" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/></elements></component></components></skin>';this.xml=null;if(window.DOMParser){parser=new DOMParser();this.xml=parser.parseFromString(this.text,"text/xml")}else{this.xml=new ActiveXObject("Microsoft.XMLDOM");this.xml.async="false";this.xml.loadXML(this.text)}return this}})(jwplayer);(function(b){_utils=b.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"})};_show=function(a){_css(a,{display:"block"})};b.html5.display=function(aL,ak){var aM={icons:true,showmute:false};var a=_utils.extend({},aM,ak);var aN=aL;var Y={};var aQ;var az;var aw;var ab;var aB;var ai;var aq;var ah=!_utils.exists(aN.skin.getComponentSettings("display").bufferrotation)?15:parseInt(aN.skin.getComponentSettings("display").bufferrotation,10);var aD=!_utils.exists(aN.skin.getComponentSettings("display").bufferinterval)?100:parseInt(aN.skin.getComponentSettings("display").bufferinterval,10);var ar=-1;var aA=b.api.events.state.IDLE;var ag=true;var aR;var at=false,Z=true;var aG="";var aO=false;var aH=false;var aJ;var ax,ad;var aj=new b.html5.eventdispatcher();_utils.extend(this,aj);var an={display:{style:{cursor:"pointer",top:0,left:0,overflow:"hidden"},click:aI},display_icon:{style:{cursor:"pointer",position:"absolute",top:((aN.skin.getSkinElement("display","background").height-aN.skin.getSkinElement("display","playIcon").height)/2),left:((aN.skin.getSkinElement("display","background").width-aN.skin.getSkinElement("display","playIcon").width)/2),border:0,margin:0,padding:0,zIndex:3,display:"none"}},display_iconBackground:{style:{cursor:"pointer",position:"absolute",top:((az-aN.skin.getSkinElement("display","background").height)/2),left:((aQ-aN.skin.getSkinElement("display","background").width)/2),border:0,backgroundImage:(["url(",aN.skin.getSkinElement("display","background").src,")"]).join(""),width:aN.skin.getSkinElement("display","background").width,height:aN.skin.getSkinElement("display","background").height,margin:0,padding:0,zIndex:2,display:"none"}},display_image:{style:{display:"none",width:aQ,height:az,position:"absolute",cursor:"pointer",left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1}},display_text:{style:{zIndex:4,position:"relative",opacity:0.8,backgroundColor:parseInt("000000",16),color:parseInt("ffffff",16),textAlign:"center",fontFamily:"Arial,sans-serif",padding:"0 5px",fontSize:14}}};aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYER_STATE,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_MEDIA_MUTE,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,af);aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_ERROR,aE);ae();function ae(){Y.display=ao("div","display");Y.display_text=ao("div","display_text");Y.display.appendChild(Y.display_text);Y.display_image=ao("img","display_image");Y.display_image.onerror=function(c){_hide(Y.display_image)};Y.display_image.onload=au;Y.display_icon=ao("div","display_icon");Y.display_iconBackground=ao("div","display_iconBackground");Y.display.appendChild(Y.display_image);Y.display_iconBackground.appendChild(Y.display_icon);Y.display.appendChild(Y.display_iconBackground);aP();setTimeout((function(){aH=true;if(a.icons.toString()=="true"){al()}}),1)}this.getDisplayElement=function(){return Y.display};this.resize=function(c,d){if(aN.jwGetFullscreen()&&_utils.useNativeFullscreen()){return}_css(Y.display,{width:c,height:d});_css(Y.display_text,{width:(c-10),top:((d-_utils.getBoundingClientRect(Y.display_text).height)/2)});_css(Y.display_iconBackground,{top:((d-aN.skin.getSkinElement("display","background").height)/2),left:((c-aN.skin.getSkinElement("display","background").width)/2)});if(aQ!=c||az!=d){aQ=c;az=d;aR=undefined;al()}if(!aN.jwGetFullscreen()){ax=c;ad=d}aS();aF({})};this.show=function(){if(aO){aO=false;aC(aN.jwGetState())}};this.hide=function(){if(!aO){ap();aO=true}};function au(c){aw=Y.display_image.naturalWidth;ab=Y.display_image.naturalHeight;aS();if(aN.jwGetState()==b.api.events.state.IDLE){_css(Y.display_image,{display:"block",opacity:0});_utils.fadeTo(Y.display_image,1,0.1)}at=false}function aS(){if(aN.jwGetFullscreen()&&aN.jwGetStretching()==b.utils.stretching.EXACTFIT){var c=document.createElement("div");_utils.stretch(b.utils.stretching.UNIFORM,c,aQ,az,ax,ad);_utils.stretch(b.utils.stretching.EXACTFIT,Y.display_image,_utils.parseDimension(c.style.width),_utils.parseDimension(c.style.height),aw,ab);_css(Y.display_image,{left:c.style.left,top:c.style.top})}else{_utils.stretch(aN.jwGetStretching(),Y.display_image,aQ,az,aw,ab)}}function ao(e,d){var c=document.createElement(e);c.id=aN.id+"_jwplayer_"+d;_css(c,an[d].style);return c}function aP(){for(var c in Y){if(_utils.exists(an[c].click)){Y[c].onclick=an[c].click}}}function aI(c){if(typeof c.preventDefault!="undefined"){c.preventDefault()}else{c.returnValue=false}if(typeof aJ=="function"){aJ(c);return}else{if(aN.jwGetState()!=b.api.events.state.PLAYING){aN.jwPlay()}else{aN.jwPause()}}}function aa(c){if(aq){ap();return}Y.display_icon.style.backgroundImage=(["url(",aN.skin.getSkinElement("display",c).src,")"]).join("");_css(Y.display_icon,{width:aN.skin.getSkinElement("display",c).width,height:aN.skin.getSkinElement("display",c).height,top:(aN.skin.getSkinElement("display","background").height-aN.skin.getSkinElement("display",c).height)/2,left:(aN.skin.getSkinElement("display","background").width-aN.skin.getSkinElement("display",c).width)/2});aT();if(_utils.exists(aN.skin.getSkinElement("display",c+"Over"))){Y.display_icon.onmouseover=function(d){Y.display_icon.style.backgroundImage=["url(",aN.skin.getSkinElement("display",c+"Over").src,")"].join("")};Y.display_icon.onmouseout=function(d){Y.display_icon.style.backgroundImage=["url(",aN.skin.getSkinElement("display",c).src,")"].join("")}}else{Y.display_icon.onmouseover=null;Y.display_icon.onmouseout=null}}function ap(){if(a.icons.toString()=="true"){_hide(Y.display_icon);_hide(Y.display_iconBackground);ac()}}function aT(){if(!aO&&a.icons.toString()=="true"){_show(Y.display_icon);_show(Y.display_iconBackground);al()}}function aE(c){aq=true;ap();Y.display_text.innerHTML=c.message;_show(Y.display_text);Y.display_text.style.top=((az-_utils.getBoundingClientRect(Y.display_text).height)/2)+"px"}function am(){Z=false;Y.display_image.style.display="none"}function af(){aA=""}function aF(d){if((d.type==b.api.events.JWPLAYER_PLAYER_STATE||d.type==b.api.events.JWPLAYER_PLAYLIST_ITEM)&&aq){aq=false;_hide(Y.display_text)}var c=aN.jwGetState();if(c==aA){return}aA=c;if(ar>=0){clearTimeout(ar)}if(ag||aN.jwGetState()==b.api.events.state.PLAYING||aN.jwGetState()==b.api.events.state.PAUSED){aC(aN.jwGetState())}else{ar=setTimeout(aK(aN.jwGetState()),500)}}function aK(c){return(function(){aC(c)})}function aC(c){if(_utils.exists(ai)){clearInterval(ai);ai=null;_utils.animations.rotate(Y.display_icon,0)}switch(c){case b.api.events.state.BUFFERING:if(_utils.isIPod()){am();ap()}else{if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider=="sound"){ay()}aB=0;ai=setInterval(function(){aB+=ah;_utils.animations.rotate(Y.display_icon,aB%360)},aD);aa("bufferIcon");ag=true}break;case b.api.events.state.PAUSED:if(!_utils.isIPod()){if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider!="sound"){_css(Y.display_image,{background:"transparent no-repeat center center"})}aa("playIcon");ag=true}break;case b.api.events.state.IDLE:if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]&&aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].image){ay()}else{am()}aa("playIcon");ag=true;break;default:if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]&&aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider=="sound"){if(_utils.isIPod()){am();ag=false}else{ay()}}else{am();ag=false}if(aN.jwGetMute()&&a.showmute){aa("muteIcon")}else{ap()}break}ar=-1}function ay(){if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]){var c=aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].image;if(c){if(c!=aG){aG=c;Y.display_image.style.display="none";at=true;Y.display_image.src=_utils.getAbsolutePath(c)}else{if(!(at||Z)){Z=true;Y.display_image.style.opacity=0;Y.display_image.style.display="block";_utils.fadeTo(Y.display_image,1,0.1)}}}}}function av(c){return function(){if(!aH){return}if(!aO&&aR!=c){aR=c;aj.sendEvent(c,{component:"display",boundingRect:_utils.getDimensions(Y.display_iconBackground)})}}}var al=av(b.api.events.JWPLAYER_COMPONENT_SHOW);var ac=av(b.api.events.JWPLAYER_COMPONENT_HIDE);this.setAlternateClickHandler=function(c){aJ=c};this.revertAlternateClickHandler=function(){aJ=undefined};return this}})(jwplayer);(function(e){var f=e.utils;var d=f.css;e.html5.dock=function(H,P){function c(){return{align:e.html5.view.positions.RIGHT}}var X=f.extend({},c(),P);if(X.align=="FALSE"){return}var ab={};var V=[];var aa;var L;var ae=false;var Q=false;var ad={x:0,y:0,width:0,height:0};var a;var W;var b;var Y=new e.html5.eventdispatcher();f.extend(this,Y);var R=document.createElement("div");R.id=H.id+"_jwplayer_dock";R.style.opacity=1;U();H.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,T);this.getDisplayElement=function(){return R};this.setButton=function(g,k,j,h){if(!k&&ab[g]){f.arrays.remove(V,g);R.removeChild(ab[g].div);delete ab[g]}else{if(k){if(!ab[g]){ab[g]={}}ab[g].handler=k;ab[g].outGraphic=j;ab[g].overGraphic=h;if(!ab[g].div){V.push(g);ab[g].div=document.createElement("div");ab[g].div.style.position="absolute";R.appendChild(ab[g].div);ab[g].div.appendChild(document.createElement("div"));ab[g].div.childNodes[0].style.position="relative";ab[g].div.childNodes[0].style.width="100%";ab[g].div.childNodes[0].style.height="100%";ab[g].div.childNodes[0].style.zIndex=10;ab[g].div.childNodes[0].style.cursor="pointer";ab[g].div.appendChild(document.createElement("img"));ab[g].div.childNodes[1].style.position="absolute";ab[g].div.childNodes[1].style.left=0;ab[g].div.childNodes[1].style.top=0;if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}ab[g].div.childNodes[1].style.zIndex=9;ab[g].div.childNodes[1].style.cursor="pointer";ab[g].div.onmouseover=function(){if(ab[g].overGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].overGraphic)}if(H.skin.getSkinElement("dock","buttonOver")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","buttonOver").src}};ab[g].div.onmouseout=function(){if(ab[g].outGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].outGraphic)}if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}};if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}}if(ab[g].outGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].outGraphic)}else{if(ab[g].overGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].overGraphic)}}if(k){ab[g].div.onclick=function(l){l.preventDefault();e(H.id).callback(g);if(ab[g].overGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].overGraphic)}if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}}}}}Z(aa,L)};function ac(g){return"url("+g+") no-repeat center center"}function N(g){}function Z(u,h){U();if(V.length>0){var t=10;var j=t;var m=-1;var l=H.skin.getSkinElement("dock","button").height;var n=H.skin.getSkinElement("dock","button").width;var p=u-n-t;var k,q;if(X.align==e.html5.view.positions.LEFT){m=1;p=t}for(var s=0;s<V.length;s++){var g=Math.floor(j/h);if((j+l+t)>((g+1)*h)){j=((g+1)*h)+t;g=Math.floor(j/h)}var r=ab[V[s]].div;r.style.top=(j%h)+"px";r.style.left=(p+(H.skin.getSkinElement("dock","button").width+t)*g*m)+"px";var o={x:f.parseDimension(r.style.left),y:f.parseDimension(r.style.top),width:n,height:l};if(!k||(o.x<=k.x&&o.y<=k.y)){k=o}if(!q||(o.x>=q.x&&o.y>=q.y)){q=o}r.style.width=n+"px";r.style.height=l+"px";j+=H.skin.getSkinElement("dock","button").height+t}ad={x:k.x,y:k.y,width:q.x-k.x+q.width,height:k.y-q.y+q.height}}if(Q!=H.jwGetFullscreen()||aa!=u||L!=h){aa=u;L=h;Q=H.jwGetFullscreen();a=undefined;setTimeout(O,1)}}function ag(g){return function(){if(!ae&&a!=g&&V.length>0){a=g;Y.sendEvent(g,{component:"dock",boundingRect:ad})}}}function T(g){if(f.isMobile()){if(g.newstate==e.api.events.state.IDLE){I()}else{af()}}else{S()}}function S(g){if(ae){return}clearTimeout(b);if(P.position==e.html5.view.positions.OVER||H.jwGetFullscreen()){switch(H.jwGetState()){case e.api.events.state.PAUSED:case e.api.events.state.IDLE:if(R&&R.style.opacity<1&&(!P.idlehide||f.exists(g))){M()}if(P.idlehide){b=setTimeout(function(){K()},2000)}break;default:if(f.exists(g)){M()}b=setTimeout(function(){K()},2000);break}}else{M()}}var O=ag(e.api.events.JWPLAYER_COMPONENT_SHOW);var J=ag(e.api.events.JWPLAYER_COMPONENT_HIDE);this.resize=Z;var I=function(){d(R,{display:"block"});if(ae){ae=false;O()}};var af=function(){d(R,{display:"none"});if(!ae){J();ae=true}};function K(){if(!ae){J();if(R.style.opacity==1){f.cancelAnimation(R);f.fadeTo(R,0,0.1,1,0)}}}function M(){if(!ae){O();if(R.style.opacity==0){f.cancelAnimation(R);f.fadeTo(R,1,0.1,0,0)}}}function U(){try{W=document.getElementById(H.id);W.addEventListener("mousemove",S)}catch(g){f.log("Could not add mouse listeners to dock: "+g)}}this.hide=af;this.show=I;return this}})(jwplayer);(function(b){b.html5.eventdispatcher=function(e,a){var f=new b.events.eventdispatcher(a);b.utils.extend(this,f);this.sendEvent=function(d,c){if(!b.utils.exists(c)){c={}}b.utils.extend(c,{id:e,version:b.version,type:d});f.sendEvent(d,c)}}})(jwplayer);(function(d){var c=d.utils;d.html5.instream=function(K,af,M,a){var U={controlbarseekable:"always",controlbarpausable:true,controlbarstoppable:true,playlistclickable:true};var Q,ac,X=K,T=af,ai=M,O=a,Y,N,ad,P,am,al,ak,ag,aa,aj=false,ah,an,ae=this;this.load=function(g,f){ao();aj=true;ac=c.extend(U,f);Q=d.html5.playlistitem(g);S();an=document.createElement("div");an.id=ae.id+"_instream_container";O.detachMedia();Y=ak.getDisplayElement();al=T.playlist[T.item];am=X.jwGetState();if(am==d.api.events.state.BUFFERING||am==d.api.events.state.PLAYING){Y.pause()}N=Y.src?Y.src:Y.currentSrc;ad=Y.innerHTML;P=Y.currentTime;aa=new d.html5.display(ae,c.extend({},T.plugins.config.display));aa.setAlternateClickHandler(function(h){if(_fakemodel.state==d.api.events.state.PAUSED){ae.jwInstreamPlay()}else{V(d.api.events.JWPLAYER_INSTREAM_CLICK,h)}});an.appendChild(aa.getDisplayElement());if(!c.isMobile()){ag=new d.html5.controlbar(ae,c.extend({},T.plugins.config.controlbar,{}));if(T.plugins.config.controlbar.position==d.html5.view.positions.OVER){an.appendChild(ag.getDisplayElement())}else{var e=T.plugins.object.controlbar.getDisplayElement().parentNode;e.appendChild(ag.getDisplayElement())}}ai.setupInstream(an,Y);ab();ak.load(Q)};this.jwInstreamDestroy=function(f){if(!aj){return}aj=false;if(am!=d.api.events.state.IDLE){ak.load(al,false);ak.stop(false)}else{ak.stop(true)}ak.detachMedia();ai.destroyInstream();if(ag){try{ag.getDisplayElement().parentNode.removeChild(ag.getDisplayElement())}catch(e){}}V(d.api.events.JWPLAYER_INSTREAM_DESTROYED,{reason:(f?"complete":"destroyed")},true);O.attachMedia();if(am==d.api.events.state.BUFFERING||am==d.api.events.state.PLAYING){Y.play();if(T.playlist[T.item]==al){T.getMedia().seek(P)}}return};this.jwInstreamAddEventListener=function(f,e){ah.addEventListener(f,e)};this.jwInstreamRemoveEventListener=function(f,e){ah.removeEventListener(f,e)};this.jwInstreamPlay=function(){if(!aj){return}ak.play(true)};this.jwInstreamPause=function(){if(!aj){return}ak.pause(true)};this.jwInstreamSeek=function(e){if(!aj){return}ak.seek(e)};this.jwInstreamGetState=function(){if(!aj){return undefined}return _fakemodel.state};this.jwInstreamGetPosition=function(){if(!aj){return undefined}return _fakemodel.position};this.jwInstreamGetDuration=function(){if(!aj){return undefined}return _fakemodel.duration};this.playlistClickable=function(){return(!aj||ac.playlistclickable.toString().toLowerCase()=="true")};function W(){_fakemodel=new d.html5.model(this,T.getMedia()?T.getMedia().getDisplayElement():T.container,T);ah=new d.html5.eventdispatcher();X.jwAddEventListener(d.api.events.JWPLAYER_RESIZE,ab);X.jwAddEventListener(d.api.events.JWPLAYER_FULLSCREEN,ab)}function ao(){_fakemodel.setMute(T.mute);_fakemodel.setVolume(T.volume)}function S(){if(!ak){ak=new d.html5.mediavideo(_fakemodel,T.getMedia()?T.getMedia().getDisplayElement():T.container);ak.addGlobalListener(L);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_META,b);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,R);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER_FULL,Z)}ak.attachMedia()}function L(e){if(aj){V(e.type,e)}}function Z(e){if(aj){ak.play()}}function R(e){if(aj){setTimeout(function(){ae.jwInstreamDestroy(true)},10)}}function b(e){if(e.metadata.width&&e.metadata.height){ai.resizeMedia()}}function V(f,e,g){if(aj||g){ah.sendEvent(f,e)}}function ab(){var f=T.plugins.object.display.getDisplayElement().style;if(ag){var e=T.plugins.object.controlbar.getDisplayElement().style;ag.resize(c.parseDimension(f.width),c.parseDimension(e.height));_css(ag.getDisplayElement(),c.extend({},e,{zIndex:1001,opacity:1}))}if(aa){aa.resize(c.parseDimension(f.width),c.parseDimension(f.height));_css(aa.getDisplayElement(),c.extend({},f,{zIndex:1000}))}if(ai){ai.resizeMedia()}}this.jwPlay=function(e){if(ac.controlbarpausable.toString().toLowerCase()=="true"){this.jwInstreamPlay()}};this.jwPause=function(e){if(ac.controlbarpausable.toString().toLowerCase()=="true"){this.jwInstreamPause()}};this.jwStop=function(){if(ac.controlbarstoppable.toString().toLowerCase()=="true"){this.jwInstreamDestroy();X.jwStop()}};this.jwSeek=function(e){switch(ac.controlbarseekable.toLowerCase()){case"always":this.jwInstreamSeek(e);break;case"backwards":if(_fakemodel.position>e){this.jwInstreamSeek(e)}break}};this.jwGetPosition=function(){};this.jwGetDuration=function(){};this.jwGetWidth=X.jwGetWidth;this.jwGetHeight=X.jwGetHeight;this.jwGetFullscreen=X.jwGetFullscreen;this.jwSetFullscreen=X.jwSetFullscreen;this.jwGetVolume=function(){return T.volume};this.jwSetVolume=function(e){ak.volume(e);X.jwSetVolume(e)};this.jwGetMute=function(){return T.mute};this.jwSetMute=function(e){ak.mute(e);X.jwSetMute(e)};this.jwGetState=function(){return _fakemodel.state};this.jwGetPlaylist=function(){return[Q]};this.jwGetPlaylistIndex=function(){return 0};this.jwGetStretching=function(){return T.config.stretching};this.jwAddEventListener=function(e,f){ah.addEventListener(e,f)};this.jwRemoveEventListener=function(e,f){ah.removeEventListener(e,f)};this.skin=X.skin;this.id=X.id+"_instream";W();return this}})(jwplayer);(function(d){var c={prefix:"",file:"",link:"",linktarget:"_top",margin:8,out:0.5,over:1,timeout:5,hide:true,position:"bottom-left"};_css=d.utils.css;d.html5.logo=function(A,w){var x=A;var a;var J;var b;var F=false;G();function G(){z();x.jwAddEventListener(d.api.events.JWPLAYER_PLAYER_STATE,E);K();C()}function z(){if(c.prefix){var f=A.version.split(/\W/).splice(0,2).join("/");if(c.prefix.indexOf(f)<0){c.prefix+=f+"/"}}if(w.position==d.html5.view.positions.OVER){w.position=c.position}try{if(window.location.href.indexOf("https")==0){c.prefix=c.prefix.replace("http://l.longtailvideo.com","https://securel.longtailvideo.com")}}catch(e){}J=d.utils.extend({},c,w)}function K(){b=document.createElement("img");b.id=x.id+"_jwplayer_logo";b.style.display="none";b.onload=function(e){_css(b,D());y()};if(!J.file){return}if(J.file.indexOf("/")>=0){b.src=J.file}else{b.src=J.prefix+J.file}}if(!J.file){return}this.resize=function(e,f){};this.getDisplayElement=function(){return b};function C(){if(J.link){b.onmouseover=H;b.onmouseout=y;b.onclick=v}else{this.mouseEnabled=false}}function v(e){if(typeof e!="undefined"){e.stopPropagation()}if(!F){return}x.jwPause();x.jwSetFullscreen(false);if(J.link){window.open(J.link,J.linktarget)}return}function y(e){if(J.link&&F){b.style.opacity=J.out}return}function H(e){if(F){b.style.opacity=J.over}return}function D(){var e={textDecoration:"none",position:"absolute",cursor:"pointer"};e.display=(J.hide.toString()=="true"&&!F)?"none":"block";var f=J.position.toLowerCase().split("-");for(var g in f){e[f[g]]=parseInt(J.margin)}return e}function B(){if(J.hide.toString()=="true"){b.style.display="block";b.style.opacity=0;d.utils.fadeTo(b,J.out,0.1,parseFloat(b.style.opacity));a=setTimeout(function(){I()},J.timeout*1000)}F=true}function I(){F=false;if(J.hide.toString()=="true"){d.utils.fadeTo(b,0,0.1,parseFloat(b.style.opacity))}}function E(e){if(e.newstate==d.api.events.state.BUFFERING){clearTimeout(a);B()}}return this}})(jwplayer);(function(f){var j={ended:f.api.events.state.IDLE,playing:f.api.events.state.PLAYING,pause:f.api.events.state.PAUSED,buffering:f.api.events.state.BUFFERING};var h=f.utils;var g=h.isMobile();var k={};f.html5.mediavideo=function(aB,ad){var Z={abort:ak,canplay:au,canplaythrough:au,durationchange:ao,emptied:ak,ended:au,error:av,loadeddata:ao,loadedmetadata:ao,loadstart:au,pause:au,play:ak,playing:au,progress:af,ratechange:ak,seeked:au,seeking:au,stalled:au,suspend:au,timeupdate:V,volumechange:ay,waiting:au,canshowcurrentframe:ak,dataunavailable:ak,empty:ak,load:aC,loadedfirstframe:ak,webkitfullscreenchange:az};var Y=new f.html5.eventdispatcher();h.extend(this,Y);var aA=aB,ah=ad,ax,aD,ag,a,ae,W,X=false,ap=false,al=false,aa,ac,d;c();this.load=function(m,l){if(typeof l=="undefined"){l=true}if(!ap){return}a=m;al=(a.duration>0);aA.duration=a.duration;h.empty(ax);d=0;at(m.levels);if(m.levels&&m.levels.length>0){if(m.levels.length==1||h.isIOS()){ax.src=m.levels[0].file}else{if(ax.src){ax.removeAttribute("src")}for(var n=0;n<m.levels.length;n++){var o=ax.ownerDocument.createElement("source");o.src=m.levels[n].file;ax.appendChild(o);d++}}}else{ax.src=m.file}ax.style.display="block";ax.style.opacity=1;ax.volume=aA.volume/100;ax.muted=aA.mute;if(g){e()}aa=ac=ag=false;aA.buffer=0;if(!h.exists(m.start)){m.start=0}W=(m.start>0)?m.start:-1;aq(f.api.events.JWPLAYER_MEDIA_LOADED);if((!g&&m.levels.length==1)||!X){ax.load()}X=false;if(l){am(f.api.events.state.BUFFERING);aq(f.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});ai()}if(ax.videoWidth>0&&ax.videoHeight>0){ao()}};this.play=function(){if(!ap){return}ai();if(ac){am(f.api.events.state.PLAYING)}else{am(f.api.events.state.BUFFERING)}ax.play()};this.pause=function(){if(!ap){return}ax.pause();am(f.api.events.state.PAUSED)};this.seek=function(l){if(!ap){return}if(!ag&&ax.readyState>0){if(!(aA.duration<=0||isNaN(aA.duration))&&!(aA.position<=0||isNaN(aA.position))){ax.currentTime=l;ax.play()}}else{W=l}};var aj=this.stop=function(n){if(!ap){return}if(!h.exists(n)){n=true}ar();if(n){ac=false;var m=navigator.userAgent;if(ax.webkitSupportsFullscreen){try{ax.webkitExitFullscreen()}catch(l){}}ax.style.opacity=0;an();if(h.isIE()){ax.src=""}else{ax.removeAttribute("src")}h.empty(ax);ax.load();X=true}am(f.api.events.state.IDLE)};this.fullscreen=function(l){if(l===true){this.resize("100%","100%")}else{this.resize(aA.config.width,aA.config.height)}};this.resize=function(l,m){};this.volume=function(l){if(!g){ax.volume=l/100;aq(f.api.events.JWPLAYER_MEDIA_VOLUME,{volume:(l/100)})}};this.mute=function(l){if(!g){ax.muted=l;aq(f.api.events.JWPLAYER_MEDIA_MUTE,{mute:l})}};this.getDisplayElement=function(){return ax};this.hasChrome=function(){return g&&(aD==f.api.events.state.PLAYING)};this.detachMedia=function(){ap=false;return this.getDisplayElement()};this.attachMedia=function(){ap=true};function ab(l,m){return function(n){if(h.exists(n.target.parentNode)){m(n)}}}function c(){aD=f.api.events.state.IDLE;ap=true;ax=aw();ax.setAttribute("x-webkit-airplay","allow");if(ah.parentNode){ah.parentNode.replaceChild(ax,ah)}}function aw(){var m;if(!k[aA.id]){if(ah.tagName.toLowerCase()=="video"){m=ah}else{m=document.createElement("video")}k[aA.id]=m;if(!m.id){m.id=ah.id}for(var l in Z){m.addEventListener(l,ab(l,Z[l]),true)}}return k[aA.id]}function am(m){if(m==f.api.events.state.PAUSED&&aD==f.api.events.state.IDLE){return}if(g){switch(m){case f.api.events.state.PLAYING:e();break;case f.api.events.state.BUFFERING:case f.api.events.state.PAUSED:an();break}}if(aD!=m){var l=aD;aA.state=aD=m;aq(f.api.events.JWPLAYER_PLAYER_STATE,{oldstate:l,newstate:m})}}function ak(l){}function ay(m){var l=Math.round(ax.volume*100);aq(f.api.events.JWPLAYER_MEDIA_VOLUME,{volume:l},true);aq(f.api.events.JWPLAYER_MEDIA_MUTE,{mute:ax.muted},true)}function af(l){if(!ap){return}var m;if(h.exists(l)&&l.lengthComputable&&l.total){m=l.loaded/l.total*100}else{if(h.exists(ax.buffered)&&(ax.buffered.length>0)){var n=ax.buffered.length-1;if(n>=0){m=ax.buffered.end(n)/ax.duration*100}}}if(h.useNativeFullscreen()&&h.exists(ax.webkitDisplayingFullscreen)){if(aA.fullscreen!=ax.webkitDisplayingFullscreen){aq(f.api.events.JWPLAYER_FULLSCREEN,{fullscreen:ax.webkitDisplayingFullscreen},true)}}if(ac===false&&aD==f.api.events.state.BUFFERING){aq(f.api.events.JWPLAYER_MEDIA_BUFFER_FULL);ac=true}if(!aa){if(m==100){aa=true}if(h.exists(m)&&(m>aA.buffer)){aA.buffer=Math.round(m);aq(f.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:Math.round(m)})}}}function V(l){if(!ap){return}if(h.exists(l)&&h.exists(l.target)){if(al>0){if(!isNaN(l.target.duration)&&(isNaN(aA.duration)||aA.duration<1)){if(l.target.duration==Infinity){aA.duration=0}else{aA.duration=Math.round(l.target.duration*10)/10}}}if(!ag&&ax.readyState>0){am(f.api.events.state.PLAYING)}if(aD==f.api.events.state.PLAYING){if(ax.readyState>0&&(W>-1||!ag)){ag=true;try{if(ax.currentTime!=W&&W>-1){ax.currentTime=W;W=-1}}catch(m){}ax.volume=aA.volume/100;ax.muted=aA.mute}aA.position=aA.duration>0?(Math.round(l.target.currentTime*10)/10):0;aq(f.api.events.JWPLAYER_MEDIA_TIME,{position:aA.position,duration:aA.duration});if(aA.position>=aA.duration&&(aA.position>0||aA.duration>0)){U();return}}}af(l)}function aC(l){}function au(l){if(!ap){return}if(j[l.type]){if(l.type=="ended"){U()}else{am(j[l.type])}}}function ao(m){if(!ap){return}var n=Math.round(ax.duration*10)/10;var l={height:ax.videoHeight,width:ax.videoWidth,duration:n};if(!al){if((aA.duration<n||isNaN(aA.duration))&&ax.duration!=Infinity){aA.duration=n}}aq(f.api.events.JWPLAYER_MEDIA_META,{metadata:l})}function av(l){if(!ap){return}if(aD==f.api.events.state.IDLE){return}var m="There was an error: ";if((l.target.error&&l.target.tagName.toLowerCase()=="video")||l.target.parentNode.error&&l.target.parentNode.tagName.toLowerCase()=="video"){var n=!h.exists(l.target.error)?l.target.parentNode.error:l.target.error;switch(n.code){case n.MEDIA_ERR_ABORTED:h.log("User aborted the video playback.");return;case n.MEDIA_ERR_NETWORK:m="A network error caused the video download to fail part-way: ";break;case n.MEDIA_ERR_DECODE:m="The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";break;case n.MEDIA_ERR_SRC_NOT_SUPPORTED:m="The video could not be loaded, either because the server or network failed or because the format is not supported: ";break;default:m="An unknown error occurred: ";break}}else{if(l.target.tagName.toLowerCase()=="source"){d--;if(d>0){return}if(h.userAgentMatch(/firefox/i)){h.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");aj(false);return}else{m="The video could not be loaded, either because the server or network failed or because the format is not supported: "}}else{h.log("An unknown error occurred.  Continuing...");return}}aj(false);m+=b();_error=true;aq(f.api.events.JWPLAYER_ERROR,{message:m});return}function b(){var l="";for(var m in a.levels){var n=a.levels[m];var o=ah.ownerDocument.createElement("source");l+=f.utils.getAbsolutePath(n.file);if(m<(a.levels.length-1)){l+=", "}}return l}function ai(){if(!h.exists(ae)){ae=setInterval(function(){af()},100)}}function ar(){clearInterval(ae);ae=null}function U(){if(aD==f.api.events.state.PLAYING){aj(false);aq(f.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE);aq(f.api.events.JWPLAYER_MEDIA_COMPLETE)}}function az(l){if(h.exists(ax.webkitDisplayingFullscreen)){if(aA.fullscreen&&!ax.webkitDisplayingFullscreen){aq(f.api.events.JWPLAYER_FULLSCREEN,{fullscreen:false},true)}}}function at(l){if(l.length>0&&h.userAgentMatch(/Safari/i)){var n=-1;for(var m=0;m<l.length;m++){switch(h.extension(l[m].file)){case"mp4":if(n<0){n=m}break;case"webm":l.splice(m,1);break}}if(n>0){var o=l.splice(n,1)[0];l.unshift(o)}}}function e(){setTimeout(function(){ax.setAttribute("controls","controls")},100)}function an(){setTimeout(function(){ax.removeAttribute("controls")},250)}function aq(n,l,m){if(ap||m){if(l){Y.sendEvent(n,l)}else{Y.sendEvent(n)}}}}})(jwplayer);(function(e){var f={ended:e.api.events.state.IDLE,playing:e.api.events.state.PLAYING,pause:e.api.events.state.PAUSED,buffering:e.api.events.state.BUFFERING};var d=e.utils.css;e.html5.mediayoutube=function(r,v){var u=new e.html5.eventdispatcher();e.utils.extend(this,u);var p=r;var s=document.getElementById(v.id);var t=e.api.events.state.IDLE;var b,c;function q(h){if(t!=h){var g=t;p.state=h;t=h;u.sendEvent(e.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:h})}}this.getDisplayElement=this.detachMedia=function(){return s};this.attachMedia=function(){};this.play=function(){if(t==e.api.events.state.IDLE){u.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100});u.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER_FULL);q(e.api.events.state.PLAYING)}else{if(t==e.api.events.state.PAUSED){q(e.api.events.state.PLAYING)}}};this.pause=function(){q(e.api.events.state.PAUSED)};this.seek=function(g){};this.stop=function(g){if(!_utils.exists(g)){g=true}p.position=0;q(e.api.events.state.IDLE);if(g){d(s,{display:"none"})}};this.volume=function(g){p.setVolume(g);u.sendEvent(e.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(g)})};this.mute=function(g){s.muted=g;u.sendEvent(e.api.events.JWPLAYER_MEDIA_MUTE,{mute:g})};this.resize=function(g,h){if(g*h>0&&b){b.width=c.width=g;b.height=c.height=h}};this.fullscreen=function(g){if(g===true){this.resize("100%","100%")}else{this.resize(p.config.width,p.config.height)}};this.load=function(g){a(g);d(b,{display:"block"});q(e.api.events.state.BUFFERING);u.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});u.sendEvent(e.api.events.JWPLAYER_MEDIA_LOADED);this.play()};this.hasChrome=function(){return(t!=e.api.events.state.IDLE)};function a(g){var k=g.levels[0].file;k=["http://www.youtube.com/v/",w(k),"&amp;hl=en_US&amp;fs=1&autoplay=1"].join("");b=document.createElement("object");b.id=s.id;b.style.position="absolute";var h={movie:k,allowfullscreen:"true",allowscriptaccess:"always"};for(var n in h){var j=document.createElement("param");j.name=n;j.value=h[n];b.appendChild(j)}c=document.createElement("embed");b.appendChild(c);var m={src:k,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",width:b.width,height:b.height};for(var l in m){c.setAttribute(l,m[l])}b.appendChild(c);b.style.zIndex=2147483000;if(s!=b&&s.parentNode){s.parentNode.replaceChild(b,s)}s=b}function w(j){var k=j.split(/\?|\#\!/);var g="";for(var h=0;h<k.length;h++){if(k[h].substr(0,2)=="v="){g=k[h].substr(2)}}if(g==""){if(j.indexOf("/v/")>=0){g=j.substr(j.indexOf("/v/")+3)}else{if(j.indexOf("youtu.be")>=0){g=j.substr(j.indexOf("youtu.be/")+9)}else{g=j}}}if(g.indexOf("?")>-1){g=g.substr(0,g.indexOf("?"))}if(g.indexOf("&")>-1){g=g.substr(0,g.indexOf("&"))}return g}this.embed=c;return this}})(jwplayer);(function(jwplayer){var _configurableStateVariables=["width","height","start","duration","volume","mute","fullscreen","item","plugins","stretching"];var _utils=jwplayer.utils;jwplayer.html5.model=function(api,container,options){var _api=api;var _container=container;var _cookies=_utils.getCookies();var _model={id:_container.id,playlist:[],state:jwplayer.api.events.state.IDLE,position:0,buffer:0,container:_container,config:{width:480,height:320,item:-1,skin:undefined,file:undefined,image:undefined,start:0,duration:0,bufferlength:5,volume:_cookies.volume?_cookies.volume:90,mute:_cookies.mute&&_cookies.mute.toString().toLowerCase()=="true"?true:false,fullscreen:false,repeat:"",stretching:jwplayer.utils.stretching.UNIFORM,autostart:false,debug:undefined,screencolor:undefined}};var _media;var _eventDispatcher=new jwplayer.html5.eventdispatcher();var _components=["display","logo","controlbar","playlist","dock"];jwplayer.utils.extend(_model,_eventDispatcher);for(var option in options){if(typeof options[option]=="string"){var type=/color$/.test(option)?"color":null;options[option]=jwplayer.utils.typechecker(options[option],type)}var config=_model.config;var path=option.split(".");for(var edge in path){if(edge==path.length-1){config[path[edge]]=options[option]}else{if(!jwplayer.utils.exists(config[path[edge]])){config[path[edge]]={}}config=config[path[edge]]}}}for(var index in _configurableStateVariables){var configurableStateVariable=_configurableStateVariables[index];_model[configurableStateVariable]=_model.config[configurableStateVariable]}var pluginorder=_components.concat([]);if(jwplayer.utils.exists(_model.plugins)){if(typeof _model.plugins=="string"){var userplugins=_model.plugins.split(",");for(var userplugin in userplugins){if(typeof userplugins[userplugin]=="string"){pluginorder.push(userplugins[userplugin].replace(/^\s+|\s+$/g,""))}}}}if(jwplayer.utils.isMobile()){pluginorder=["display","logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list"}}else{if(_model.config.chromeless){pluginorder=["logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list"}}}_model.plugins={order:pluginorder,config:{},object:{}};if(typeof _model.config.components!="undefined"){for(var component in _model.config.components){_model.plugins.config[component]=_model.config.components[component]}}var playlistVisible=false;for(var pluginIndex in _model.plugins.order){var pluginName=_model.plugins.order[pluginIndex];var pluginConfig=!jwplayer.utils.exists(_model.plugins.config[pluginName])?{}:_model.plugins.config[pluginName];_model.plugins.config[pluginName]=!jwplayer.utils.exists(_model.plugins.config[pluginName])?pluginConfig:jwplayer.utils.extend(_model.plugins.config[pluginName],pluginConfig);if(!jwplayer.utils.exists(_model.plugins.config[pluginName].position)){if(pluginName=="playlist"){_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.NONE}else{_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.OVER}}else{if(pluginName=="playlist"){playlistVisible=true}_model.plugins.config[pluginName].position=_model.plugins.config[pluginName].position.toString().toUpperCase()}}if(_model.plugins.config.controlbar&&playlistVisible){_model.plugins.config.controlbar.hideplaylistcontrols=true}if(typeof _model.plugins.config.dock!="undefined"){if(typeof _model.plugins.config.dock!="object"){var position=_model.plugins.config.dock.toString().toUpperCase();_model.plugins.config.dock={position:position}}if(typeof _model.plugins.config.dock.position!="undefined"){_model.plugins.config.dock.align=_model.plugins.config.dock.position;_model.plugins.config.dock.position=jwplayer.html5.view.positions.OVER}if(typeof _model.plugins.config.dock.idlehide=="undefined"){try{_model.plugins.config.dock.idlehide=_model.plugins.config.controlbar.idlehide}catch(e){}}}function _loadExternal(playlistfile){var loader=new jwplayer.html5.playlistloader();loader.addEventListener(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,function(evt){_model.playlist=new jwplayer.html5.playlist(evt);_loadComplete(true)});loader.addEventListener(jwplayer.api.events.JWPLAYER_ERROR,function(evt){_model.playlist=new jwplayer.html5.playlist({playlist:[]});_loadComplete(false)});loader.load(playlistfile)}function _loadComplete(){if(_model.config.shuffle){_model.item=_getShuffleItem()}else{if(_model.config.item>=_model.playlist.length){_model.config.item=_model.playlist.length-1}else{if(_model.config.item<0){_model.config.item=0}}_model.item=_model.config.item}_model.position=0;_model.duration=_model.playlist.length>0?_model.playlist[_model.item].duration:0;_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:_model.playlist});_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_ITEM,{index:_model.item})}_model.loadPlaylist=function(arg){var input;if(typeof arg=="string"){if(arg.indexOf("[")==0||arg.indexOf("{")=="0"){try{input=eval(arg)}catch(err){input=arg}}else{input=arg}}else{input=arg}var config;switch(jwplayer.utils.typeOf(input)){case"object":config=input;break;case"array":config={playlist:input};break;default:config={file:input};break}_model.playlist=new jwplayer.html5.playlist(config);_model.item=_model.config.item>=0?_model.config.item:0;if(!_model.playlist[0].provider&&_model.playlist[0].file){_loadExternal(_model.playlist[0].file)}else{_loadComplete()}};function _getShuffleItem(){var result=null;if(_model.playlist.length>1){while(!jwplayer.utils.exists(result)){result=Math.floor(Math.random()*_model.playlist.length);if(result==_model.item){result=null}}}else{result=0}return result}function forward(evt){switch(evt.type){case jwplayer.api.events.JWPLAYER_MEDIA_LOADED:_container=_media.getDisplayElement();break;case jwplayer.api.events.JWPLAYER_MEDIA_MUTE:this.mute=evt.mute;break;case jwplayer.api.events.JWPLAYER_MEDIA_VOLUME:this.volume=evt.volume;break}_eventDispatcher.sendEvent(evt.type,evt)}var _mediaProviders={};_model.setActiveMediaProvider=function(playlistItem){if(playlistItem.provider=="audio"){playlistItem.provider="sound"}var provider=playlistItem.provider;var current=_media?_media.getDisplayElement():null;if(provider=="sound"||provider=="http"||provider==""){provider="video"}if(!jwplayer.utils.exists(_mediaProviders[provider])){switch(provider){case"video":_media=new jwplayer.html5.mediavideo(_model,current?current:_container);break;case"youtube":_media=new jwplayer.html5.mediayoutube(_model,current?current:_container);break}if(!jwplayer.utils.exists(_media)){return false}_media.addGlobalListener(forward);_mediaProviders[provider]=_media}else{if(_media!=_mediaProviders[provider]){if(_media){_media.stop()}_media=_mediaProviders[provider]}}return true};_model.getMedia=function(){return _media};_model.seek=function(pos){_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_MEDIA_SEEK,{position:_model.position,offset:pos});return _media.seek(pos)};_model.setVolume=function(newVol){_utils.saveCookie("volume",newVol);_model.volume=newVol};_model.setMute=function(state){_utils.saveCookie("mute",state);_model.mute=state};_model.setupPlugins=function(){if(!jwplayer.utils.exists(_model.plugins)||!jwplayer.utils.exists(_model.plugins.order)||_model.plugins.order.length==0){jwplayer.utils.log("No plugins to set up");return _model}for(var i=0;i<_model.plugins.order.length;i++){try{var pluginName=_model.plugins.order[i];if(jwplayer.utils.exists(jwplayer.html5[pluginName])){if(pluginName=="playlist"){_model.plugins.object[pluginName]=new jwplayer.html5.playlistcomponent(_api,_model.plugins.config[pluginName])}else{_model.plugins.object[pluginName]=new jwplayer.html5[pluginName](_api,_model.plugins.config[pluginName])}}else{_model.plugins.order.splice(plugin,plugin+1)}if(typeof _model.plugins.object[pluginName].addGlobalListener=="function"){_model.plugins.object[pluginName].addGlobalListener(forward)}}catch(err){jwplayer.utils.log("Could not setup "+pluginName)}}};return _model}})(jwplayer);(function(b){b.html5.playlist=function(a){var e=[];if(a.playlist&&a.playlist instanceof Array&&a.playlist.length>0){for(var f in a.playlist){if(!isNaN(parseInt(f))){e.push(new b.html5.playlistitem(a.playlist[f]))}}}else{e.push(new b.html5.playlistitem(a))}return e}})(jwplayer);(function(e){var f={size:180,position:e.html5.view.positions.NONE,itemheight:60,thumbs:true,fontcolor:"#000000",overcolor:"",activecolor:"",backgroundcolor:"#f8f8f8",font:"_sans",fontsize:"",fontstyle:"",fontweight:""};var d={_sans:"Arial, Helvetica, sans-serif",_serif:"Times, Times New Roman, serif",_typewriter:"Courier New, Courier, monospace"};_utils=e.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"})};_show=function(a){_css(a,{display:"block"})};e.html5.playlistcomponent=function(L,K){var c=L;var Z=e.utils.extend({},f,c.skin.getComponentSettings("playlist"),K);if(Z.position==e.html5.view.positions.NONE||typeof e.html5.view.positions[Z.position]=="undefined"){return}var b;var T;var J;var aa;var X;var Y;var U=-1;var W={background:undefined,item:undefined,itemOver:undefined,itemImage:undefined,itemActive:undefined};this.getDisplayElement=function(){return b};this.resize=function(g,j){T=g;J=j;if(c.jwGetFullscreen()){_hide(b)}else{var h={display:"block",width:T,height:J};_css(b,h)}};this.show=function(){_show(b)};this.hide=function(){_hide(b)};function V(){b=document.createElement("div");b.id=c.id+"_jwplayer_playlistcomponent";b.style.overflow="hidden";switch(Z.position){case e.html5.view.positions.RIGHT:case e.html5.view.positions.LEFT:b.style.width=Z.size+"px";break;case e.html5.view.positions.TOP:case e.html5.view.positions.BOTTOM:b.style.height=Z.size+"px";break}M();if(W.item){Z.itemheight=W.item.height}b.style.backgroundColor="#C6C6C6";c.jwAddEventListener(e.api.events.JWPLAYER_PLAYLIST_LOADED,I);c.jwAddEventListener(e.api.events.JWPLAYER_PLAYLIST_ITEM,F);c.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,S)}function P(){var g=document.createElement("ul");_css(g,{width:b.style.width,minWidth:b.style.width,height:b.style.height,backgroundColor:Z.backgroundcolor,backgroundImage:W.background?"url("+W.background.src+")":"",color:Z.fontcolor,listStyle:"none",margin:0,padding:0,fontFamily:d[Z.font]?d[Z.font]:d._sans,fontSize:(Z.fontsize?Z.fontsize:11)+"px",fontStyle:Z.fontstyle,fontWeight:Z.fontweight,overflowY:"auto"});return g}function a(g){return function(){var k=Y.getElementsByClassName("item")[g];var j=Z.fontcolor;var h=W.item?"url("+W.item.src+")":"";if(g==c.jwGetPlaylistIndex()){if(Z.activecolor!==""){j=Z.activecolor}if(W.itemActive){h="url("+W.itemActive.src+")"}}_css(k,{color:Z.overcolor!==""?Z.overcolor:j,backgroundImage:W.itemOver?"url("+W.itemOver.src+")":h})}}function Q(g){return function(){var k=Y.getElementsByClassName("item")[g];var j=Z.fontcolor;var h=W.item?"url("+W.item.src+")":"";if(g==c.jwGetPlaylistIndex()){if(Z.activecolor!==""){j=Z.activecolor}if(W.itemActive){h="url("+W.itemActive.src+")"}}_css(k,{color:j,backgroundImage:h})}}function N(o){var g=aa[o];var h=document.createElement("li");h.className="item";_css(h,{height:Z.itemheight,display:"block",cursor:"pointer",backgroundImage:W.item?"url("+W.item.src+")":"",backgroundSize:"100% "+Z.itemheight+"px"});h.onmouseover=a(o);h.onmouseout=Q(o);var n=document.createElement("div");var r=new Image();var m=0;var l=0;var k=0;if(E()&&(g.image||g["playlist.image"]||W.itemImage)){r.className="image";if(W.itemImage){m=(Z.itemheight-W.itemImage.height)/2;l=W.itemImage.width;k=W.itemImage.height}else{l=Z.itemheight*4/3;k=Z.itemheight}_css(n,{height:k,width:l,"float":"left",styleFloat:"left",cssFloat:"left",margin:"0 5px 0 0",background:"black",overflow:"hidden",margin:m+"px",position:"relative"});_css(r,{position:"relative"});n.appendChild(r);r.onload=function(){e.utils.stretch(e.utils.stretching.FILL,r,l,k,this.naturalWidth,this.naturalHeight)};if(g["playlist.image"]){r.src=g["playlist.image"]}else{if(g.image){r.src=g.image}else{if(W.itemImage){r.src=W.itemImage.src}}}h.appendChild(n)}var s=T-l-m*2;if(J<Z.itemheight*aa.length){s-=15}var t=document.createElement("div");_css(t,{position:"relative",height:"100%",overflow:"hidden"});var q=document.createElement("span");if(g.duration>0){q.className="duration";_css(q,{fontSize:(Z.fontsize?Z.fontsize:11)+"px",fontWeight:(Z.fontweight?Z.fontweight:"bold"),width:"40px",height:Z.fontsize?Z.fontsize+10:20,lineHeight:24,"float":"right",styleFloat:"right",cssFloat:"right"});q.innerHTML=_utils.timeFormat(g.duration);t.appendChild(q)}var j=document.createElement("span");j.className="title";_css(j,{padding:"5px 5px 0 "+(m?0:"5px"),height:Z.fontsize?Z.fontsize+10:20,lineHeight:Z.fontsize?Z.fontsize+10:20,overflow:"hidden","float":"left",styleFloat:"left",cssFloat:"left",width:((g.duration>0)?s-50:s)-10+"px",fontSize:(Z.fontsize?Z.fontsize:13)+"px",fontWeight:(Z.fontweight?Z.fontweight:"bold")});j.innerHTML=g?g.title:"";t.appendChild(j);if(g.description){var p=document.createElement("span");p.className="description";_css(p,{display:"block","float":"left",styleFloat:"left",cssFloat:"left",margin:0,paddingLeft:j.style.paddingLeft,paddingRight:j.style.paddingRight,lineHeight:(Z.fontsize?Z.fontsize+4:16)+"px",overflow:"hidden",position:"relative"});p.innerHTML=g.description;t.appendChild(p)}h.appendChild(t);return h}function I(j){b.innerHTML="";aa=H();if(!aa){return}items=[];Y=P();for(var h=0;h<aa.length;h++){var k=N(h);k.onclick=O(h);Y.appendChild(k);items.push(k)}U=c.jwGetPlaylistIndex();Q(U)();b.appendChild(Y);if(_utils.isIOS()&&window.iScroll){Y.style.height=Z.itemheight*aa.length+"px";var g=new iScroll(b.id)}}function H(){var h=c.jwGetPlaylist();var g=[];for(var j=0;j<h.length;j++){if(!h[j]["ova.hidden"]){g.push(h[j])}}return g}function O(g){return function(){c.jwPlaylistItem(g);c.jwPlay(true)}}function R(){Y.scrollTop=c.jwGetPlaylistIndex()*Z.itemheight}function E(){return Z.thumbs.toString().toLowerCase()=="true"}function F(g){if(U>=0){Q(U)();U=g.index}Q(g.index)();R()}function S(){if(Z.position==e.html5.view.positions.OVER){switch(c.jwGetState()){case e.api.events.state.IDLE:_show(b);break;default:_hide(b);break}}}function M(){for(var g in W){W[g]=G(g)}}function G(g){return c.skin.getSkinElement("playlist",g)}V();return this}})(jwplayer);(function(c){c.html5.playlistitem=function(b){var a={author:"",date:"",description:"",image:"",link:"",mediaid:"",tags:"",title:"",provider:"",file:"",streamer:"",duration:-1,start:0,currentLevel:-1,levels:[]};var f=c.utils.extend({},a,b);if(f.type){f.provider=f.type;delete f.type}if(f.levels.length===0){f.levels[0]=new c.html5.playlistitemlevel(f)}if(!f.provider){f.provider=d(f.levels[0])}else{f.provider=f.provider.toLowerCase()}return f};function d(b){if(c.utils.isYouTube(b.file)){return"youtube"}else{var a=c.utils.extension(b.file);var h;if(a&&c.utils.extensionmap[a]){if(a=="m3u8"){return"video"}h=c.utils.extensionmap[a].html5}else{if(b.type){h=b.type}}if(h){var g=h.split("/")[0];if(g=="audio"){return"sound"}else{if(g=="video"){return g}}}}return""}})(jwplayer);(function(b){b.html5.playlistitemlevel=function(a){var e={file:"",streamer:"",bitrate:0,width:0};for(var f in e){if(b.utils.exists(a[f])){e[f]=a[f]}}return e}})(jwplayer);(function(b){b.html5.playlistloader=function(){var f=new b.html5.eventdispatcher();b.utils.extend(this,f);this.load=function(c){b.utils.ajax(c,e,a)};function e(d){var j=[];try{var j=b.utils.parsers.rssparser.parse(d.responseXML.firstChild);f.sendEvent(b.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:new b.html5.playlist({playlist:j})})}catch(c){a("Could not parse the playlist")}}function a(c){f.sendEvent(b.api.events.JWPLAYER_ERROR,{message:c?c:"Could not load playlist an unknown reason."})}}})(jwplayer);(function(b){b.html5.skin=function(){var a={};var d=false;this.load=function(f,c){new b.html5.skinloader(f,function(e){d=true;a=e;c()},function(){new b.html5.skinloader("",function(e){d=true;a=e;c()})})};this.getSkinElement=function(h,g){if(d){try{return a[h].elements[g]}catch(c){b.utils.log("No such skin component / element: ",[h,g])}}return null};this.getComponentSettings=function(c){if(d&&a&&a[c]){return a[c].settings}return null};this.getComponentLayout=function(c){if(d){return a[c].layout}return null}}})(jwplayer);(function(b){b.html5.skinloader=function(D,u,z){var v={};var G=u;var y=z;var E=true;var A;var w=D;var I=false;function x(){if(typeof w!="string"||w===""){F(b.html5.defaultSkin().xml)}else{b.utils.ajax(b.utils.getAbsolutePath(w),function(d){try{if(b.utils.exists(d.responseXML)){F(d.responseXML);return}}catch(c){B()}F(b.html5.defaultSkin().xml)},function(c){F(b.html5.defaultSkin().xml)})}}function F(m){var U=m.getElementsByTagName("component");if(U.length===0){return}for(var p=0;p<U.length;p++){var W=U[p].getAttribute("name");var X={settings:{},elements:{},layout:{}};v[W]=X;var s=U[p].getElementsByTagName("elements")[0].getElementsByTagName("element");for(var S=0;S<s.length;S++){H(s[S],W)}var k=U[p].getElementsByTagName("settings")[0];if(k&&k.childNodes.length>0){var j=k.getElementsByTagName("setting");for(var d=0;d<j.length;d++){var c=j[d].getAttribute("name");var n=j[d].getAttribute("value");var o=/color$/.test(c)?"color":null;v[W].settings[c]=b.utils.typechecker(n,o)}}var h=U[p].getElementsByTagName("layout")[0];if(h&&h.childNodes.length>0){var g=h.getElementsByTagName("group");for(var q=0;q<g.length;q++){var Y=g[q];v[W].layout[Y.getAttribute("position")]={elements:[]};for(var e=0;e<Y.attributes.length;e++){var V=Y.attributes[e];v[W].layout[Y.getAttribute("position")][V.name]=V.value}var f=Y.getElementsByTagName("*");for(var r=0;r<f.length;r++){var T=f[r];v[W].layout[Y.getAttribute("position")].elements.push({type:T.tagName});for(var R=0;R<T.attributes.length;R++){var l=T.attributes[R];v[W].layout[Y.getAttribute("position")].elements[r][l.name]=l.value}if(!b.utils.exists(v[W].layout[Y.getAttribute("position")].elements[r].name)){v[W].layout[Y.getAttribute("position")].elements[r].name=T.tagName}}}}E=false;a()}}function a(){clearInterval(A);if(!I){A=setInterval(function(){t()},100)}}function H(k,d){var e=new Image();var h=k.getAttribute("name");var f=k.getAttribute("src");var c;if(f.indexOf("data:image/png;base64,")===0){c=f}else{var g=b.utils.getAbsolutePath(w);var j=g.substr(0,g.lastIndexOf("/"));c=[j,d,f].join("/")}v[d].elements[h]={height:0,width:0,src:"",ready:false,image:e};e.onload=function(l){C(e,h,d)};e.onerror=function(l){I=true;a();y()};e.src=c}function B(){for(var f in v){var d=v[f];for(var g in d.elements){var c=d.elements[g];var e=c.image;e.onload=null;e.onerror=null;delete c.image;delete d.elements[g]}delete v[f]}}function t(){for(var d in v){if(d!="properties"){for(var c in v[d].elements){if(!v[d].elements[c].ready){return}}}}if(E===false){clearInterval(A);G(v)}}function C(e,c,d){if(v[d]&&v[d].elements[c]){v[d].elements[c].height=e.height;v[d].elements[c].width=e.width;v[d].elements[c].src=e.src;v[d].elements[c].ready=true;a()}else{b.utils.log("Loaded an image for a missing element: "+d+"."+c)}}x()}})(jwplayer);(function(b){b.html5.api=function(B,a){var r={};var x=document.createElement("div");B.parentNode.replaceChild(x,B);x.id=B.id;r.version=b.version;r.id=x.id;var s=new b.html5.model(r,x,a);var u=new b.html5.view(r,x,s);var t=new b.html5.controller(r,x,s,u);r.skin=new b.html5.skin();r.jwPlay=function(c){if(typeof c=="undefined"){y()}else{if(c.toString().toLowerCase()=="true"){t.play()}else{t.pause()}}};r.jwPause=function(c){if(typeof c=="undefined"){y()}else{if(c.toString().toLowerCase()=="true"){t.pause()}else{t.play()}}};function y(){if(s.state==b.api.events.state.PLAYING||s.state==b.api.events.state.BUFFERING){t.pause()}else{t.play()}}r.jwStop=t.stop;r.jwSeek=t.seek;r.jwPlaylistItem=function(c){if(A){if(A.playlistClickable()){A.jwInstreamDestroy();return t.item(c)}}else{return t.item(c)}};r.jwPlaylistNext=t.next;r.jwPlaylistPrev=t.prev;r.jwResize=t.resize;r.jwLoad=t.load;r.jwDetachMedia=t.detachMedia;r.jwAttachMedia=t.attachMedia;function v(c){return function(){return s[c]}}function z(e,c,d){return function(){var f=s.plugins.object[e];if(f&&f[c]&&typeof f[c]=="function"){f[c].apply(f,d)}}}r.jwGetPlaylistIndex=v("item");r.jwGetPosition=v("position");r.jwGetDuration=v("duration");r.jwGetBuffer=v("buffer");r.jwGetWidth=v("width");r.jwGetHeight=v("height");r.jwGetFullscreen=v("fullscreen");r.jwSetFullscreen=t.setFullscreen;r.jwGetVolume=v("volume");r.jwSetVolume=t.setVolume;r.jwGetMute=v("mute");r.jwSetMute=t.setMute;r.jwGetStretching=function(){return s.stretching.toUpperCase()};r.jwGetState=v("state");r.jwGetVersion=function(){return r.version};r.jwGetPlaylist=function(){return s.playlist};r.jwAddEventListener=t.addEventListener;r.jwRemoveEventListener=t.removeEventListener;r.jwSendEvent=t.sendEvent;r.jwDockSetButton=function(c,f,e,d){if(s.plugins.object.dock&&s.plugins.object.dock.setButton){s.plugins.object.dock.setButton(c,f,e,d)}};r.jwControlbarShow=z("controlbar","show");r.jwControlbarHide=z("controlbar","hide");r.jwDockShow=z("dock","show");r.jwDockHide=z("dock","hide");r.jwDisplayShow=z("display","show");r.jwDisplayHide=z("display","hide");var A;r.jwLoadInstream=function(c,d){if(!A){A=new b.html5.instream(r,s,u,t)}setTimeout(function(){A.load(c,d)},10)};r.jwInstreamDestroy=function(){if(A){A.jwInstreamDestroy()}};r.jwInstreamAddEventListener=q("jwInstreamAddEventListener");r.jwInstreamRemoveEventListener=q("jwInstreamRemoveEventListener");r.jwInstreamGetState=q("jwInstreamGetState");r.jwInstreamGetDuration=q("jwInstreamGetDuration");r.jwInstreamGetPosition=q("jwInstreamGetPosition");r.jwInstreamPlay=q("jwInstreamPlay");r.jwInstreamPause=q("jwInstreamPause");r.jwInstreamSeek=q("jwInstreamSeek");function q(c){return function(){if(A&&typeof A[c]=="function"){return A[c].apply(this,arguments)}else{_utils.log("Could not call instream method - instream API not initialized")}}}r.jwGetLevel=function(){};r.jwGetBandwidth=function(){};r.jwGetLockState=function(){};r.jwLock=function(){};r.jwUnlock=function(){};function C(){if(s.config.playlistfile){s.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,w);s.loadPlaylist(s.config.playlistfile)}else{if(typeof s.config.playlist=="string"){s.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,w);s.loadPlaylist(s.config.playlist)}else{s.loadPlaylist(s.config);setTimeout(w,25)}}}function w(c){s.removeEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,w);s.setupPlugins();u.setup();var c={id:r.id,version:r.version};t.playerReady(c)}if(s.config.chromeless&&!b.utils.isIOS()){C()}else{r.skin.load(s.config.skin,C)}return r}})(jwplayer)};
;!function($){$(function(){"use strict"
$.support.transition=(function(){var thisBody=document.body||document.documentElement,thisStyle=thisBody.style,support=thisStyle.transition!==undefined||thisStyle.WebkitTransition!==undefined||thisStyle.MozTransition!==undefined||thisStyle.MsTransition!==undefined||thisStyle.OTransition!==undefined
return support&&{end:(function(){var transitionEnd="TransitionEnd"
if($.browser.webkit){transitionEnd="webkitTransitionEnd"}else if($.browser.mozilla){transitionEnd="transitionend"}else if($.browser.opera){transitionEnd="oTransitionEnd"}
return transitionEnd}())}})()})}(window.jQuery);
;!function($){"use strict"
var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on('click',dismiss,this.close)}
Alert.prototype={constructor:Alert,close:function(e){var $this=$(this),selector=$this.attr('data-target'),$parent
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
$parent=$(selector)
$parent.trigger('close')
e&&e.preventDefault()
$parent.length||($parent=$this.hasClass('alert')?$this:$this.parent())
$parent.trigger('close').removeClass('in')
function removeElement(){$parent.trigger('closed').remove()}
$.support.transition&&$parent.hasClass('fade')?$parent.on($.support.transition.end,removeElement):removeElement()}}
$.fn.alert=function(option){return this.each(function(){var $this=$(this),data=$this.data('alert')
if(!data)$this.data('alert',(data=new Alert(this)))
if(typeof option=='string')data[option].call($this)})}
$.fn.alert.Constructor=Alert
$(function(){$('body').on('click.alert.data-api',dismiss,Alert.prototype.close)})}(window.jQuery);
;!function($){"use strict"
var Modal=function(content,options){this.options=options
this.$element=$(content).delegate('[data-dismiss="modal"]','click.dismiss.modal',$.proxy(this.hide,this))}
Modal.prototype={constructor:Modal,toggle:function(){return this[!this.isShown?'show':'hide']()},show:function(){var that=this
if(this.isShown)return
$('body').addClass('modal-open')
this.isShown=true
this.$element.trigger('show')
escape.call(this)
backdrop.call(this,function(){var transition=$.support.transition&&that.$element.hasClass('fade');!that.$element.parent().length&&that.$element.appendTo(document.body)
that.$element.show()
if(transition){that.$element[0].offsetWidth}
that.$element.addClass('in')
transition?that.$element.one($.support.transition.end,function(){that.$element.trigger('shown')}):that.$element.trigger('shown')})},hide:function(e){e&&e.preventDefault()
if(!this.isShown)return
var that=this
this.isShown=false
$('body').removeClass('modal-open')
escape.call(this)
this.$element.trigger('hide').removeClass('in')
$.support.transition&&this.$element.hasClass('fade')?hideWithTransition.call(this):hideModal.call(this)}}
function hideWithTransition(){var that=this,timeout=setTimeout(function(){that.$element.off($.support.transition.end)
hideModal.call(that)},500)
this.$element.one($.support.transition.end,function(){clearTimeout(timeout)
hideModal.call(that)})}
function hideModal(that){this.$element.hide().trigger('hidden')
backdrop.call(this)}
function backdrop(callback){var that=this,animate=this.$element.hasClass('fade')?'fade':''
if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate
this.$backdrop=$('<div class="modal-backdrop '+animate+'" />').appendTo(document.body)
if(this.options.backdrop!='static'){this.$backdrop.click($.proxy(this.hide,this))}
if(doAnimate)this.$backdrop[0].offsetWidth
this.$backdrop.addClass('in')
doAnimate?this.$backdrop.one($.support.transition.end,callback):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass('in')
$.support.transition&&this.$element.hasClass('fade')?this.$backdrop.one($.support.transition.end,$.proxy(removeBackdrop,this)):removeBackdrop.call(this)}else if(callback){callback()}}
function removeBackdrop(){this.$backdrop.remove()
this.$backdrop=null}
function escape(){var that=this
if(this.isShown&&this.options.keyboard){$(document).on('keyup.dismiss.modal',function(e){e.which==27&&that.hide()})}else if(!this.isShown){$(document).off('keyup.dismiss.modal')}}
$.fn.modal=function(option){return this.each(function(){var $this=$(this),data=$this.data('modal'),options=$.extend({},$.fn.modal.defaults,$this.data(),typeof option=='object'&&option)
if(!data)$this.data('modal',(data=new Modal(this,options)))
if(typeof option=='string')data[option]()
else if(options.show)data.show()})}
$.fn.modal.defaults={backdrop:true,keyboard:true,show:true}
$.fn.modal.Constructor=Modal
$(function(){$('body').on('click.modal.data-api','[data-toggle="modal"]',function(e){var $this=$(this),href,$target=$($this.attr('data-target')||(href=$this.attr('href'))&&href.replace(/.*(?=#[^\s]+$)/,'')),option=$target.data('modal')?'toggle':$.extend({},$target.data(),$this.data())
e.preventDefault()
$target.modal(option)})})}(window.jQuery);
;!function($){"use strict"
var toggle='[data-toggle="dropdown"]',Dropdown=function(element){var $el=$(element).on('click.dropdown.data-api',this.toggle)
$('html').on('click.dropdown.data-api',function(){$el.parent().removeClass('open')})}
Dropdown.prototype={constructor:Dropdown,toggle:function(e){var $this=$(this),selector=$this.attr('data-target'),$parent,isActive
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
$parent=$(selector)
$parent.length||($parent=$this.parent())
isActive=$parent.hasClass('open')
clearMenus();!isActive&&$parent.toggleClass('open')
return false}}
function clearMenus(){$(toggle).parent().removeClass('open')}
$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data('dropdown')
if(!data)$this.data('dropdown',(data=new Dropdown(this)))
if(typeof option=='string')data[option].call($this)})}
$.fn.dropdown.Constructor=Dropdown
$(function(){$('html').on('click.dropdown.data-api',clearMenus)
$('body').on('click.dropdown.data-api',toggle,Dropdown.prototype.toggle)})}(window.jQuery);
;!function($){"use strict"
var Tab=function(element){this.element=$(element)}
Tab.prototype={constructor:Tab,show:function(){var $this=this.element,$ul=$this.closest('ul:not(.dropdown-menu)'),selector=$this.attr('data-target'),previous,$target
if(!selector){selector=$this.attr('href')
selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,'')}
if($this.parent('li').hasClass('active'))return
previous=$ul.find('.active a').last()[0]
$this.trigger({type:'show',relatedTarget:previous})
$target=$(selector)
this.activate($this.parent('li'),$ul)
this.activate($target,$target.parent(),function(){$this.trigger({type:'shown',relatedTarget:previous})})},activate:function(element,container,callback){var $active=container.find('> .active'),transition=callback&&$.support.transition&&$active.hasClass('fade')
function next(){$active.removeClass('active').find('> .dropdown-menu > .active').removeClass('active')
element.addClass('active')
if(transition){element[0].offsetWidth
element.addClass('in')}else{element.removeClass('fade')}
if(element.parent('.dropdown-menu')){element.closest('li.dropdown').addClass('active')}
callback&&callback()}
transition?$active.one($.support.transition.end,next):next()
$active.removeClass('in')}}
$.fn.tab=function(option){return this.each(function(){var $this=$(this),data=$this.data('tab')
if(!data)$this.data('tab',(data=new Tab(this)))
if(typeof option=='string')data[option]()})}
$.fn.tab.Constructor=Tab
$(function(){$('body').on('click.tab.data-api','[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault()
$(this).tab('show')})})}(window.jQuery);
;!function($){"use strict"
var Tooltip=function(element,options){this.init('tooltip',element,options)}
Tooltip.prototype={constructor:Tooltip,init:function(type,element,options){var eventIn,eventOut
this.type=type
this.$element=$(element)
this.options=this.getOptions(options)
this.enabled=true
if(this.options.trigger!='manual'){eventIn=this.options.trigger=='hover'?'mouseenter':'focus'
eventOut=this.options.trigger=='hover'?'mouseleave':'blur'
this.$element.on(eventIn,this.options.selector,$.proxy(this.enter,this))
this.$element.on(eventOut,this.options.selector,$.proxy(this.leave,this))}
this.options.selector?(this._options=$.extend({},this.options,{trigger:'manual',selector:''})):this.fixTitle()},getOptions:function(options){options=$.extend({},$.fn[this.type].defaults,options,this.$element.data())
if(options.delay&&typeof options.delay=='number'){options.delay={show:options.delay,hide:options.delay}}
return options},enter:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type)
if(!self.options.delay||!self.options.delay.show){self.show()}else{self.hoverState='in'
setTimeout(function(){if(self.hoverState=='in'){self.show()}},self.options.delay.show)}},leave:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type)
if(!self.options.delay||!self.options.delay.hide){self.hide()}else{self.hoverState='out'
setTimeout(function(){if(self.hoverState=='out'){self.hide()}},self.options.delay.hide)}},show:function(){var $tip,inside,pos,actualWidth,actualHeight,placement,tp
if(this.hasContent()&&this.enabled){$tip=this.tip()
this.setContent()
if(this.options.animation){$tip.addClass('fade')}
placement=typeof this.options.placement=='function'?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement
inside=/in/.test(placement)
$tip.remove().css({top:0,left:0,display:'block'}).appendTo(inside?this.$element:document.body)
pos=this.getPosition(inside)
actualWidth=$tip[0].offsetWidth
actualHeight=$tip[0].offsetHeight
switch(inside?placement.split(' ')[1]:placement){case'bottom':tp={top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}
break
case'top':tp={top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}
break
case'left':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}
break
case'right':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}
break}
$tip.css(tp).addClass(placement).addClass('in')}},setContent:function(){var $tip=this.tip()
$tip.find('.tooltip-inner').html(this.getTitle())
$tip.removeClass('fade in top bottom left right')},hide:function(){var that=this,$tip=this.tip()
$tip.removeClass('in')
function removeWithAnimation(){var timeout=setTimeout(function(){$tip.off($.support.transition.end).remove()},500)
$tip.one($.support.transition.end,function(){clearTimeout(timeout)
$tip.remove()})}
$.support.transition&&this.$tip.hasClass('fade')?removeWithAnimation():$tip.remove()},fixTitle:function(){var $e=this.$element
if($e.attr('title')||typeof($e.attr('data-original-title'))!='string'){$e.attr('data-original-title',$e.attr('title')||'').removeAttr('title')}},hasContent:function(){return this.getTitle()},getPosition:function(inside){return $.extend({},(inside?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var title,$e=this.$element,o=this.options
title=$e.attr('data-original-title')||(typeof o.title=='function'?o.title.call($e[0]):o.title)
title=(title||'').toString().replace(/(^\s*|\s*$)/,"")
return title},tip:function(){return this.$tip=this.$tip||$(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide()
this.$element=null
this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass('in')?'hide':'show']()}}
$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data('tooltip'),options=typeof option=='object'&&option
if(!data)$this.data('tooltip',(data=new Tooltip(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.tooltip.Constructor=Tooltip
$.fn.tooltip.defaults={animation:true,delay:0,selector:false,placement:'top',trigger:'hover',title:'',template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery);
;!function($){"use strict"
var Popover=function(element,options){this.init('popover',element,options)}
Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype,{constructor:Popover,setContent:function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent()
$tip.find('.popover-title')[$.type(title)=='object'?'append':'html'](title)
$tip.find('.popover-content > *')[$.type(content)=='object'?'append':'html'](content)
$tip.removeClass('fade top bottom left right in')},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var content,$e=this.$element,o=this.options
content=$e.attr('data-content')||(typeof o.content=='function'?o.content.call($e[0]):o.content)
content=content.toString().replace(/(^\s*|\s*$)/,"")
return content},tip:function(){if(!this.$tip){this.$tip=$(this.options.template)}
return this.$tip}})
$.fn.popover=function(option){return this.each(function(){var $this=$(this),data=$this.data('popover'),options=typeof option=='object'&&option
if(!data)$this.data('popover',(data=new Popover(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.popover.Constructor=Popover
$.fn.popover.defaults=$.extend({},$.fn.tooltip.defaults,{placement:'right',content:'',template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery);
;!function($){"use strict"
var Button=function(element,options){this.$element=$(element)
this.options=$.extend({},$.fn.button.defaults,options)}
Button.prototype={constructor:Button,setState:function(state){var d='disabled',$el=this.$element,data=$el.data(),val=$el.is('input')?'val':'html'
state=state+'Text'
data.resetText||$el.data('resetText',$el[val]())
$el[val](data[state]||this.options[state])
setTimeout(function(){state=='loadingText'?$el.addClass(d).attr(d,d):$el.removeClass(d).removeAttr(d)},0)},toggle:function(){var $parent=this.$element.parent('[data-toggle="buttons-radio"]')
$parent&&$parent.find('.active').removeClass('active').removeClass('btn-success')
this.$element.toggleClass('active').toggleClass('btn-success')
if(LBN_NAV.mode!='table'){LBN_MEDIA.loadAllMedia(1);}else{LBN_TABLE.filter();}}}
$.fn.button=function(option){return this.each(function(){var $this=$(this),data=$this.data('button'),options=typeof option=='object'&&option
if(!data)$this.data('button',(data=new Button(this,options)))
if(option=='toggle')data.toggle()
else if(option)data.setState(option)})}
$.fn.button.defaults={loadingText:'loading...'}
$.fn.button.Constructor=Button
$(function(){$('body').on('click.button.data-api','[data-toggle^=button]',function(e){var $btn=$(e.target)
if(!$btn.hasClass('btn'))$btn=$btn.closest('.btn')
$btn.button('toggle')})})}(window.jQuery);
;!function($){"use strict"
var Typeahead=function(element,options){this.$element=$(element)
this.options=$.extend({},$.fn.typeahead.defaults,options)
this.matcher=this.options.matcher||this.matcher
this.sorter=this.options.sorter||this.sorter
this.highlighter=this.options.highlighter||this.highlighter
this.$menu=$(this.options.menu).appendTo('body')
this.source=this.options.source
this.shown=false
this.listen()}
Typeahead.prototype={constructor:Typeahead,select:function(){var val=this.$menu.find('.active').attr('data-value')
this.$element.val(val)
this.$element.change();return this.hide()},show:function(){var pos=$.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight})
this.$menu.css({top:pos.top+pos.height,left:pos.left})
this.$menu.show()
this.shown=true
return this},hide:function(){this.$menu.hide()
this.shown=false
return this},lookup:function(event){var that=this,items,q
this.query=this.$element.val()
if(!this.query){return this.shown?this.hide():this}
items=$.grep(this.source,function(item){if(that.matcher(item))return item})
items=this.sorter(items)
if(!items.length){return this.shown?this.hide():this}
return this.render(items.slice(0,this.options.items)).show()},matcher:function(item){return~item.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(items){var beginswith=[],caseSensitive=[],caseInsensitive=[],item
while(item=items.shift()){if(!item.toLowerCase().indexOf(this.query.toLowerCase()))beginswith.push(item)
else if(~item.indexOf(this.query))caseSensitive.push(item)
else caseInsensitive.push(item)}
return beginswith.concat(caseSensitive,caseInsensitive)},highlighter:function(item){return item.replace(new RegExp('('+this.query+')','ig'),function($1,match){return'<strong>'+match+'</strong>'})},render:function(items){var that=this
items=$(items).map(function(i,item){i=$(that.options.item).attr('data-value',item)
i.find('a').html(that.highlighter(item))
return i[0]})
items.first().addClass('active')
this.$menu.html(items)
return this},next:function(event){var active=this.$menu.find('.active').removeClass('active'),next=active.next()
if(!next.length){next=$(this.$menu.find('li')[0])}
next.addClass('active')},prev:function(event){var active=this.$menu.find('.active').removeClass('active'),prev=active.prev()
if(!prev.length){prev=this.$menu.find('li').last()}
prev.addClass('active')},listen:function(){this.$element.on('blur',$.proxy(this.blur,this)).on('keypress',$.proxy(this.keypress,this)).on('keyup',$.proxy(this.keyup,this))
if($.browser.webkit||$.browser.msie){this.$element.on('keydown',$.proxy(this.keypress,this))}
this.$menu.on('click',$.proxy(this.click,this)).on('mouseenter','li',$.proxy(this.mouseenter,this))},keyup:function(e){switch(e.keyCode){case 40:case 38:break
case 9:case 13:if(!this.shown)return
this.select()
break
case 27:if(!this.shown)return
this.hide()
break
default:this.lookup()}
e.stopPropagation()
e.preventDefault()},keypress:function(e){if(!this.shown)return
switch(e.keyCode){case 9:case 13:case 27:e.preventDefault()
break
case 38:e.preventDefault()
this.prev()
break
case 40:e.preventDefault()
this.next()
break}
e.stopPropagation()},blur:function(e){var that=this
setTimeout(function(){that.hide()},150)},click:function(e){e.stopPropagation()
e.preventDefault()
this.select()},mouseenter:function(e){this.$menu.find('.active').removeClass('active')
$(e.currentTarget).addClass('active')}}
$.fn.typeahead=function(option){return this.each(function(){var $this=$(this),data=$this.data('typeahead'),options=typeof option=='object'&&option
if(!data)$this.data('typeahead',(data=new Typeahead(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'}
$.fn.typeahead.Constructor=Typeahead
$(function(){$('body').on('focus.typeahead.data-api','[data-provide="typeahead"]',function(e){var $this=$(this)
if($this.data('typeahead'))return
e.preventDefault()
$this.typeahead($this.data())})})}(window.jQuery);
;var LBN_ADMIN_IMAGES=ABSOLUTE_PATH+'_img/admin/';var LBN_ADMIN_SWF=ABSOLUTE_PATH+'_swf/';var LBN_ADMIN_JWPLAYER_SKIN=LBN_ADMIN_SWF+'blueratio.zip';var LBN_ADMIN_JWPLAYER=LBN_ADMIN_SWF+'player.swf';var LBN_FILE_UPLOAD_URL_ADMIN=ABSOLUTE_UPLOAD_PATH;var LBN_VIDEO_PATH=ABSOLUTE_UPLOAD_PATH+'videos/';var LBN_FOLDER_DATA='data/';var LBN_PREFIX='lbn_';var LBN_DD=LBN_FOLDER_DATA+'data-delete.php';var LBN_DF=LBN_FOLDER_DATA+'data-form.php';var LBN_DT=LBN_FOLDER_DATA+'data-table.php';var LBN_DU=LBN_FOLDER_DATA+'data-update.php';var LBN_DO=LBN_FOLDER_DATA+'data-order.php';var LBN_DI=LBN_FOLDER_DATA+'data-insert.php';var LBN_DS=LBN_FOLDER_DATA+'data-select.php';var LBN_DFI=LBN_FOLDER_DATA+'data-filter.php';var LBN_DFILE=LBN_FOLDER_DATA+'data-upload.php';var LBN_DG=LBN_FOLDER_DATA+'data-json.php';var LBN_SUCCESS='W';var LBN_DELETE='u';var LBN_SORT='l';var LBN_WARNING='`';var LBN_ERROR='^';var LBN_INFO='_';var LBN_GRID='.media-grid';var LBN_TABLE='#table-item';$.cookie('guide','desactivado');var LBN_FILE={uploader:null};LBN_FILE.init=function(){};LBN_FILE.close=function(obj,data){var obj=$(obj);var id=obj.data('id');$('#box-'+id).unmask();var holder=$('#item_'+id).find('.group-upload');holder.html('').hide('slow');if(data){data=jQuery.parseJSON(data);oElem=$("#item_"+data.id);oElem.html('').addClass('edit');var templateID="#itemboxTemplate";switch(LBN_MEDIA.template){case'photo':templateID="#photoTemplate";break;case'banner':templateID="#photoTemplate";break}$(templateID).tmpl(data.aaData).appendTo(oElem);LBN_MEDIA.config();setTimeout('oElem.removeClass("edit")',8000)}else{}};LBN_FILE.oneFile1=function(obj){var obj=$(obj);var id=obj.data('id');var params=obj.data('params');var filter=obj.data('filters');filters=[{title:'Files',extensions:filter}];var paramTMPL={_ID_:id};$('#box-'+id).mask();var holder=$('#item_'+id).find('.group-upload');holder.html('').show();$("#uploadTemplate").tmpl(paramTMPL).appendTo(holder);LBN_FILE.uploader=new plupload.Uploader({runtimes:'html5',browse_button:'pickfiles_'+id,container:'container_upload_'+id,max_file_size:'10mb',url:LBN_DFILE,multiple_queues:false,resize:{width:1200,height:650,quality:95},filters:filters,preinit:{Init:function(up,info){},UploadFile:function(up,file){if(params){up.settings.url=LBN_DFILE+'?'+params+"&id="+id+"&table="+LBN_TABLE.tableName}}},init:{Refresh:function(up){},StateChanged:function(up){if(up.state==plupload.STOPPED){if(up.total.failed>0){$.msgbox('Close and Try Again',{type:"error"})}}},QueueChanged:function(up){},UploadProgress:function(up,file){$('#'+file.id).find('b').html('<span>'+file.percent+"%</span>")},FilesAdded:function(up,files){var max_files=1;if(files.length>max_files){up.splice();$.msgbox('You are allowed to add only <br><b>'+max_files+' file.</b>',{type:"alert"})}else{$('#filelist_'+id).html('<div id="'+files[0].id+'">'+files[0].name+' ('+plupload.formatSize(files[0].size)+') </br><b></b></div>');up.start()}},FilesRemoved:function(up,files){},FileUploaded:function(up,file,info){LBN_FILE.close(obj,info.response)},ChunkUploaded:function(up,file,info){},Error:function(up,args){if(args.file){}else{}$.msgbox(args.message,{type:"error"})}}});LBN_FILE.uploader.init()};LBN_FILE.multiFile1=function(obj){var script=LBN_DFILE;var obj=$(obj);var params=obj.data('params');if(params){script=script+'?'+params}var filter=obj.data('filters');filters=[{title:"Files",extensions:filter}];$("#multi-upload").remove();container=$('<div id="multi-upload" style="width:450px;height:auto;" />');$('#holder-queue-content').prepend(container).show();$("#multi-upload").pluploadQueue({runtimes:'html5,flash',url:script,max_file_size:'10mb',chunk_size:'1mb',filters:filters,resize:{width:1200,height:600,quality:100},flash_swf_url:LBN_ADMIN_SWF+'upload/plupload.flash.swf',init:{StateChanged:function(up){console.log('[StateChanged]',up.state==plupload.STARTED?"STARTED":"STOPPED");if(up.state==plupload.STOPPED){if(up.total.failed>0){$.msgbox('ERROR : Close and Try Again',{type:"error"})}else{if(up.files.length==up.total.uploaded){LBN_MEDIA.loadAllMedia(1);$('#holder-queue-close').click()}}}},QueueChanged:function(up){console.log('[QueueChanged]')},UploadProgress:function(up,file){},FilesAdded:function(up,files){},FilesRemoved:function(up,files){},FileUploaded:function(up,file,info){},Error:function(up,args){}}})};LBN_FILE.oneFileField=function(obj){var obj=$(obj);if(!obj.length){return}var id=obj.data('id');var aParam=new Array();aParam[0]="id="+id;aParam[1]="table="+LBN_TABLE.tableName;aParam[2]="type="+LBN_TABLE.type;var filters=obj.data('filters');if(!filters){filters=[{title:"Image files",extensions:"jpg,gif,png"}]}LBN_FILE.uploader=new plupload.Uploader({runtimes:'html5',browse_button:'pickfiles_'+id,container:'container_upload_'+id,max_file_size:'10mb',url:LBN_DFILE,multiple_queues:false,resize:{width:1200,height:650,quality:95},filters:filters,preinit:{Init:function(up,info){},UploadFile:function(up,file){if(aParam.length){up.settings.url=LBN_DFILE+'?'+aParam.join('&')}}},init:{Refresh:function(up){},StateChanged:function(up){if(up.state==plupload.STOPPED){if(up.total.failed>0){$.msgbox('Close and Try Again',{type:"error"})}}},QueueChanged:function(up){},UploadProgress:function(up,file){$('#'+file.id).find('b').html('<span>'+file.percent+"%</span>")},FilesAdded:function(up,files){var max_files=1;if(files.length>max_files){up.splice();$.msgbox('You are allowed to add only <br><b>'+max_files+' file.</b>',{type:"alert"})}else{$('#filelist_'+id).html('<div id="'+files[0].id+'">'+files[0].name+' ('+plupload.formatSize(files[0].size)+') </br><b></b></div>');up.start()}},FilesRemoved:function(up,files){},FileUploaded:function(up,file,info){LBN_FILE.closeFileField(obj,info.response)},Error:function(up,args){$.msgbox(args.message,{type:"error"})}}});LBN_FILE.uploader.init()};LBN_FILE.closeFileField=function(obj,data){var obj=$(obj);var id=obj.data('id');$('#filelist_'+id).html('');if(data){LBN_FILE.success(data)}};var LBN_FORM={};
LBN_FORM.openForm = function (id, extra, callback) {
    var aParam = new Array();
    aParam[0] = "id=" + id;
    aParam[1] = "table=" + LBN_TABLE.tableName;
    aParam[2] = extra;
    if (window.CKEDITOR) {
        var name = 'description';
        var editor = CKEDITOR.instances[name];
        if (editor) {
            editor.destroy(true)
        }
var name = 'contents_ess';
        var editor = CKEDITOR.instances[name];
        if (editor) {
            editor.destroy(true)
        }
	var name = 'contents_enn';
        var editor = CKEDITOR.instances[name];
        if (editor) {
            editor.destroy(true)
        }				
        var name = 'preview';
        var editor = CKEDITOR.instances[name];
        if (editor) {
            editor.destroy(true)
        }
    }
    var jqxhr = $.getJSON(LBN_DF, aParam.join('&'));
    jqxhr.success(function (data) {
        if (!data.error) {
            $('#oForm').html(data.html);
            LBN_FORM.openHolder()
        } else {
            LBN_UTIL.openMessage(data.msg, LBN_ERROR)
        }
    });
    jqxhr.complete(function () {
        eval(callback)
    })
};
LBN_FORM.openConfig=function(id,extra,type){var aParam=new Array();aParam[0]="id="+id;aParam[1]="table="+LBN_TABLE.tableName;aParam[2]=extra;LBN_UTIL.ajaxLoading();var jqxhr=$.post(LBN_DF,aParam.join('&'));jqxhr.success(function(data){LBN_FORM.success(data,true,type)});jqxhr.complete(function(){})};LBN_FORM.openHolder=function(id,form,callback){if(!id){form=true;id='#form-holder'}$(".content").mask();if(form){$("#oForm").validate();$('#form-tab').tabs()}if(callback){eval(callback)}$(id).animate({"top":LAYOUT_TOP},"faster")};LBN_FORM.sendForm=function(callback){if($("#oForm").valid()){var ltable=LBN_TABLE.tableName;if($('#ctable').length){ltable=$('#ctable').val()}if(window.CKEDITOR){for(instance in CKEDITOR.instances){CKEDITOR.instances[instance].updateElement()}}var aParam=new Array();aParam[0]="table="+ltable;aParam[1]=$('#oForm').serialize();var data=aParam.join('&');LBN_UTIL.ajaxLoading();var jqxhr=$.getJSON(LBN_DI,data);jqxhr.success(function(data){LBN_FORM.closeHolder('',data,callback)})}};LBN_FORM.sendFormWithEditor=function(callback){if($("#oForm").valid()){var ltable=LBN_TABLE.tableName;if($('#ctable').length){ltable=$('#ctable').val()}var name='description';var editor=CKEDITOR.instances[name];$('#description').val(editor.getData());console.log(editor.getData());var aParam=new Array();aParam[0]="table="+ltable;aParam[1]=$('#oForm').serialize();var data=aParam.join('&');LBN_UTIL.ajaxLoading();var jqxhr=$.getJSON(LBN_DI,data);jqxhr.success(function(data){LBN_FORM.closeHolder('',data,callback)})}};LBN_FORM.closeHolder=function(id,data,callback){if(!id){id='#form-holder'}m=$(id).height();$(id).animate({"top":"-"+(m+25)},"faster",function(){$(".content").unmask();if(data){LBN_FORM.success(data,callback)}else{if(callback){eval(callback)}}})};LBN_FORM.complete=function(data,msg){if(LBN_NAV.mode=='table'){if(data.reload){LBN_TABLE.table.fnStandingRedraw()}if(data.title){$('.page-header h2 span').html(data.title)}}else{oElem=$("#item_"+data.id);oElem.html('').addClass('edit');switch(LBN_MEDIA.template){case'photo':$("#photoTemplate").tmpl(data.aaData).appendTo("#item_"+data.id);break;case'text':$("#textTemplate").tmpl(data.aaData).appendTo("#item_"+data.id);break;default:$("#itemboxTemplate").tmpl(data.aaData).appendTo("#item_"+data.id);break}LBN_MEDIA.config();setTimeout('oElem.removeClass("edit")',8000)}$('#oForm').html('');LBN_UTIL.openMessage(msg,LBN_SUCCESS);return false};LBN_FORM.makeBox=function(obj){LBN_UTIL.ajaxLoading();var aParam=new Array();aParam[0]="table="+LBN_TABLE.tableName;aParam[1]=$(obj).data('params');var jqxhr=$.getJSON(LBN_DI,aParam.join('&'));jqxhr.success(function(data){if(LBN_NAV.mode!='table'){LBN_MEDIA.loadTemplate(data.aaData,LBN_NAV.contextName,true);LBN_MEDIA.config()}else{LBN_TABLE.table.fnStandingRedraw()}LBN_UTIL.openMessage(LBN_FORM_CREATE_MESSAGE,LBN_SUCCESS)});jqxhr.complete(function(){})};LBN_FORM.newElement=function(obj){LBN_UTIL.ajaxLoading();var aParam=new Array();aParam[0]="table="+LBN_TABLE.tableName;aParam[1]=$(obj).data('params');aParam[2]="type="+$(obj).data('type');var jqxhr=$.getJSON(LBN_DI,aParam.join('&'));jqxhr.success(function(data){if(LBN_NAV.mode!='table'){LBN_MEDIA.loadTemplate(data.aaData,LBN_NAV.contextName,true);LBN_MEDIA.config()}else{LBN_TABLE.table.fnStandingRedraw()}LBN_UTIL.openMessage(LBN_FORM_CREATE_MESSAGE,LBN_SUCCESS)});jqxhr.complete(function(){})};LBN_FORM.resizeHolder=function(){wd1=$('#form-holder').height();wd2=$(window).height()-60;if(wd1>wd2){wd=wd2-60;$('#form-content').css('height',wd+'px')}else{wd3=$('#form-content form').height();if(wd2>wd3){$('#form-content').css('height','auto')}}};LBN_FORM.showModal=function(mid){if($.cookie('modal-'+mid)=='desactivado'){$('#modal-'+mid).modal({keyboard:true,backdrop:'static',show:true});$.cookie('modal-'+mid,'activado')}else{$('#modal-'+mid).modal('show')}};var LBN_HELP={};LBN_HELP.init=function(){if($.cookie('guide')=='desactivado'){guidely.add({attachTo:'#select-all',anchor:'bottom_left',title:'Lista de Opciones',text:'Se puede realizar acciones solo con elementos seleccionados.'});guidely.add({attachTo:'#guide_2',anchor:'bottom_right',title:'Modo de Ordenado',text:'Activando este boton , se podra arrastrar y soltar el elemento hasta la ubicacion deseada.'});guidely.add({attachTo:'#guide_3',anchor:'bottom_right',title:'Boton',text:'En esta seccion siempre encontraras un boton que te permitira crear un elemento.'});guidely.add({attachTo:LBN_NAV.context,anchor:'middle-middle',title:'Contenido',text:'En esta seccion visualizaras todos los elementos registrados , asi como editar, eliminar cada elemtento.'});guidely.init({welcome:true,welcomeTitle:'Welcome',welcomeText:'content'});$.cookie('guide','activado')}else{$('.guidely-start-trigger').trigger('click')}};var LBN_MEDIA={extra:null,template:null};LBN_MEDIA.getLength=function(){return(LBN_NAV.mode=='table')?LBN_NAV.context.find('tr.selected').length:LBN_NAV.context.find('li.selected').length};LBN_MEDIA.getCount=function(){if(LBN_NAV.mode!='table'){$('.page-header .count').html(LBN_NAV.context.find('li.item').length+'<span>'+LBN_PAGE_HEADER_COUNT+'</span>')}};LBN_MEDIA.updateStatus=function(btn,setting){var aParam=new Array();aParam[0]='field='+setting.field;aParam[1]="table="+LBN_TABLE.tableName;if(setting.multi){aParam[2]=setting.field+'='+setting.value;aParam[3]=decodeURIComponent(setting.data)}else{aParam[2]='id='+$(btn).data('id')}LBN_UTIL.ajaxLoading();var jqxhr=$.getJSON(LBN_DU,aParam.join('&'));jqxhr.success(function(data){if(setting.multi){LBN_NAV.context.find('.selected').each(function(){var elem=$(this).find('.'+data.event);(data.enabled!=0)?elem.html(data.success).addClass(data.class):elem.html(data.nosuccess).removeClass(data.class)})}else{var elem=$('#'+data.event+'-'+data.id);(data.enabled!=0)?elem.html(data.success).addClass(data.class):elem.html(data.nosuccess).removeClass(data.class)}LBN_NAV.reset();LBN_UTIL.openMessage(LBN_STATUS_MESSAGE,LBN_SUCCESS)});return false};LBN_MEDIA.removeSelected=function(btn,setting){if(!setting.multi){setting.data='id='+$(btn).data('id')}LBN_UTIL.ajaxLoading();var del=$.post(LBN_DD,decodeURIComponent(setting.data)+'&table='+LBN_TABLE.tableName);del.success(function(response){if(LBN_NAV.mode=='table'){LBN_TABLE.table.fnStandingRedraw()}else{LBN_MEDIA.loadAllMedia(LBN_NAV.toogle.data('pager'))}LBN_UTIL.openMessage(LBN_DELETE_MESSAGE,LBN_DELETE);LBN_NAV.reset()})};LBN_MEDIA.previewMedia=function(btn,option){var src=$(btn).data('src');var type=$(btn).data('type');var title=$(btn).data('title');var arr=['photo','banner','box','logo'];if(jQuery.inArray(type,arr)!=-1){type='photo'}switch(type){case'photo':$.lightbox(LBN_FILE_UPLOAD_URL_ADMIN+src,{modal:true});break;case'photomanager':$.lightbox(ABSOLUTE_UPLOAD_PATH+src,{modal:true});break;case'file':$.lightbox(ABSOLUTE_UPLOAD_PATH+src,{iframe:true,width:800,height:520,title:title,modal:true});break;case'audio':$.lightbox(LBN_ADMIN_JWPLAYER,{force:'flash',flashvars:'file='+ABSOLUTE_UPLOAD_PATH+src+'&autostart=true&stretching=fill&skin='+LBN_ADMIN_JWPLAYER_SKIN,width:350,height:28,title:title,modal:true});break;case'video':if(LBN_UTIL.isExternal(src)){$.lightbox(src,{width:550,height:400,modal:true})}else{$.lightbox(LBN_ADMIN_SWF+'player.swf',{force:'flash',flashvars:'file='+ABSOLUTE_UPLOAD_PATH+src+'&autostart=true&stretching=fill&skin='+LBN_ADMIN_JWPLAYER_SKIN+'&controlbar.position=over',width:550,height:400,title:title,modal:true})}break;default:return false;break}};LBN_MEDIA.config=function(){if(LBN_MEDIA.template!='text'){$('.div-info').fadeable({target:'.info'})}else{$('.div-info .info').fadeTo('faster',1)}$('.grid-box').fadeable({target:'.group-edit'});$('.tooltip').remove();LBN_NAV.reset()};LBN_MEDIA.loadAllMedia=function(p){LBN_UTIL.ajaxLoading();var aParam=new Array();aParam[0]="table="+LBN_TABLE.tableName;aParam[1]='p='+p;aParam[2]='pager='+LBN_UTIL.calculatePager();aParam[3]=LBN_MEDIA.extra;jQuery.merge(aParam,LBN_NAV.filter());var jqxhr=$.getJSON(LBN_DG,aParam.join('&'));jqxhr.success(function(data){if(LBN_UTIL.displayError(data)){return}var obj=LBN_NAV.context;obj.html('');$("#paginator-media").remove();if(data.aaData.length){LBN_NAV.toogle.data('pager',p);LBN_MEDIA.loadTemplate(data.aaData,obj);LBN_MEDIA.config();obj.parent().append(data.paginator);if(data.sort){$('.box-mask,.nav-mask').mask();$('.item').addClass('select-order');LBN_NAV.reset();LBN_NAV.sortable()}else{$('.button-right,.dataTables_length,.nav-mask').unmask()}}LBN_UTIL.openLoading(false);LBN_MEDIA.getCount()})};LBN_MEDIA.loadTemplate=function(data,obj,prepend){switch(LBN_MEDIA.template){case'photo':if(prepend){$("#photoholderTemplate").tmpl(data).prependTo(obj)}else{$("#photoholderTemplate").tmpl(data).appendTo(obj)}break;case'text':if(prepend){$("#textholderTemplate").tmpl(data).prependTo(obj)}else{$("#textholderTemplate").tmpl(data).appendTo(obj)}break;default:if(prepend){$("#boxTemplate").tmpl(data).prependTo(obj)}else{$("#boxTemplate").tmpl(data).appendTo(obj)}break}};var LBN_NAV={toogle:$('#select-all'),context:null,contextName:'#table-item',classCheck:'.checks',mode:'grid',fixed:true,tab:false,rowNumber:2,winScroll:$(window),navHeader:$('.page-header-sub'),isFixed:0,navTop:$('.page-header-sub').length&&$('.page-header-sub').offset().top-40};LBN_NAV.init=function(){this.context=$(this.contextName)};LBN_NAV.selectAll=function(obj){var chck=$(obj).is(':checked');LBN_NAV.context.find(this.classCheck).attr('checked',chck);if(LBN_NAV.mode=='table'){var all=$(LBN_NAV.contextName+" tbody tr");(chck)?all.addClass("selected"):all.removeClass("selected")}else{(chck)?$('.item').addClass("selected"):$('.item').removeClass("selected")}LBN_NAV.countItem()};LBN_NAV.selectOne=function(obj){var oElem=(LBN_NAV.mode=='table')?$(obj).parent().parent():$(obj).parent().parent().parent().parent();($(obj).is(':checked'))?oElem.addClass("selected"):oElem.removeClass("selected");if($(this.classCheck).length==$(this.classCheck+":checked").length){LBN_NAV.toogle.prop({indeterminate:false,checked:true})}else{var st=true;if($(this.classCheck+":checked").length==0){st=false}LBN_NAV.toogle.prop({indeterminate:st,checked:false})}LBN_NAV.countItem()};LBN_NAV.reset=function(){LBN_NAV.toogle.prop({indeterminate:false,checked:false});LBN_NAV.countItem(0,true);if(LBN_NAV.mode!='table'){$('.item').removeClass("selected").find(LBN_NAV.classCheck).attr('checked',false)}};LBN_NAV.countItem=function(discount,hide){var elem=$('#nav-bubble');if(hide){elem.hide();return false}var count=LBN_MEDIA.getLength();if(count!=0){elem.show().html(count);if(discount){count-=discount}}else{elem.hide()}LBN_MEDIA.getCount()};LBN_NAV.actionSelected=function(obj,setting){var obj=$(obj);var field=obj.data('field');var value=obj.data('value');if(obj.data('type')=="select"){var checked=$('input:checked.'+LBN_NAV.classCheck);var action=obj.data('msg');if(checked.length==0){LBN_UTIL.openMessage(LBN_SELECT_MESSAGE,LBN_WARNING);return false}var msg=action+' '+LBN_ACTION_MESSAGE.replace('_COUNT_',checked.length);$.msgbox(msg,{type:"confirm"},function(result){if(result){switch(field){case'delete':LBN_MEDIA.removeSelected(obj,{data:checked.serialize(),multi:true});break;case'enabled':LBN_MEDIA.updateStatus(obj,{data:checked.serialize(),field:'enabled',value:value,multi:true});break;case'featured':LBN_MEDIA.updateStatus(obj,{data:checked.serialize(),field:'featured',value:value,multi:true});break;default:LBN_MEDIA.customUpdateStatus(obj,{data:checked.serialize(),field:field,value:value,multi:true});break}}else{}});return false}else{switch(field){case'delete':var msg=LBN_ONE_ACTION_MESSAGE.replace('_COUNT_',1);$.msgbox(msg,{type:"confirm"},function(result){if(result){LBN_MEDIA.removeSelected(obj,{multi:false})}});break;case'enabled':LBN_MEDIA.updateStatus(obj,{field:field,multi:false});break;case'featured':LBN_MEDIA.updateStatus(obj,{field:field,multi:false});break;default:LBN_MEDIA.customUpdateStatus(obj);break}}};LBN_NAV.filter=function(obj){var aParam=new Array();var i=0;$('.page-header-sub .btn-toolbar .filter').each(function(){var obj=$(this).find('.active');aParam[i]=obj.data('field')+'='+obj.data('value');i++});return aParam};LBN_NAV.processScroll=function(){var i,scrollTop=LBN_NAV.winScroll.scrollTop();if(scrollTop>=LBN_NAV.navTop&&!LBN_NAV.isFixed){LBN_NAV.isFixed=1;LBN_NAV.navHeader.addClass('page-header-sub-fixed')}else if(scrollTop<=LBN_NAV.navTop&&LBN_NAV.isFixed){LBN_NAV.isFixed=0;LBN_NAV.navHeader.removeClass('page-header-sub-fixed')}};LBN_NAV.sortable=function(){var settings={cursor:'move',helper:'clone',opacity:0.85,revert:true,tolerance:'pointer'};if(this.mode=='table'){console.log(this.mode);var todo=$(LBN_NAV.contextName+" tbody");LBN_NAV.context.find('tbody').remove();LBN_NAV.context.append(todo);settings.forcePlaceholderSize=true;settings.update=function(event,ui){data='';LBN_UTIL.ajaxLoading();tableContext=LBN_NAV.contextName+" tbody input:checkbox";$(tableContext).each(function(i){data+='&item[]='+$(this).attr('id')});$.post(LBN_DO,data+'&table='+LBN_TABLE.tableName,function(response){LBN_UTIL.openMessage(LBN_SORT_MESSAGE,LBN_SORT);LBN_TABLE.table.fnStandingRedraw()})};return $(LBN_NAV.contextName+" tbody").sortable(settings).disableSelection()}else{var parent=LBN_NAV.context.parent();LBN_NAV.context.remove();(LBN_NAV.tab)?parent.append(LBN_NAV.context):parent.prepend(LBN_NAV.context);settings.items=".item";settings.placeholder='ui-state-highlight';settings.update=function(){var order=LBN_NAV.context.sortable("serialize")+'&table='+LBN_TABLE.tableName;LBN_UTIL.ajaxLoading();$.post(LBN_DO,order,function(response){LBN_UTIL.openMessage(LBN_SORT_MESSAGE,LBN_SORT)})};return LBN_NAV.context.sortable(settings).disableSelection()}};LBN_NAV.sortToggle=function(id){if($(id).hasClass('active')){inactiveSort(id)}else{activeSort(id)}};function activeSort(id){$(id).toggleClass('btn-info').toggleClass('active').find('i').toggleClass('icon-white');if(LBN_NAV.mode=='table'){LBN_TABLE.table.fnSPaginate(false);$('.nav-mask,#table-item td .action-holder').mask();$('.dataTables_wrapper .row').hide();LBN_NAV.reset();LBN_NAV.sortable()}else{LBN_MEDIA.loadAllMedia(0)}};function inactiveSort(id){$(id).toggleClass('btn-info').toggleClass('active').find('i').toggleClass('icon-white');if(LBN_NAV.mode=='table'){LBN_TABLE.table.fnSPaginate(true);$('.nav-mask,#table-item td .action-holder').unmask();$('.dataTables_wrapper .row').show();$(LBN_NAV.contextName+" tbody").sortable("destroy")}else{LBN_NAV.context.sortable("destroy");LBN_MEDIA.loadAllMedia(1)}};LBN_TABLE={enabled:2,params:[{"name":"enabled","value":2},{"name":"type","value":"none"}],bDom:false,table:null,tableName:null,type:null,columnHide:[],buttonExport:["csv","xls"],bAutoWidth:false,bFilter:true,bLengthChange:true};LBN_TABLE.init=function(column,extra){var aParam=new Array();aParam[0]="column="+column;aParam[1]="table="+this.tableName;aParam[2]=extra;this.table=$(LBN_NAV.contextName).dataTable({"bProcessing":true,"bServerSide":true,"bPaginate":true,"bStateSave":false,"bLengthChange":LBN_TABLE.bLengthChange,"bFilter":LBN_TABLE.bFilter,"bAutoWidth":LBN_TABLE.bAutoWidth,"bSort":false,"aLengthMenu":[[10,25,50,100,-1],[10,25,50,100,"All"]],"aoColumnDefs":[{"bVisible":false,"aTargets":LBN_TABLE.columnHide}],"sDom":LBN_TABLE.dom(),"sPaginationType":"bootstrap","oLanguage":{"sLengthMenu":"_MENU_","sSearch":""},"oTableTools":{"aButtons":[{"sExtends":"collection","sButtonText":LBN_TABLE_EXPORT,"aButtons":LBN_TABLE.buttonExport}]},"oColVis":{"buttonText":"&nbsp;","bRestore":true,"sAlign":"right"},"fnInitComplete":function(){},"fnDrawCallback":function(){var oSettings=LBN_TABLE.table.fnSettings();$('.page-header .count').html(oSettings._iRecordsTotal+'<span>items</span>');LBN_TABLE.reset(oSettings.oFeatures.bPaginate);LBN_UTIL.openLoading(false)},"sAjaxSource":LBN_DT+"?"+aParam.join("&"),"fnServerData":function(sSource,aoData,fnCallback){LBN_UTIL.ajaxLoading();aoData=$.merge(aoData,LBN_TABLE.params);$.ajax({"dataType":'json',"type":"GET","url":sSource,"data":aoData,"success":fnCallback})}})};LBN_TABLE.dom=function(){var sDom="<'row'<'span4'l><'span6'f>r>t<'row'<'span4'i><'span6'p>>";if(this.bDom){sDom="<'row'<'span4 button-left'l><'span8 button-right' fT>r><'relative' C t ><'row'<'span4 button-left'i><'span8 button-right'p>>"}return sDom};LBN_TABLE.reset=function(umask){$('#nav-bubble').hide();LBN_TABLE.reloadHover();if(umask){$('.dataTables_wrapper').unmask()}};LBN_TABLE.overBox=function(){$(this).find('.action-holder').css('visibility','visible')};LBN_TABLE.leaveBox=function(){$(this).find('.action-holder').css('visibility','hidden')};LBN_TABLE.reloadHover=function(){tableContext=LBN_NAV.contextName+" tbody tr";$(tableContext).hover(LBN_TABLE.overBox,LBN_TABLE.leaveBox)};LBN_TABLE.removeItem=function(obj){var obj=$(obj);$.msgbox(LBN_TABLE_REMOVE,{type:"confirm"},function(result){if(result){var del=$.get(LBN_DD,{table:LBN_TABLE.tableName,id:obj.data('id')});del.success(function(data){LBN_TABLE.table.fnStandingRedraw()})}})};LBN_TABLE.filter=function(){var aParam=new Array();var i=0;$('.page-header-sub .btn-toolbar .filter').each(function(){var obj=$(this).find('.active');aParam.push({"name":obj.data('field'),"value":obj.data('value')})});LBN_TABLE.params=aParam;LBN_NAV.reset();$('.dataTables_wrapper').mask();this.table.fnStandingRedraw();LBN_MEDIA.getCount()};var LBN_UTIL={startTime:null};LBN_UTIL.getType=function(str){icon='none';if(str.match(/youtube\.com\/watch/i)){icon='youtube'}else if(str.match(/vimeo\.com/i)){icon='vimeo'}else if(str.match(/\.(jpg|jpeg|gif|png|bmp|tiff)(.*)?$/i)){icon='photo'}else if(str.match(/\.(mp4|mov)(.*)?$/i)){icon='video'}else if(str.match(/\.(mp3)(.*)?$/i)){icon='audio'}else if(str.match(/\.(pdf|doc|xls)(.*)?$/i)){icon='file'}return icon};LBN_UTIL.isExternal=function(str){ret=0;if(str.match(/youtube\.com\/watch/i)||str.match(/vimeo\.com/i)){ret=1}return ret};LBN_UTIL.ButtonPreview=function(obj,explicit){val=$(obj).val();target=$('#'+$(obj).data('target'));type='photomanager';icon='';if(explicit){switch(explicit){case'vimeo':if($.isNumeric(val)){val=Vimeo.get_video_url(val)}else{vid=Vimeo.get_video_id(val);if(vid){val=Vimeo.get_video_url(vid)}else{icon='none'}}break;case'youtube':break}}if(icon!='none'){icon=LBN_UTIL.getType(val)}target.data('src',val);if(LBN_UTIL.isExternal(val)){type='video'}else if(icon=='photo'){}else{type=icon}if(icon=='none'){target.hide()}else{target.show().data('src',val).data('type',type).find('i').attr('class','icon-'+icon)}};LBN_UTIL.caculateTime=function(){var endTime=(new Date()).getTime();var millisecondsLoading=((endTime-LBN_UTIL.startTime)/1000)+'s.';$('#times').text(millisecondsLoading)};LBN_UTIL.displayError=function(data){if(data.error){var html=$("<div class='center'>"+data.msg+"</div>");$.lightbox(html,{width:500,height:300,modal:true});LBN_UTIL.openLoading(false);return true}};LBN_UTIL.openLoading=function(show){if(show){LBN_UTIL.startTime=(new Date()).getTime();STIME=false;$('#loading-holder').animate({"top":LAYOUT_TOP},"faster")}else{$('#loading-holder').animate({"top":"-40px"},"faster");LBN_UTIL.caculateTime()}};LBN_UTIL.ajaxLoading=function(selector){if(typeof(selector)=="undefined"){selector=LBN_GRID}$(selector).ajaxStart(LBN_UTIL.openLoading(true))};LBN_UTIL.getData=function(obj,key){return obj.attr('data-'+key)};LBN_UTIL.openMessage=function(msg,icon){if(STIME){LBN_UTIL.startTime=(new Date()).getTime()}if(typeof(msg)!="undefined"){if(!icon){icon=LBN_INFO}$.notification({title:LBN_NOTIFY_TITLE,content:msg,timeout:6000,showTime:true,icon:icon});LBN_UTIL.openLoading(false)}};LBN_UTIL.redirect=function(url){window.location.href=url};LBN_UTIL.calculatePager=function(){var obj=$(LBN_NAV.contextName);if(LBN_NAV.tab){obj=obj.parent().parent()}box=190+20;var minus=0;if(LBN_NAV.tab){minus=40}total=obj.parent().width()-minus;pager=(Math.round(total/box));return pager*LBN_NAV.rowNumber};LBN_UTIL.resizeContext=function(){var obj=$(LBN_NAV.contextName);wd=obj.parent().width();pager=LBN_UTIL.calculatePager()/LBN_NAV.rowNumber;console.log(pager);if(pager){x=((190+12)*pager)+(pager*2);obj.css('width',x+'px')}};LBN_UTIL.pageInit=function(){LBN_NAV.init();$(window).on('resize',function(){LBN_FORM.resizeHolder();if(LBN_NAV.tab){LBN_UTIL.resizeContext()}});LBN_FORM.resizeHolder();if(LBN_NAV.tab){LBN_UTIL.resizeContext()}$('body').tooltip({selector:"a[rel=tooltip],button[rel=tooltip]"});$('.page-header').tooltip({selector:"span[rel=tooltip]",placement:'left'});$("a[rel=popover]").popover({offset:10,html:true,placement:'left'}).click(function(e){e.preventDefault()});$("#oCForm").validate();if(LBN_NAV.fixed){$(window).on('scroll',LBN_NAV.processScroll)}};LBN_UTIL.changeTextInline=function(obj,id,field,table){$(obj).editable(LBN_DU,{indicator:"<img src='_img/admin/ajax-loader-small.gif'>",style:"inherit",height:18,width:200,id:'nameTitle',submitdata:{table:table,id:id,field:field,json:1},callback:function(value,settings){$('.tooltip').remove();LBN_UTIL.openMessage(LBN_STATUS_MESSAGE,LBN_SUCCESS)}})};var Vimeo={get_video_id:function(url){var match=url.match(/vimeo.com\/(\d+)($|\/)/);if(match){return match[1]}else{return false}},get_video_url:function(id){return'http://vimeo.com/'+id}};function replaceAll(text,busca,reemplaza){while(text.toString().indexOf(busca)!=-1)text=text.toString().replace(busca,reemplaza);return text};

LBN_FORM.makeBox1 = function (obj) {
				LBN_UTIL.ajaxLoading();
				var aParam = new Array();
				aParam[0] = "table=" + LBN_TABLE1.tableName;
				aParam[1] = $(obj).data('params');
				var jqxhr = $.getJSON(LBN_DI, aParam.join('&'));
				jqxhr.success(function (data) {
					LBN_TABLE1.table.fnStandingRedraw()
					LBN_UTIL.openMessage(LBN_FORM_CREATE_MESSAGE, LBN_SUCCESS)
				});
				jqxhr.complete(function () {})
			};			

LBN_TABLE1 = {
    enabled: 2,
    params: [{
        "name": "enabled",
        "value": 2
    }, {
        "name": "type",
        "value": "none"
    }],
    bDom: false,
    table: null,
    tableName: null,
    type: null,
    columnHide: [],
    buttonExport: ["csv", "xls"],
    bAutoWidth: false,
    bFilter: true,
    bLengthChange: true
};
LBN_TABLE1.init = function (column, extra) {
    var aParam = new Array();
    aParam[0] = "column=" + column;
    aParam[1] = "table=" + this.tableName;
    aParam[2] = extra;
    this.table = $('#table-item1').dataTable({
        "bProcessing": true,
        "bServerSide": true,
        "bPaginate": true,
        "bStateSave": false,
        "bLengthChange": LBN_TABLE.bLengthChange,
        "bFilter": LBN_TABLE.bFilter,
        "bAutoWidth": LBN_TABLE1.bAutoWidth,
        "bSort": false,
        "aLengthMenu": [
            [10, 25, 50, 100, - 1],
            [10, 25, 50, 100, "All"]
        ],
        "aoColumnDefs": [{
            "bVisible": false,
            "aTargets": LBN_TABLE.columnHide
        }],
        "sDom": LBN_TABLE.dom(),
        "sPaginationType": "bootstrap",
        "oLanguage": {
            "sLengthMenu": "_MENU_",
            "sSearch": ""
        },
        "oTableTools": {
            "aButtons": [{
                "sExtends": "collection",
                "sButtonText": LBN_TABLE_EXPORT,
                "aButtons": LBN_TABLE.buttonExport
            }]
        },
        "oColVis": {
            "buttonText": "&nbsp;",
            "bRestore": true,
            "sAlign": "right"
        },
        "fnInitComplete": function () {},
        "fnDrawCallback": function () {
            var oSettings = LBN_TABLE.table.fnSettings();
            $('.page-header .count').html(oSettings._iRecordsTotal + '<span>items</span>');
            LBN_TABLE1.reset(oSettings.oFeatures.bPaginate);
            LBN_UTIL.openLoading(false)
        },
        "sAjaxSource": LBN_DT + "?" + aParam.join("&"),
        "fnServerData": function (sSource, aoData, fnCallback) {
            LBN_UTIL.ajaxLoading();
            aoData = $.merge(aoData, LBN_TABLE.params);
            $.ajax({
                "dataType": 'json',
                "type": "GET",
                "url": sSource,
                "data": aoData,
                "success": fnCallback
            })
        }
    })
};
LBN_TABLE1.dom = function () {
    var sDom = "<'row'<'span4'l><'span6'f>r>t<'row'<'span4'i><'span6'p>>";
    if (this.bDom) {
        sDom = "<'row'<'span4 button-left'l><'span8 button-right' fT>r><'relative' C t ><'row'<'span4 button-left'i><'span8 button-right'p>>"
    }
    return sDom
};
LBN_TABLE1.reset = function (umask) {
    $('#nav-bubble').hide();
    LBN_TABLE1.reloadHover();
    if (umask) {
        $('.dataTables_wrapper').unmask()
    }
};
LBN_TABLE1.overBox = function () {
    $(this).find('.action-holder').css('visibility', 'visible')
};
LBN_TABLE1.leaveBox = function () {
    $(this).find('.action-holder').css('visibility', 'hidden')
};
LBN_TABLE1.reloadHover = function () {
    tableContext = "#table-item1 tbody tr";
    $(tableContext).hover(LBN_TABLE1.overBox, LBN_TABLE1.leaveBox)
};
LBN_TABLE1.removeItem = function (obj) {
    var obj = $(obj);
    $.msgbox(LBN_TABLE_REMOVE, {
        type: "confirm"
    }, function (result) {
        if (result) {
            var del = $.get(LBN_DD, {
                table: LBN_TABLE.tableName,
                id: obj.data('id')
            });
            del.success(function (data) {
                LBN_TABLE1.table.fnStandingRedraw()
            })
        }
    })
};
LBN_TABLE1.filter = function () {
    var aParam = new Array();
    var i = 0;
    $('.page-header-sub .btn-toolbar .filter').each(function () {
        var obj = $(this).find('.active');
        aParam.push({
            "name": obj.data('field'),
            "value": obj.data('value')
        })
    });
    LBN_TABLE1.params = aParam;
    LBN_NAV.reset();
    $('.dataTables_wrapper').mask();
    this.table.fnStandingRedraw();
    LBN_MEDIA.getCount()
};

var LBN_NAV1 = {};
LBN_NAV1.sortable = function () {
    var settings = {
        cursor: 'move',
        helper: 'clone',
        opacity: 0.85,
        revert: true,
        tolerance: 'pointer'
    };
        var todo = $("#table-item1 tbody");
        $("#table-item1").find('tbody').remove();
        $("#table-item1").append(todo);
        settings.forcePlaceholderSize = true;
        settings.update = function (event, ui) {
            data = '';
            LBN_UTIL.ajaxLoading();
            tableContext = "#table-item1 tbody input:checkbox";
            $(tableContext).each(function (i) {
                data += '&item[]=' + $(this).attr('id')
            });
            $.post(LBN_DO, data + '&table=' + LBN_TABLE1.tableName, function (response) {
                LBN_UTIL.openMessage(LBN_SORT_MESSAGE, LBN_SORT);
                LBN_TABLE1.table.fnStandingRedraw()
            })
        };
        return $("#table-item1 tbody").sortable(settings).disableSelection()
};
LBN_NAV1.sortToggle = function (id) {
    if ($(id).hasClass('active')) {
        inactiveSort1(id)
    } else {
        activeSort1(id)
    }
};

function activeSort1(id) {
    $(id).toggleClass('btn-info').toggleClass('active').find('i').toggleClass('icon-white');
       LBN_TABLE1.table.fnSPaginate(false);
        $('.nav-mask,#table-item1 td .action-holder').mask();
        $('.dataTables_wrapper .row').hide();
        LBN_NAV1.sortable()
};

function inactiveSort1(id) {
    $(id).toggleClass('btn-info').toggleClass('active').find('i').toggleClass('icon-white');
    LBN_TABLE1.table.fnSPaginate(true);
    $('.nav-mask,#table-item1 td .action-holder').unmask();
    $('.dataTables_wrapper .row').show();
    $("#table-item1 tbody").sortable("destroy")
};


(function(d){var k=0;d.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:null,hide:null,autoOpen:!1,multiple:!0,position:{}},_create:function(){var a=this.element.hide(),b=this.options;this.speed=d.fx.speeds._default;this._isOpen=!1;a=(this.button=d('<button type="button"><span class="ui-icon ui-icon-triangle-2-n-s"></span></button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(b.classes).attr({title:a.attr("title"),"aria-haspopup":!0,tabIndex:a.attr("tabIndex")}).insertAfter(a);(this.buttonlabel=d("<span />")).html(b.noneSelectedText).appendTo(a);var a=(this.menu=d("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(b.classes).appendTo(document.body),c=(this.header=d("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(a);(this.headerLinkContainer=d("<ul />")).addClass("ui-helper-reset").html(function(){return!0===b.header?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+b.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+b.uncheckAllText+"</span></a></li>":"string"===typeof b.header?"<li>"+b.header+"</li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(c);(this.checkboxContainer=d("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(a);this._bindEvents();this.refresh(!0);b.multiple||a.addClass("ui-multiselect-single")},_init:function(){!1===this.options.header&&this.header.hide();this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide();this.options.autoOpen&&this.open();this.element.is(":disabled")&&this.disable()},refresh:function(a){var b=this.element,c=this.options,f=this.menu,h=this.checkboxContainer,g=[],e="",i=b.attr("id")||k++;b.find("option").each(function(b){d(this);var a=this.parentNode,f=this.innerHTML,h=this.title,k=this.value,b="ui-multiselect-"+(this.id||i+"-option-"+b),l=this.disabled,n=this.selected,m=["ui-corner-all"],o=(l?"ui-multiselect-disabled ":" ")+this.className,j;"OPTGROUP"===a.tagName&&(j=a.getAttribute("label"),-1===d.inArray(j,g)&&(e+='<li class="ui-multiselect-optgroup-label '+a.className+'"><a href="#">'+j+"</a></li>",g.push(j)));l&&m.push("ui-state-disabled");n&&!c.multiple&&m.push("ui-state-active");e+='<li class="'+o+'">';e+='<label for="'+b+'" title="'+h+'" class="'+m.join(" ")+'">';e+='<input id="'+b+'" name="multiselect_'+i+'" type="'+(c.multiple?"checkbox":"radio")+'" value="'+k+'" title="'+f+'"';n&&(e+=' checked="checked"',e+=' aria-selected="true"');l&&(e+=' disabled="disabled"',e+=' aria-disabled="true"');e+=" /><span>"+f+"</span></label></li>"});h.html(e);this.labels=f.find("label");this.inputs=this.labels.children("input");this._setButtonWidth();this._setMenuWidth();this.button[0].defaultValue=this.update();a||this._trigger("refresh")},update:function(){var a=this.options,b=this.inputs,c=b.filter(":checked"),f=c.length,a=0===f?a.noneSelectedText:d.isFunction(a.selectedText)?a.selectedText.call(this,f,b.length,c.get()):/\d/.test(a.selectedList)&&0<a.selectedList&&f<=a.selectedList?c.map(function(){return d(this).next().html()}).get().join(", "):a.selectedText.replace("#",f).replace("#",b.length);this.buttonlabel.html(a);return a},_bindEvents:function(){function a(){b[b._isOpen? "close":"open"]();return!1}var b=this,c=this.button;c.find("span").bind("click.multiselect",a);c.bind({click:a,keypress:function(a){switch(a.which){case 27:case 38:case 37:b.close();break;case 39:case 40:b.open()}},mouseenter:function(){c.hasClass("ui-state-disabled")||d(this).addClass("ui-state-hover")},mouseleave:function(){d(this).removeClass("ui-state-hover")},focus:function(){c.hasClass("ui-state-disabled")||d(this).addClass("ui-state-focus")},blur:function(){d(this).removeClass("ui-state-focus")}});this.header.delegate("a","click.multiselect",function(a){if(d(this).hasClass("ui-multiselect-close"))b.close();else b[d(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"]();a.preventDefault()});this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(a){a.preventDefault();var c=d(this),g=c.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),e=g.get(),c=c.parent().text();!1!==b._trigger("beforeoptgrouptoggle",a,{inputs:e,label:c})&&(b._toggleChecked(g.filter(":checked").length!==g.length,g),b._trigger("optgrouptoggle",a,{inputs:e,label:c,checked:e[0].checked}))}).delegate("label","mouseenter.multiselect",function(){d(this).hasClass("ui-state-disabled")||(b.labels.removeClass("ui-state-hover"),d(this).addClass("ui-state-hover").find("input").focus())}).delegate("label","keydown.multiselect",function(a){a.preventDefault();switch(a.which){case 9:case 27:b.close();break;case 38:case 40:case 37:case 39:b._traverse(a.which,this);break;case 13:d(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(a){var c=d(this),g=this.value,e=this.checked,i=b.element.find("option");this.disabled||!1===b._trigger("click",a,{value:g,text:this.title,checked:e})?a.preventDefault():(c.focus(),c.attr("aria-selected",e),i.each(function(){this.value===g?this.selected=e:b.options.multiple||(this.selected=!1)}),b.options.multiple||(b.labels.removeClass("ui-state-active"),c.closest("label").toggleClass("ui-state-active",e),b.close()),b.element.trigger("change"),setTimeout(d.proxy(b.update,b),10))});d(document).bind("mousedown.multiselect",function(a){b._isOpen&&(!d.contains(b.menu[0],a.target)&&!d.contains(b.button[0],a.target)&&a.target!==b.button[0])&&b.close()});d(this.element[0].form).bind("reset.multiselect",function(){setTimeout(d.proxy(b.refresh,b),10)})},_setButtonWidth:function(){var a=this.element.outerWidth(),b=this.options;/\d/.test(b.minWidth)&&a<b.minWidth&&(a=b.minWidth);this.button.width(a)},_setMenuWidth:function(){var a=this.menu,b=this.button.outerWidth()-parseInt(a.css("padding-left"),10)-parseInt(a.css("padding-right"),10)-parseInt(a.css("border-right-width"),10)-parseInt(a.css("border-left-width"),10);a.width(b||this.button.outerWidth())},_traverse:function(a,b){var c=d(b),f=38===a||37===a,c=c.parent()[f?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[f?"last":"first"]();c.length?c.find("label").trigger("mouseover"):(c=this.menu.find("ul").last(),this.menu.find("label")[f? "last":"first"]().trigger("mouseover"),c.scrollTop(f?c.height():0))},_toggleState:function(a,b){return function(){this.disabled||(this[a]=b);b?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(a,b){var c=b&&b.length?b:this.inputs,f=this;c.each(this._toggleState("checked",a));c.eq(0).focus();this.update();var h=c.map(function(){return this.value}).get();this.element.find("option").each(function(){!this.disabled&&-1<d.inArray(this.value,h)&&f._toggleState("selected",a).call(this)});c.length&&this.element.trigger("change")},_toggleDisabled:function(a){this.button.attr({disabled:a,"aria-disabled":a})[a?"addClass":"removeClass"]("ui-state-disabled");var b=this.menu.find("input"),b=a?b.filter(":enabled").data("ech-multiselect-disabled",!0):b.filter(function(){return!0===d.data(this,"ech-multiselect-disabled")}).removeData("ech-multiselect-disabled");b.attr({disabled:a,"arial-disabled":a}).parent()[a?"addClass":"removeClass"]("ui-state-disabled");this.element.attr({disabled:a,"aria-disabled":a})},open:function(){var a=this.button,b=this.menu,c=this.speed,f=this.options,h=[];if(!(!1===this._trigger("beforeopen")||a.hasClass("ui-state-disabled")||this._isOpen)){var g=b.find("ul").last(),e=f.show,i=a.offset();d.isArray(f.show)&&(e=f.show[0],c=f.show[1]||this.speed);e&&(h=[e,c]);g.scrollTop(0).height(f.height);d.ui.position&&!d.isEmptyObject(f.position)?(f.position.of=f.position.of||a,b.show().position(f.position).hide()):b.css({top:i.top+a.outerHeight(),left:i.left});d.fn.show.apply(b,h);this.labels.eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus");a.addClass("ui-state-active");this._isOpen=!0;this._trigger("open")}},close:function(){if(!1!==this._trigger("beforeclose")){var a=this.options,b=a.hide,c=this.speed,f=[];d.isArray(a.hide)&&(b=a.hide[0],c=a.hide[1]||this.speed);b&&(f=[b,c]);d.fn.hide.apply(this.menu,f);this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave");this._isOpen=!1;this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},disable:function(){this._toggleDisabled(!0)},checkAll:function(){this._toggleChecked(!0);this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1);this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter(":checked")},destroy:function(){d.Widget.prototype.destroy.call(this);this.button.remove();this.menu.remove();this.element.show();return this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},getButton:function(){return this.button},_setOption:function(a,b){var c=this.menu;switch(a){case "header":c.find("div.ui-multiselect-header")[b?"show":"hide"]();break;case "checkAllText":c.find("a.ui-multiselect-all span").eq(-1).text(b);break;case "uncheckAllText":c.find("a.ui-multiselect-none span").eq(-1).text(b);break;case "height":c.find("ul").last().height(parseInt(b,10));break;case "minWidth":this.options[a]=parseInt(b,10);this._setButtonWidth();this._setMenuWidth();break;case "selectedText":case "selectedList":case "noneSelectedText":this.options[a]=b;this.update();break;case "classes":c.add(this.button).removeClass(this.options.classes).addClass(b);break;case "multiple":c.toggleClass("ui-multiselect-single",!b),this.options.multiple=b,this.element[0].multiple=b,this.refresh()}d.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery);

(function(a){var f=/[\-\[\]{}()*+?.,\\\^$|#\s]/g;a.widget("ech.multiselectfilter",{options:{label:"Filter:",width:null,placeholder:"Enter keywords",autoReset:!1},_create:function(){var e;var b=this,c=this.options,d=this.instance=a(this.element).data("multiselect");this.header=d.menu.find(".ui-multiselect-header").addClass("ui-multiselect-hasfilter");e=this.wrapper=a('<div class="ui-multiselect-filter">'+(c.label.length?c.label:"")+'<input placeholder="'+c.placeholder+'" type="search"'+(/\d/.test(c.width)?  'style="width:'+c.width+'px"':"")+" /></div>").prependTo(this.header),c=e;this.inputs=d.menu.find('input[type="checkbox"], input[type="radio"]');this.input=c.find("input").bind({keydown:function(a){13===a.which&&a.preventDefault()},keyup:a.proxy(b._handler,b),click:a.proxy(b._handler,b)});this.updateCache();d._toggleChecked=function(c,d){var e=d&&d.length?d:this.labels.find("input"),i=this,e=e.not(b.instance._isOpen?":disabled, :hidden":":disabled").each(this._toggleState("checked",c));this.update(); var j=e.map(function(){return this.value}).get();this.element.find("option").filter(function(){!this.disabled&&-1<a.inArray(this.value,j)&&i._toggleState("selected",c).call(this)})};d=a(document).bind("multiselectrefresh",function(){b.updateCache();b._handler()});this.options.autoReset&&d.bind("multiselectclose",a.proxy(this._reset,this))},_handler:function(b){var c=a.trim(this.input[0].value.toLowerCase()),d=this.rows,g=this.inputs,h=this.cache;if(c){d.hide();var e=RegExp(c.replace(f,"\\$&"),"gi"); this._trigger("filter",b,a.map(h,function(a,b){return-1!==a.search(e)?(d.eq(b).show(),g.get(b)):null}))}else d.show();this.instance.menu.find(".ui-multiselect-optgroup-label").each(function(){var b=a(this),c=b.nextUntil(".ui-multiselect-optgroup-label").filter(function(){return"none"!==a.css(this,"display")}).length;b[c?"show":"hide"]()})},_reset:function(){this.input.val("").trigger("keyup")},updateCache:function(){this.rows=this.instance.menu.find(".ui-multiselect-checkboxes li:not(.ui-multiselect-optgroup-label)");this.cache=this.element.children().map(function(){var b=a(this);"optgroup"===this.tagName.toLowerCase()&&(b=b.children());return b.map(function(){return this.innerHTML.toLowerCase()}).get()}).get()},widget:function(){return this.wrapper},destroy:function(){a.Widget.prototype.destroy.call(this);this.input.val("").trigger("keyup");this.wrapper.remove()}})})(jQuery);

LBN_MEDIA.customUpdateStatus = function (btn,setting){
	var aParam = new Array();
	aParam[0]= 'field=' + $(btn).data('field');
	aParam[1]= "table=" + LBN_TABLE.tableName;
	aParam[2]= 'id=' + $(btn).data('id');
	LBN_UTIL.ajaxLoading();
	var jqxhr = $.getJSON(LBN_DU, aParam.join('&'));
	jqxhr.success(function(data) {	
		var elem = $('#'+data.event+'-'+data.id);
		(data.enabled!=0)? elem.html(data.success).addClass(data.class):elem.html(data.nosuccess).removeClass(data.class);
		LBN_NAV.reset();
		LBN_UTIL.openMessage(LBN_STATUS_MESSAGE,LBN_SUCCESS);			
	});	
	return false;
};
